{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Bienvenue sur le site de Documentation TSSR2023.","text":"<p>N'h\u00e9sitez pas \u00e0 envoyer vos cours sur Teams ; ils seront publi\u00e9s.</p>"},{"location":"#methodes","title":"Methodes","text":"<ul> <li>Envoyez vos cours en .md.</li> <li>Ne partagez pas de contenus sensibles (nom, IP, infos perso, etc.).</li> <li>\"L'union fait la force.\"</li> </ul>"},{"location":"#merci","title":"Merci","text":""},{"location":"Cours_partag%C3%A9/AV/GITHUB/SSH_et_GITHUB/","title":"Cr\u00e9er une cl\u00e9 SSH et la lier \u00e0 GitHub et au d\u00e9p\u00f4t local","text":""},{"location":"Cours_partag%C3%A9/AV/GITHUB/SSH_et_GITHUB/#creation-de-la-cle-ssh","title":"Cr\u00e9ation de la cl\u00e9 SSH","text":"<ol> <li> <p>G\u00e9n\u00e9rez une nouvelle cl\u00e9 SSH:    <code>ssh-keygen -t rsa -b 4096 -C \"your_email@example.com\"</code>    Remplacez \"your_email@example.com\" par votre adresse e-mail. Suivez les \u00e9tapes, et appuyez sur Entr\u00e9e pour accepter les valeurs par d\u00e9faut.</p> </li> <li> <p>Assurez-vous que le ssh-agent est en cours d'ex\u00e9cution:    <code>eval \"$(ssh-agent -s)\"</code></p> </li> <li> <p>Ajoutez votre cl\u00e9 SSH au ssh-agent:    <code>ssh-add ~/.ssh/id_rsa</code></p> </li> <li>Explication</li> </ol> <p>ssh-keygen: C'est la commande principale pour la g\u00e9n\u00e9ration de cl\u00e9s SSH.</p> <p>-t rsa: Cet argument sp\u00e9cifie le type de cl\u00e9 \u00e0 cr\u00e9er. Dans ce cas, vous avez choisi RSA (Rivest-Shamir-Adleman), qui est un algorithme de chiffrement asym\u00e9trique largement utilis\u00e9.</p> <p>-b 4096: Cet argument d\u00e9finit la taille de la cl\u00e9 en bits. Ici, la taille de la cl\u00e9 est de 4096 bits, ce qui est consid\u00e9r\u00e9 comme \u00e9tant tr\u00e8s s\u00e9curis\u00e9. Par d\u00e9faut, si vous n'indiquez pas la taille de la cl\u00e9 avec -b, la taille sera de 3072 bits pour RSA (dans les versions plus r\u00e9centes de SSH), mais cela peut varier selon la version et la configuration.</p> <p>-C: Cet argument permet de fournir un commentaire qui est attach\u00e9 \u00e0 la cl\u00e9. Habituellement, le commentaire est utilis\u00e9 pour identifier la cl\u00e9, par exemple avec une adresse e-mail ou le nom de l'utilisateur. Apr\u00e8s -C, vous devriez normalement fournir une valeur pour le commentaire, par exemple : ssh-keygen -t rsa -b 4096 -C \"votre.email@example.com\".</p> <p>En utilisant cette commande, vous g\u00e9n\u00e9rerez une paire de cl\u00e9s : une cl\u00e9 priv\u00e9e (normalement appel\u00e9e id_rsa par d\u00e9faut) et une cl\u00e9 publique (normalement appel\u00e9e id_rsa.pub par d\u00e9faut). La cl\u00e9 priv\u00e9e doit \u00eatre gard\u00e9e secr\u00e8te et prot\u00e9g\u00e9e, tandis que la cl\u00e9 publique peut \u00eatre partag\u00e9e ou ajout\u00e9e \u00e0 des serveurs pour permettre une authentification sans mot de passe. </p>"},{"location":"Cours_partag%C3%A9/AV/GITHUB/SSH_et_GITHUB/#lier-la-cle-ssh-a-github","title":"Lier la cl\u00e9 SSH \u00e0 GitHub","text":"<ol> <li> <p>Installez xclip (pour copier la cl\u00e9 publique dans le presse-papiers) :    <code>sudo apt-get install xclip</code>    Si vous n'utilisez pas une distribution bas\u00e9e sur Debian, adaptez la commande \u00e0 votre gestionnaire de paquets.</p> </li> <li> <p>Copiez la cl\u00e9 publique dans votre presse-papiers:    <code>xclip -sel clip &lt; ~/.ssh/id_rsa.pub</code></p> </li> <li> <p>Connectez-vous \u00e0 votre compte GitHub et allez dans <code>Settings</code>.</p> </li> <li> <p>Dans le menu de gauche, cliquez sur SSH and GPG keys.</p> </li> <li> <p>Cliquez sur New SSH key, donnez-lui un titre descriptif (par exemple, \"Mon PC personnel\") et collez votre cl\u00e9 dans le champ \"Key\".</p> </li> <li> <p>Cliquez sur Add SSH key.</p> </li> </ol>"},{"location":"Cours_partag%C3%A9/AV/GITHUB/SSH_et_GITHUB/#lier-la-cle-ssh-au-depot-local","title":"Lier la cl\u00e9 SSH au d\u00e9p\u00f4t local","text":"<ol> <li>Si vous avez d\u00e9j\u00e0 un d\u00e9p\u00f4t local associ\u00e9 \u00e0 GitHub via HTTPS, vous devrez changer l'URL du d\u00e9p\u00f4t pour utiliser SSH. Voici comment faire :</li> </ol> <p><code>git remote set-url origin git@github.com:USERNAME/REPO.git</code>    Remplacez <code>USERNAME</code> par votre nom d'utilisateur GitHub et <code>REPO</code> par le nom de votre d\u00e9p\u00f4t.</p> <ol> <li>Maintenant, vous pouvez push, pull et clone en utilisant SSH sans avoir \u00e0 saisir votre nom d'utilisateur et votre mot de passe \u00e0 chaque fois !</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/GITHUB/mkdocs_et_github/","title":"Mini site avec GitHub et MkDocs","text":""},{"location":"Cours_partag%C3%A9/AV/GITHUB/mkdocs_et_github/#initialisation-de-git","title":"Initialisation de Git","text":"<ol> <li> <p>Initialisez le r\u00e9pertoire actuel avec Git:    <code>git init</code></p> </li> <li> <p>Configurez votre nom d'utilisateur et votre adresse e-mail pour Git:    <code>git config user.name \"mon prenom\"    git config user.email \"monemail@mail.com\"</code></p> </li> <li> <p>V\u00e9rifiez le statut du r\u00e9pertoire:    <code>git status</code></p> </li> <li> <p>Ajoutez un dossier pour le commit:    <code>git add mondossier/</code></p> </li> <li> <p>Cr\u00e9ez un commit:    <code>git commit -m 'nomducommit'</code></p> </li> <li> <p>Consultez l'historique des commits:    <code>git log</code></p> </li> </ol>"},{"location":"Cours_partag%C3%A9/AV/GITHUB/mkdocs_et_github/#publier-sur-github","title":"Publier sur GitHub","text":"<ol> <li> <p>Cr\u00e9ez un nouveau d\u00e9p\u00f4t sur GitHub. Donnez-lui un nom et configurez les options appropri\u00e9es.</p> </li> <li> <p>Une fois le d\u00e9p\u00f4t cr\u00e9\u00e9, liez-le \u00e0 votre projet local:    <code>git remote add origin \"adresse du d\u00e9p\u00f4t\"    git push -u origin main</code></p> </li> </ol>"},{"location":"Cours_partag%C3%A9/AV/GITHUB/mkdocs_et_github/#creation-du-site-avec-mkdocs","title":"Cr\u00e9ation du site avec MkDocs","text":""},{"location":"Cours_partag%C3%A9/AV/GITHUB/mkdocs_et_github/#configuration-de-lenvironnement","title":"Configuration de l'environnement","text":"<ol> <li> <p>Installez python3-pip et python3-venv.</p> </li> <li> <p>Cr\u00e9ez un environnement virtuel:    <code>python3 -m venv .venv</code></p> </li> <li> <p>Pour \u00e9viter que Git suive le dossier .venv, cr\u00e9ez un fichier .gitignore dans le dossier racine du projet avec le contenu suivant:    <code>.venv/</code></p> </li> <li> <p>Ajoutez et validez ce fichier:    <code>git add .gitignore    git commit -m 'build: add .gitignore'</code></p> </li> <li> <p>Activez l'environnement virtuel:    <code>source .venv/bin/activate</code></p> </li> </ol>"},{"location":"Cours_partag%C3%A9/AV/GITHUB/mkdocs_et_github/#installation-et-utilisation-de-mkdocs","title":"Installation et utilisation de MkDocs","text":"<ol> <li> <p>Installez MkDocs:    <code>pip install mkdocs</code></p> </li> <li> <p>Cr\u00e9ez un nouveau projet MkDocs dans le r\u00e9pertoire courant:    <code>mkdocs new .</code></p> </li> <li> <p>Lancez la documentation en local:    <code>mkdocs serve</code></p> </li> <li> <p>Modifiez le fichier de configuration <code>mkdocs.yml</code> pour y indiquer le nom de votre site:    <code>sitename: monsite</code></p> </li> <li> <p>Ajoutez les modifications locales au d\u00e9p\u00f4t:    <code>git add .    git commit -m \"Description du commit\"    git push origin main</code></p> </li> <li> <p>D\u00e9ployez la documentation sur GitHub Pages:    <code>mkdocs gh-deploy</code></p> </li> <li> <p>Pour consulter votre site, allez sur GitHub, puis dans \"Settings\" -&gt; \"Pages\". Vous trouverez le lien vers votre documentation h\u00e9berg\u00e9e.</p> </li> </ol>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_Crontab/","title":"Guide Avanc\u00e9 pour l'Utilisation de <code>crontab</code> sous Linux","text":"<p>Le syst\u00e8me <code>cron</code> est un planificateur de t\u00e2ches qui permet aux utilisateurs de Linux d'ex\u00e9cuter des commandes ou des scripts \u00e0 des moments pr\u00e9d\u00e9finis ou \u00e0 des intervalles r\u00e9guliers.</p>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_Crontab/#1-syntaxe-de-base","title":"1. Syntaxe de base","text":"<p>Le format d'une entr\u00e9e <code>crontab</code> est le suivant :</p> <pre><code>* * * * * /chemin/vers/la/commande arguments\n</code></pre> <p>Chaque champ est d\u00e9taill\u00e9 ci-dessous : - Minute (0 - 59) - Heure (0 - 23) - Jour du mois (1 - 31) - Mois (1 - 12) - Jour de la semaine (0 - 7) (0 et 7 sont tous les deux pour dimanche)</p>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_Crontab/#2-exemples-dutilisation","title":"2. Exemples d'utilisation","text":"<ul> <li>Ex\u00e9cuter un script tous les jours \u00e0 2h30 du matin :</li> </ul> <pre><code>30 2 * * * /chemin/vers/le/script.sh\n</code></pre> <ul> <li>Ex\u00e9cuter une t\u00e2che toutes les 5 minutes :</li> </ul> <pre><code>*/5 * * * * /chemin/vers/la/commande\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_Crontab/#3-commandes-utiles","title":"3. Commandes utiles","text":"<ul> <li>\u00c9diter le fichier crontab pour l'utilisateur actuel :</li> </ul> <pre><code>crontab -e\n</code></pre> <ul> <li>Afficher le contenu du crontab pour l'utilisateur actuel :</li> </ul> <pre><code>crontab -l\n</code></pre> <ul> <li>Supprimer le crontab de l'utilisateur actuel :</li> </ul> <pre><code>crontab -r\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_Crontab/#4-gestion-des-logs-avec-logrotate","title":"4. Gestion des logs avec <code>logrotate</code>","text":"<p>Lorsque vos scripts ou t\u00e2ches g\u00e9n\u00e8rent des logs, ceux-ci peuvent rapidement consommer tout l'espace disque disponible. <code>logrotate</code> est un utilitaire pour simplifier l'administration des logs. </p>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_Crontab/#a-configuration","title":"a. Configuration","text":"<p><code>logrotate</code> utilise un fichier de configuration pour d\u00e9finir la mani\u00e8re dont les logs doivent \u00eatre tourn\u00e9s.</p> <p>Exemple de fichier de configuration :</p> <pre><code>/chemin/vers/les/logs/*.log {\n    daily\n    rotate 7\n    compress\n    delaycompress\n    missingok\n    notifempty\n    create 0640 user group\n    postrotate\n        /chemin/vers/un/script/apr\u00e8s/rotation\n    endscript\n}\n</code></pre> <p>Explication des directives : - <code>daily</code> : Faire tourner les logs chaque jour. - <code>rotate 7</code> : Conserver 7 archives des logs. - <code>compress</code> : Compresser les logs. - <code>delaycompress</code> : Compresser le log une fois que la prochaine rotation est termin\u00e9e. - <code>missingok</code> : Ne pas \u00e9mettre d'erreur si un log est manquant. - <code>notifempty</code> : Ne pas faire tourner le log s'il est vide. - <code>create</code> : Cr\u00e9er un nouveau fichier log avec les permissions sp\u00e9cifi\u00e9es. - <code>postrotate</code>/<code>endscript</code> : Ex\u00e9cuter le script sp\u00e9cifi\u00e9 apr\u00e8s avoir fait tourner les logs.</p>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_Crontab/#b-execution","title":"b. Ex\u00e9cution","text":"<p>Bien que <code>logrotate</code> puisse \u00eatre ex\u00e9cut\u00e9 manuellement, il est g\u00e9n\u00e9ralement ex\u00e9cut\u00e9 via <code>cron</code>. Une t\u00e2che typique pourrait ressembler \u00e0 :</p> <pre><code>0 0 * * * /usr/sbin/logrotate /etc/logrotate.conf\n</code></pre> <p>Cette commande ex\u00e9cuterait <code>logrotate</code> chaque jour \u00e0 minuit en utilisant la configuration sp\u00e9cifi\u00e9e dans <code>/etc/logrotate.conf</code>.</p>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_Crontab/#ressource","title":"ressource","text":"<p>https://crontab.guru/ \u00c9diteur rapide et simple pour les expressions de planification cron - by Cronitor</p>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_information_system_LINUX/","title":"Guide Avanc\u00e9 sur les Informations Syst\u00e8me sur GNU/Linux","text":"<p>Ce guide couvre diverses m\u00e9thodes et outils pour obtenir des informations d\u00e9taill\u00e9es sur votre syst\u00e8me Linux.</p>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_information_system_LINUX/#1-architecture-et-os","title":"1. Architecture et OS","text":"<ul> <li> <p>Obtenir des informations sur l'architecture du syst\u00e8me :   <code>uname -m</code></p> </li> <li> <p>Afficher des informations d\u00e9taill\u00e9es sur le syst\u00e8me d'exploitation :   <code>uname -a</code></p> </li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_information_system_LINUX/#2-disque-dur-et-partitions","title":"2. Disque Dur et Partitions","text":"<ul> <li> <p>Lister les partitions et leur taille :   <code>fdisk -l</code></p> </li> <li> <p>Afficher l'espace utilis\u00e9 et disponible pour chaque partition :   <code>df -h</code></p> </li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_information_system_LINUX/#3-ram-et-swap","title":"3. RAM et SWAP","text":"<ul> <li>Voir l'utilisation actuelle de la m\u00e9moire RAM et SWAP :   <code>free -h</code></li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_information_system_LINUX/#4-processeur","title":"4. Processeur","text":"<ul> <li>Afficher des informations d\u00e9taill\u00e9es sur le CPU :   <code>lscpu</code></li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_information_system_LINUX/#5-peripheriques","title":"5. P\u00e9riph\u00e9riques","text":"<ul> <li> <p>Lister tous les p\u00e9riph\u00e9riques connect\u00e9s :   <code>lspci</code></p> </li> <li> <p>Afficher les p\u00e9riph\u00e9riques USB connect\u00e9s :   <code>lsusb</code></p> </li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_information_system_LINUX/#6-reseau","title":"6. R\u00e9seau","text":"<ul> <li> <p>Afficher toutes les interfaces r\u00e9seau actives :   <code>ifconfig</code></p> </li> <li> <p>V\u00e9rifier les connexions r\u00e9seau actives :   <code>netstat -tuln</code></p> </li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_information_system_LINUX/#7-informations-sur-la-distribution","title":"7. Informations sur la Distribution","text":"<ul> <li>V\u00e9rifier la version de la distribution (pour les distributions bas\u00e9es sur Debian) :   <code>lsb_release -a</code></li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_information_system_LINUX/#8-journaux-systeme","title":"8. Journaux Syst\u00e8me","text":"<ul> <li> <p>Afficher les derni\u00e8res entr\u00e9es du journal syst\u00e8me :   <code>dmesg | tail</code></p> </li> <li> <p>Suivre le journal syst\u00e8me en temps r\u00e9el :   <code>tail -f /var/log/syslog</code></p> </li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_information_system_LINUX/#conclusion","title":"Conclusion","text":"<p>consulter les pages de manuel (<code>man &lt;commande&gt;</code>) pour chaque outil pour obtenir des d\u00e9tails et des options suppl\u00e9mentaires.</p> <p>AV2023</p>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/","title":"Guide de Veille et Journalisation sur GNU/Linux","text":"<p>La capacit\u00e9 \u00e0 surveiller et \u00e0 journaliser l'activit\u00e9 d'un syst\u00e8me est cruciale pour sa s\u00e9curit\u00e9 et sa maintenance. Dans ce guide, nous couvrirons les bases de la collecte d'informations sur le syst\u00e8me et des techniques de veille et de journalisation.</p>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#1-informations-sur-le-systeme","title":"1. Informations sur le syst\u00e8me","text":""},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#a-memoire-et-charge-systeme","title":"a. M\u00e9moire et Charge Syst\u00e8me","text":"<ul> <li>Utilisez <code>free -h</code> pour afficher des informations sur la RAM et la m\u00e9moire SWAP.</li> <li><code>top</code> ou <code>htop</code> (si install\u00e9) montrent la charge du syst\u00e8me et les processus en cours.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#b-informations-sur-le-processeur","title":"b. Informations sur le processeur","text":"<ul> <li><code>lscpu</code> affiche des d\u00e9tails sur le(s) processeur(s).</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#c-espace-disque","title":"c. Espace disque","text":"<ul> <li><code>df -h</code> montre l'espace disque utilis\u00e9 et disponible pour tous les syst\u00e8mes de fichiers mont\u00e9s.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#2-veille-systeme","title":"2. Veille syst\u00e8me","text":""},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#a-journaux-systeme-avec-journalctl","title":"a. Journaux syst\u00e8me avec <code>journalctl</code>","text":"<ul> <li><code>journalctl</code> est l'outil principal pour interroger le journal syst\u00e8me <code>systemd</code>.</li> <li>Pour afficher tous les journaux: <code>journalctl</code></li> <li>Pour afficher les journaux pour une unit\u00e9 sp\u00e9cifique: <code>journalctl -u nom_du_service</code></li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#b-audit-du-systeme-avec-auditd","title":"b. Audit du syst\u00e8me avec <code>auditd</code>","text":"<ul> <li><code>auditd</code> est le d\u00e9mon d'audit des utilisateurs et des processus. Il est essentiel pour surveiller l'acc\u00e8s aux fichiers et d'autres activit\u00e9s suspectes.</li> <li>Pour v\u00e9rifier les journaux d'audit: <code>ausearch</code> et <code>aureport</code>.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#c-logs-de-connexion-et-dauthentification","title":"c. Logs de connexion et d'authentification","text":"<ul> <li>V\u00e9rifiez <code>/var/log/auth.log</code> ou <code>/var/log/secure</code> pour les tentatives de connexion et les activit\u00e9s d'authentification.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#3-journalisation","title":"3. Journalisation","text":""},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#a-configurer-rsyslog","title":"a. Configurer <code>rsyslog</code>","text":"<ul> <li>La plupart des distributions Linux utilisent <code>rsyslog</code> pour la journalisation.</li> <li>Les configurations sont g\u00e9n\u00e9ralement trouv\u00e9es dans <code>/etc/rsyslog.conf</code> et <code>/etc/rsyslog.d/</code>.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#b-rotation-des-journaux-avec-logrotate","title":"b. Rotation des journaux avec <code>logrotate</code>","text":"<ul> <li>La rotation des journaux est essentielle pour g\u00e9rer l'espace disque et organiser les fichiers de journal.</li> <li>Les configurations sont dans <code>/etc/logrotate.conf</code> et <code>/etc/logrotate.d/</code>.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#4-surveillance-en-temps-reel","title":"4. Surveillance en temps r\u00e9el","text":""},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#a-utilisez-tail","title":"a. Utilisez <code>tail</code>","text":"<ul> <li><code>tail -f /chemin/vers/le/journal</code> permet de surveiller en temps r\u00e9el les entr\u00e9es d'un fichier journal.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/LINUX/Guide_veille_et_journalisation/#b-outils-de-surveillance","title":"b. Outils de surveillance","text":"<ul> <li>Consid\u00e9rez des outils comme <code>Nagios</code>, <code>Prometheus</code>, ou <code>Zabbix</code> pour une surveillance en temps r\u00e9el du syst\u00e8me et des services.</li> </ul> <p>AV2023</p>"},{"location":"Cours_partag%C3%A9/AV/LINUX/guide_tar-linux/","title":"Guide d'utilisation de <code>tar</code> sur Debian","text":"<p><code>tar</code> est un outil de gestion d'archives sur les syst\u00e8mes Unix. Voici quelques commandes courantes.</p>"},{"location":"Cours_partag%C3%A9/AV/LINUX/guide_tar-linux/#creation-dune-archive","title":"Cr\u00e9ation d'une archive","text":""},{"location":"Cours_partag%C3%A9/AV/LINUX/guide_tar-linux/#avec-compression-gzip-extension-targz-ou-tgz","title":"Avec compression gzip (extension .tar.gz ou .tgz)","text":"<pre><code>tar -czvf nom_de_l_archive.tar.gz dossier_a_archiver/\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/LINUX/guide_tar-linux/#avec-compression-bzip2-extension-tarbz2","title":"Avec compression bzip2 (extension .tar.bz2)","text":"<pre><code>tar -cjvf nom_de_l_archive.tar.bz2 dossier_a_archiver/\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/LINUX/guide_tar-linux/#extraction-dune-archive","title":"Extraction d'une archive","text":""},{"location":"Cours_partag%C3%A9/AV/LINUX/guide_tar-linux/#archive-targz-ou-tgz","title":"Archive .tar.gz ou .tgz","text":"<pre><code>tar -xzvf nom_de_l_archive.tar.gz\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/LINUX/guide_tar-linux/#archive-tarbz2","title":"Archive .tar.bz2","text":"<pre><code>tar -xjvf nom_de_l_archive.tar.bz2\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/LINUX/guide_tar-linux/#lister-le-contenu-dune-archive-sans-extraire","title":"Lister le contenu d'une archive sans extraire","text":""},{"location":"Cours_partag%C3%A9/AV/LINUX/guide_tar-linux/#archive-targz-ou-tgz_1","title":"Archive .tar.gz ou .tgz","text":"<pre><code>tar -tzvf nom_de_l_archive.tar.gz\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/LINUX/guide_tar-linux/#archive-tarbz2_1","title":"Archive .tar.bz2","text":"<pre><code>tar -tjvf nom_de_l_archive.tar.bz2\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/LINUX/guide_tar-linux/#quelques-options-utiles","title":"Quelques options utiles","text":"<ul> <li><code>-c</code>: Cr\u00e9er une nouvelle archive.</li> <li><code>-x</code>: Extraire le contenu d'une archive.</li> <li><code>-t</code>: Lister le contenu de l'archive.</li> <li><code>-z</code>: Compresser avec gzip.</li> <li><code>-j</code>: Compresser avec bzip2.</li> <li><code>-v</code>: Mode verbeux (affiche le d\u00e9tail des op\u00e9rations).</li> <li><code>-f</code>: Pr\u00e9cise le nom de fichier de l'archive (toujours mettre cette option en dernier).</li> </ul> <p>Note : Si vous archivez ou extrayez des fichiers/dossiers avec des permissions sp\u00e9cifiques, consid\u00e9rez utiliser l'option <code>-p</code> pour pr\u00e9server ces permissions.</p>"},{"location":"Cours_partag%C3%A9/AV/LINUX/guide_tar-linux/#pour-plus-dinformations","title":"Pour plus d'informations","text":"<p>Pour obtenir plus de d\u00e9tails sur les options disponibles, consultez la page de manuel avec la commande :</p> <pre><code>man tar\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/","title":"Cr\u00e9ation d'utilisateurs et de groupes avec PowerShell","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/#1-ouvrir-powershell-en-tant-quadministrateur","title":"1. Ouvrir PowerShell en tant qu'administrateur","text":"<p>Assurez-vous d'ex\u00e9cuter PowerShell avec des droits administratifs pour \u00e9viter tout probl\u00e8me de permission.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/#2-creation-des-utilisateurs","title":"2. Cr\u00e9ation des utilisateurs","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/#rosita-espinosa","title":"Rosita Espinosa","text":"<pre><code>New-ADUser -Name \"Rosita Espinosa\" -GivenName \"Rosita\" -Surname \"Espinosa\" -UserPrincipalName \"rosita.espinosa@exemple.com\" -SamAccountName \"REspinosa\" -Description \"Membre du groupe Logistique\" -PasswordNeverExpires $true -AccountPassword (ConvertTo-SecureString -AsPlainText \"MotDePasseTemporaire\" -Force)\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/#morgan-jones","title":"Morgan Jones","text":"<pre><code>New-ADUser -Name \"Morgan Jones\" -GivenName \"Morgan\" -Surname \"Jones\" -UserPrincipalName \"morgan.jones@exemple.com\" -SamAccountName \"MJones\" -Description \"Membre du groupe Logistique\" -PasswordNeverExpires $true -AccountPassword (ConvertTo-SecureString -AsPlainText \"MotDePasseTemporaire\" -Force)\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/#av","title":"AV","text":"<pre><code>New-ADUser -Name \"AV\" -GivenName \"AV\" -Surname \"\" -UserPrincipalName \"av@exemple.com\" -SamAccountName \"AV\" -Description \"Membre du groupe Informatique\" -PasswordNeverExpires $true -AccountPassword (ConvertTo-SecureString -AsPlainText \"MotDePasseTemporaire\" -Force)\n</code></pre> <p>Note : Modifiez les champs <code>-UserPrincipalName</code> pour les adapter \u00e0 votre domaine, et changez \"MotDePasseTemporaire\" par un mot de passe initial pour chaque utilisateur.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/#3-creation-des-groupes","title":"3. Cr\u00e9ation des groupes","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/#groupe-logistique","title":"Groupe Logistique","text":"<pre><code>New-ADGroup -Name \"Groupe Logistique\" -GroupScope Global -Description \"Groupe pour les membres de la logistique\" -Path \"OU=Groups,DC=exemple,DC=com\"\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/#groupe-informatique","title":"Groupe Informatique","text":"<pre><code>New-ADGroup -Name \"Groupe Informatique\" -GroupScope Global -Description \"Groupe pour les membres de l'informatique\" -Path \"OU=Groups,DC=exemple,DC=com\"\n</code></pre> <p>Note : Modifiez <code>-Path</code> pour le correspondre \u00e0 l'emplacement d\u00e9sir\u00e9 dans votre Active Directory.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/#4-ajout-des-utilisateurs-aux-groupes","title":"4. Ajout des utilisateurs aux groupes","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/#ajout-de-rosita-espinosa-et-morgan-jones-au-groupe-logistique","title":"Ajout de Rosita Espinosa et Morgan Jones au groupe Logistique","text":"<pre><code>Add-ADGroupMember -Identity \"Groupe Logistique\" -Members REspinosa, MJones\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/#ajout-de-av-au-groupe-informatique","title":"Ajout de AV au groupe Informatique","text":"<pre><code>Add-ADGroupMember -Identity \"Groupe Informatique\" -Members AV\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9er%20dossier%20pour%20tout%20les%20user/","title":"Cr\u00e9er dossier pour tout les user","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9er%20dossier%20pour%20tout%20les%20user/#creation-dun-dossier-et-dun-fichier-pour-tous-les-utilisateurs-sur-windows-10","title":"Cr\u00e9ation d'un dossier et d'un fichier pour tous les utilisateurs sur Windows 10","text":"<p>Pour cr\u00e9er un dossier nomm\u00e9 \"Proc\u00e9dures\" sur le bureau de chaque utilisateur existant et y ajouter un fichier \"R\u00e8glement int\u00e9rieur\" sur un syst\u00e8me Windows 10, suivez les \u00e9tapes ci-dessous. Vous aurez besoin de privil\u00e8ges administratifs pour r\u00e9aliser ces op\u00e9rations.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9er%20dossier%20pour%20tout%20les%20user/#1-preparation","title":"1. Pr\u00e9paration :","text":"<ul> <li>Ouvrez le Bloc-notes ou tout autre \u00e9diteur de texte.</li> <li>Cr\u00e9ez un fichier appel\u00e9 \"R\u00e8glement int\u00e9rieur\" (ajoutez le contenu souhait\u00e9 si n\u00e9cessaire).</li> <li>Enregistrez ce fichier \u00e0 un emplacement temporaire, par exemple <code>C:\\temp</code>.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9er%20dossier%20pour%20tout%20les%20user/#2-script-powershell","title":"2. Script PowerShell :","text":"<ul> <li>Ouvrez une fen\u00eatre PowerShell en tant qu'administrateur.</li> <li>Copiez et collez le script suivant :</li> </ul> <pre><code># Chemin de destination pour le nouveau dossier sur le bureau de chaque utilisateur\n$destinationPath = \"C:\\Users\\*\\Desktop\\Proc\u00e9dures\"\n\n# Chemin du fichier \"R\u00e8glement int\u00e9rieur\" que vous avez pr\u00e9par\u00e9\n$sourceFile = \"C:\\temp\\R\u00e8glement int\u00e9rieur.txt\"\n\n# Cr\u00e9ation du dossier \"Proc\u00e9dures\" sur le bureau de chaque utilisateur\nGet-ChildItem -Path \"C:\\Users\\*\" -Directory | ForEach-Object {\n    $folderPath = Join-Path $_.FullName \"Desktop\\Proc\u00e9dures\"\n    if (-not (Test-Path $folderPath)) {\n        New-Item -Path $folderPath -ItemType Directory\n    }\n}\n\n# Copie du fichier \"R\u00e8glement int\u00e9rieur\" dans le dossier \"Proc\u00e9dures\" de chaque utilisateur\nCopy-Item -Path $sourceFile -Destination $destinationPath\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9er%20dossier%20pour%20tout%20les%20user/#3-execution-du-script","title":"3. Ex\u00e9cution du script :","text":"<ul> <li>Ex\u00e9cutez le script dans la fen\u00eatre PowerShell. Cela cr\u00e9era le dossier \"Proc\u00e9dures\" sur le bureau de chaque utilisateur et y copiera le fichier \"R\u00e8glement int\u00e9rieur\".</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Cr%C3%A9er%20dossier%20pour%20tout%20les%20user/#4-nettoyage-facultatif","title":"4. Nettoyage (facultatif) :","text":"<ul> <li>Si vous le souhaitez, vous pouvez maintenant supprimer le fichier \"R\u00e8glement int\u00e9rieur\" de l'emplacement temporaire <code>C:\\temp</code>.</li> </ul> <p>Note : Ce script ne fonctionnera que pour les profils d'utilisateurs existants. Si de nouveaux comptes sont cr\u00e9\u00e9s apr\u00e8s l'ex\u00e9cution du script, vous devrez r\u00e9ex\u00e9cuter le script ou cr\u00e9er le dossier et le fichier manuellement pour ces nouveaux utilisateurs.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Desactiver%20les%20mise%20a%20jour%20win10/","title":"D\u00e9sactiver les Mises \u00e0 Jour sur Windows 10","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/Desactiver%20les%20mise%20a%20jour%20win10/#avertissement","title":"Avertissement:","text":"<p>La d\u00e9sactivation des mises \u00e0 jour peut exposer votre syst\u00e8me \u00e0 des vuln\u00e9rabilit\u00e9s. Assurez-vous de comprendre les cons\u00e9quences avant de proc\u00e9der.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Desactiver%20les%20mise%20a%20jour%20win10/#1-via-le-service-de-windows-update-le-plus-rapide","title":"1. Via le Service de Windows Update (le plus rapide)","text":"<ol> <li>Appuyez sur <code>Win + R</code>, tapez <code>services.msc</code> et appuyez sur Entr\u00e9e.</li> <li>Dans la liste, recherchez <code>Windows Update</code> et double-cliquez dessus.</li> <li>Dans le menu d\u00e9roulant du type de d\u00e9marrage, choisissez <code>D\u00e9sactiv\u00e9</code>.</li> <li>Cliquez sur <code>Stop</code> pour arr\u00eater le service.</li> <li>Cliquez sur <code>OK</code>.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Desactiver%20les%20mise%20a%20jour%20win10/#2-via-les-parametres-de-strategie-de-groupe-local","title":"2. Via les Param\u00e8tres de Strat\u00e9gie de Groupe Local","text":"<p>Note: Cette m\u00e9thode n'est pas disponible pour Windows 10 Home.</p> <ol> <li>Appuyez sur <code>Win + R</code>, tapez <code>gpedit.msc</code> et appuyez sur Entr\u00e9e.</li> <li>Naviguez vers <code>Configuration ordinateur</code> &gt; <code>Mod\u00e8les d'administration</code> &gt; <code>Composants Windows</code> &gt; <code>Windows Update</code>.</li> <li>Double-cliquez sur <code>Configurer les mises \u00e0 jour automatiques</code>.</li> <li>S\u00e9lectionnez <code>D\u00e9sactiv\u00e9</code> puis cliquez sur <code>OK</code>.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/Desactiver%20les%20mise%20a%20jour%20win10/#3-via-le-registre-windows","title":"3. Via le Registre Windows","text":"<p>Avertissement : Modifier le registre peut avoir des cons\u00e9quences ind\u00e9sirables si mal fait. Proc\u00e9dez avec prudence.</p> <ol> <li>Appuyez sur <code>Win + R</code>, tapez <code>regedit</code> et appuyez sur Entr\u00e9e.</li> <li>Naviguez vers <code>HKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Windows</code>.</li> <li>Clic droit sur <code>Windows</code> &gt; <code>Nouveau</code> &gt; <code>Cl\u00e9</code>. Nommez cette cl\u00e9 <code>WindowsUpdate</code> (si elle n'existe pas d\u00e9j\u00e0).</li> <li>Clic droit sur <code>WindowsUpdate</code> &gt; <code>Nouveau</code> &gt; <code>Cl\u00e9</code>. Nommez cette cl\u00e9 <code>AU</code>.</li> <li>Dans la cl\u00e9 <code>AU</code>, clic droit dans le volet de droite &gt; <code>Nouveau</code> &gt; <code>Valeur DWORD (32 bits)</code>. Nommez cette valeur <code>NoAutoUpdate</code>.</li> <li>Double-cliquez sur <code>NoAutoUpdate</code> et d\u00e9finissez la valeur \u00e0 <code>1</code>.</li> <li>Fermez l'\u00e9diteur de registre.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/mofifier%20masque%20sous%20reseau%20debian/","title":"Modifier le masque de sous-r\u00e9seau sous Debian","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/mofifier%20masque%20sous%20reseau%20debian/#prerequis","title":"Pr\u00e9requis","text":"<p>Avant de commencer, assurez-vous d'avoir les droits d'administrateur (root) et d'avoir une sauvegarde de vos configurations actuelles.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/mofifier%20masque%20sous%20reseau%20debian/#etapes","title":"\u00c9tapes","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/mofifier%20masque%20sous%20reseau%20debian/#1-ouvrez-le-fichier-de-configuration-du-reseau","title":"1. Ouvrez le fichier de configuration du r\u00e9seau","text":"<p>Utilisez votre \u00e9diteur de texte pr\u00e9f\u00e9r\u00e9. Nous utiliserons nano dans cet exemple :</p> <pre><code>sudo nano /etc/network/interfaces\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/mofifier%20masque%20sous%20reseau%20debian/#2-recherchez-la-configuration-de-linterface-reseau","title":"2. Recherchez la configuration de l'interface r\u00e9seau","text":"<p>Vous verrez des configurations pour diff\u00e9rentes interfaces r\u00e9seau, telles que <code>eth0</code>, <code>wlan0</code>, etc. Trouvez celle que vous souhaitez modifier.</p> <p>Exemple :</p> <pre><code>iface eth0 inet static\naddress 192.168.1.100\nnetmask 255.255.255.0\ngateway 192.168.1.1\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/mofifier%20masque%20sous%20reseau%20debian/#3-modifiez-le-masque-de-sous-reseau","title":"3. Modifiez le masque de sous-r\u00e9seau","text":"<p>Remplacez la valeur actuelle de <code>netmask</code> par le nouveau masque de sous-r\u00e9seau souhait\u00e9.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/mofifier%20masque%20sous%20reseau%20debian/#4-enregistrez-et-fermez-le-fichier","title":"4. Enregistrez et fermez le fichier","text":"<p>Si vous utilisez nano : - Appuyez sur <code>Ctrl + O</code> pour enregistrer - Appuyez sur <code>Ctrl + X</code> pour quitter</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/mofifier%20masque%20sous%20reseau%20debian/#5-redemarrez-le-service-reseau","title":"5. Red\u00e9marrez le service r\u00e9seau","text":"<p>Pour que les modifications prennent effet, red\u00e9marrez le service r\u00e9seau :</p> <pre><code>sudo /etc/init.d/networking restart\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/mofifier%20masque%20sous%20reseau%20debian/#verification","title":"V\u00e9rification","text":"<p>Pour vous assurer que le masque de sous-r\u00e9seau a bien \u00e9t\u00e9 modifi\u00e9, utilisez la commande suivante :</p> <pre><code>ifconfig eth0\n</code></pre> <p>Remplacez <code>eth0</code> par le nom de votre interface r\u00e9seau si n\u00e9cessaire. Vous devriez voir le nouveau masque de sous-r\u00e9seau dans les r\u00e9sultats.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/mofifier%20masque%20sous%20reseau%20debian/#conseils","title":"Conseils","text":"<ul> <li>Toujours sauvegarder vos configurations avant d'apporter des modifications.</li> <li>Modifiez le masque de sous-r\u00e9seau uniquement si vous \u00eates s\u00fbr de ce que vous faites. Une mauvaise configuration peut vous d\u00e9connecter du r\u00e9seau.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/","title":"procedure complete msp_client","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#1-installation-des-systemes","title":"1.  Installation des syst\u00e8mes","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#1-installation","title":"1 - installation","text":"<ul> <li>Apr\u00e9s avoir install\u00e9 les deux machines, avec des volumes logiques</li> <li>je d\u00e9active windows update via services.msc</li> <li>je modifie les plages ip pour faire correspondre leur masques reseau puis je teste leur conectivit\u00e9. (ping)</li> <li>sous windows 10 avec l'outils : ncpa.cpl</li> <li> <p>sous debian en \u00e9ditant /etc/network/interfaces   Par soucis d'efficacit\u00e9 j'utilise le masque de sous reseau de l'h\u00f4te puisque les VM sont install\u00e9 en bridge.</p> </li> <li> <p>Pour pourvoir utiliser le presse papier de mon h\u00f4te vers ma VM j'installe Vmware Tools</p> </li> </ul> <p></p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#2-configuration-des-utilisateurs-et-de-lenvironnement","title":"2 \u2013 Configuration des utilisateurs et de l\u2019environnement","text":"<ul> <li> <p>je cr\u00e9e un fichier .csv dans lequel j'ecris les utilisateur et les groupes auquel ils apartiennent. </p> </li> <li> <p>La cr\u00e9ation de ce fichier va me simplifier la tache pour les \u00e9tapes suivante. Dans ce fichier je pr\u00e9cise si les utilisateur sont interne ou int\u00e9rimaire ( car des droit sp\u00e9cifique seront atribu\u00e9 \u00e0 ces diferentes classes)</p> </li> </ul> <pre><code>\n Pr\u00e9nom;Nom;login;mail;password;groupe;description\nRick;Grimes;rgrimes;rickgrimes@gmail.com;RGMDP2023!;Direction;Interne\nDaryl;Dixon;ddixon;daryldixon@gmail.com;DDMDP2023!;Commercial;Interne\nGabriel;Stokes;gstokes;gabrielstokes@gmail.com;GSMDP2023!;Commercial;Interne\nMaggie;Greene;mgreene;maggiegreene@gmail.com;MGMDP2023!;Commercial;Interne\nEugene;Porter;eporter;eugeneporter@gmail.com;EPMDP2023!;Comptable;Interne\nCarol;Peletier;cpeletier;carolpeletier@gmail.com;CPMDP2023!;Comptable;int\u00e9rimaire\nAdrien;vincent;Avincent;avincent@mail.com;AVMDP2023!;informatique;Interne\nRosita;Espinosa;respinosa;rositaespinosa@gmail.com;REMDP2023!;Logistique;Interne\nMorgan;Jones;mjones;morganjones@gmail.com;MJMDP2023!;Logistique;Interne\n\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#creation-des-groupes-et-des-utilisateurs-sur-windows-10-via-powershell","title":"Creation des groupes et des Utilisateurs sur windows 10 via Powershell","text":"<ul> <li> <p>A l'aide de Chat GPT,  Je cr\u00e9e un script qui commencera par lire le fichier CSV. Pour chaque ligne, il v\u00e9rifiera si le groupe existe ou non. S'il n'existe pas, il le cr\u00e9era. Ensuite, il cr\u00e9era l'utilisateur avec les d\u00e9tails fournis.</p> </li> <li> <p>je modifie la politique d'execution de  powershell pour executer le script avec  <code>Set-ExecutionPolicy Unrestricted</code></p> </li> <li> <p>Je lance le script avec powershell en mode administrateur</p> </li> </ul> <pre><code># Chemin vers votre fichier CSV\n$csvPath = \"C:\\Users\\AV\\Documents\\script\\users.csv\"\n\n# Importer les donn\u00e9es du CSV\n$usersData = Import-Csv -Path $csvPath -Delimiter ';'\n\n# Parcourir chaque utilisateur et cr\u00e9er l'utilisateur\nforeach ($data in $usersData) {\n    # Cr\u00e9er le nom complet\n    $FullName = \"$($data.Nom) $($data.Pr\u00e9nom)\"\n\n    # Convertir le mot de passe en SecureString\n    $securePassword = ConvertTo-SecureString -AsPlainText $data.password -Force\n\n    # Cr\u00e9er l'utilisateur\n    try {\n        New-LocalUser -FullName $FullName -Description $data.description -Name $data.login -Password $securePassword -ErrorAction Stop\n        Write-Host \"Utilisateur $FullName cr\u00e9\u00e9 avec succ\u00e8s.\"\n    } catch {\n        Write-Warning \"Erreur lors de la cr\u00e9ation de l'utilisateur $FullName. D\u00e9tails : $_\"\n    }\n\n    # Ajouter l'utilisateur au groupe si n\u00e9cessaire\n    if ($data.groupe) {\n        try {\n            # Si le groupe n'existe pas, le cr\u00e9er\n            if (-not (Get-LocalGroup -Name $data.groupe -ErrorAction SilentlyContinue)) {\n                New-LocalGroup -Name $data.groupe -Description \"Groupe cr\u00e9\u00e9 par script\"\n                Write-Host \"Groupe $($data.groupe) cr\u00e9\u00e9 avec succ\u00e8s.\"\n            }\n\n            # Ajouter l'utilisateur au groupe\n            Add-LocalGroupMember -Group $data.groupe -Member $data.login\n            Write-Host \"Utilisateur $FullName ajout\u00e9 au groupe $($data.groupe) avec succ\u00e8s.\"\n        } catch {\n            Write-Warning \"Erreur lors de l'ajout de l'utilisateur $FullName au groupe $($data.groupe). D\u00e9tails : $_\"\n        }\n    }\n}\n\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#creation-utilisateurs-et-groupes-pour-debian","title":"cr\u00e9ation utilisateurs et groupes pour Debian","text":"<p>En suite je peux reutilis\u00e9 mon fichier csv pour debian. En utilisant ce script bash que je rend executable avec la commande:  <code>chmod +x utilisateur_et_group.csv</code>   j'execute le script avec <code>./ scriptusergp.sh</code></p> <pre><code>\n#!/bin/bash\n\n# Chemin vers le fichier CSV\ncsvPath=\"/chemin/vers/fichier.csv\"\n\n# V\u00e9rifie si le fichier CSV existe\nif [ ! -f \"$csvPath\" ]; then\n    echo \"Le fichier CSV n'existe pas au chemin sp\u00e9cifi\u00e9.\"\n    exit 1\nfi\n\n# Lire chaque ligne du fichier CSV\nwhile IFS=';' read -r prenom nom login mail password groupe description; do\n    # V\u00e9rifier l'existence du groupe\n    if ! grep -q \"^$groupe:\" /etc/group; then\n        # Cr\u00e9er le groupe s'il n'existe pas\n        groupadd \"$groupe\"\n        echo \"Groupe $groupe cr\u00e9\u00e9.\"\n    fi\n\n    # Cr\u00e9er l'utilisateur\n    useradd -m -g \"$groupe\" -c \"$description\" -s /bin/bash \"$login\"\n    echo \"$password\" | passwd --stdin \"$login\"\n\n    echo \"Utilisateur $prenom $nom cr\u00e9\u00e9 et ajout\u00e9 au groupe $groupe.\"\ndone &lt; \"$csvPath\"\n\necho \"Tous les utilisateurs et groupes ont \u00e9t\u00e9 cr\u00e9\u00e9s.\" \n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#ajouter-un-dossier-procedure-avec-le-reglement-interieur","title":"Ajouter un dossier procedure avec le r\u00e9glement interieur.","text":"<ul> <li>je cr\u00e9e le dossier sur ma session avec le fichier r\u00e9glement interieur, puis j'execute ce script afin d'\u00e9vit\u00e9 de faire manuelement la procedure</li> </ul> <pre><code> Chemin de destination pour le nouveau dossier sur le bureau de chaque utilisateur\n$destinationPath = \"C:\\Users\\*\\Desktop\\Proc\u00e9dures\"\n# Chemin du fichier \"R\u00e8glement int\u00e9rieur\" que vous avez pr\u00e9par\u00e9\n$sourceFile = \"C:\\temp\\R\u00e8glement int\u00e9rieur.txt\"\n# Cr\u00e9ation du dossier \"Proc\u00e9dures\" sur le bureau de chaque utilisateur\nGet-ChildItem -Path \"C:\\Users\\*\" -Directory | ForEach-Object {\n    $folderPath = Join-Path $_.FullName \"Desktop\\Proc\u00e9dures\"\n    if (-not (Test-Path $folderPath)) {\n        New-Item -Path $folderPath -ItemType Directory\n    }\n}\n# Copie du fichier \"R\u00e8glement int\u00e9rieur\" dans le dossier \"Proc\u00e9dures\" de chaque utilisateur\n$sourceFile = \"C:\\temp\\R\u00e8glement_int\u00e9rieur.txt\"\n\nGet-ChildItem -Path \"C:\\Users\\*\" -Directory | ForEach-Object {\n    $folderPath = Join-Path $_.FullName \"Desktop\\Proc\u00e9dures\"\n    if (Test-Path $sourceFile) {\n        Copy-Item -Path $sourceFile -Destination $folderPath\n    }\n}\n</code></pre> <p>ou avec le script de bard</p> <pre><code>$Users = Get-LocalUser\nforeach ($User in $Users) {\n    New-Item -Path \"C:\\Users$User\\Desktop\\Procedure\" -ItemType Directory\n    New-Item -Path \"C:\\Users$User\\Desktop\\Procedure\\Reglement interieur\" -ItemType File\n} \n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#pour-le-prestataire-et-son-shell-ksh","title":"Pour le prestataire et son shell ksh","text":"<pre><code>useradd -c \"Pr\u00e9stataire\" prestataire -m -g informatique --shell /bin/ksh -p PMDP2023!\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#contrainte-suplementaire-windows-10","title":"Contrainte supl\u00e9mentaire windows 10 :","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#securite-mot-de-passe","title":"Securit\u00e9 mot de passe","text":"<ul> <li>dans l'invite de commande je lance secpol.msc</li> <li>dans \"strategie mot de passe\" j'active \"exigence de complexit\u00e9\"</li> <li>dans longeur minimal je fixe \u00e0 12</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#ajout-nouveau-compte-administrateur-pour-le-directeur","title":"Ajout nouveau compte administrateur pour le directeur","text":"<ul> <li>je lance powershell en administrateur puis</li> <li>je fait  <code>net user admin rgrimes /add</code></li> </ul> <p><code>net user rgrimes *</code></p> <p>puis tape le nouveaux mot de passe</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#integration-du-service-informatique-au-groupe-administrateur","title":"Int\u00e9gration du service informatique au groupe Administrateur","text":"<p>-apr\u00e9s avoir cr\u00e9e le groupe \"Administrateurs\"</p> <p><code>Add-LocalGroupMember -Group \"Administrateurs\" -Member \"Avincent\"</code></p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#forcage-du-changement-de-mot-de-passe","title":"For\u00e7age du changement de mot de passe:","text":"<ul> <li>sur windows 10 :sans la console MMC, dans utilisateur et groupe: clique droit sur l'utilisateur puis dans l'onglet g\u00e9n\u00e9ral \"l'utilisateur doit changer le mot de passe \u00e0 la prochaine ouverture de session\"</li> <li>dans Debian </li> </ul> <p><code>chage Avincent -d 0</code></p> <p>### restriction d'utilisation de p\u00e9riph\u00e9rique windows 10  - Pour restreindre l'utilisation de p\u00e9riph\u00e9rique, j'utilise le logitiel enfichagle disponible dans la console MMC: \"\u00e9diteur d'objet et strat\u00e9gie de groupe\"</p> <ul> <li> <p>Dans \"objet de strat\u00e9gie de groupe\" je s\u00e9l\u00e9ctione \"NON-adminstrateurs\"</p> </li> <li> <p>Sous \"Configuration utilisateur\" - \"Mod\u00e8les d'administration\" - \"Acc\u00e8s au stockage amovible \u00bb : j'active \"CD et DVD : refuser l'acc\u00e8s en lecture/\u00e9criture\"</p> </li> <li> <p>Sous \"Composant Windows\" - \"Windows Store\", je  d\u00e9sactive l'application </p> </li> <li> <p>Sous \"Mod\u00e8les d'administration\" - \"Syst\u00e8me\", j'active \"Emp\u00eache l'acc\u00e8s aux outils de modifications du Registre\"</p> </li> <li> <p>Sous \"Mod\u00e8le d'administration\" - \"Bureau\" -\"Bureau\", je configure \"Papier peint du Bureau\", j'ajoute le chemin d'acc\u00e9s \u00e0 l'image de fond d'\u00e9cran (fond noir)</p> </li> <li> <p>Sous \"Configuration ordinateur\" - \"Param\u00e8tres de s\u00e9curit\u00e9\" - \"Pare-feu Windows Defender\" - \"Propri\u00e9t\u00e9s du Pare-feu Windows\" J'active le Pare-feux sur tous les profils (domaine, priv\u00e9, public)</p> </li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#verification","title":"v\u00e9rification","text":"<p>pour mettre a joour les mdoficication systeme <code>gpupdate</code> pour afficher les informations de r\u00e9sultat de strat\u00e9gie de groupe (Group Policy) avec \\r comme arguments pour resum\u00e9 <code>gpresult \\r</code></p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#ajout-des-depots-debian-et-supression-de-commentaire-avec-vim","title":"Ajout des depots Debian et supression de commentaire avec VIM","text":"<ul> <li>Directement depuis bash shell avec l'\u00e9diteur de flux sed:</li> </ul> <pre><code>sed -i '/^# deb-src/s/^# //' /chemin/vers/votre/sources.list\n</code></pre> <ul> <li> <p>Ou depuis vim avec la fonction g :</p> </li> <li> <p><code>vim /etc/pat/sources.list</code> en mode commande</p> </li> <li><code>:g:/^deb-src/s/^/#/gc</code></li> <li> <p><code>:wq</code> pour quitter et sauvegarder</p> </li> <li> <p>on peut ajouter le depot ftp</p> </li> <li> <p><code>deb-src http://ftp.fr.debian.org/debian/ main contrib non-free</code></p> </li> <li> <p>on met \u00e0 jour la liste des depot et paquets -<code>apt update</code></p> </li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#3-configuration-du-stockage-et-des-ressources","title":"3 Configuration du stockage et des ressources","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#creation-dune-partition-data-avec-diskpart-sur-windows-10","title":"cr\u00e9ation d'une partition DATA avec DISKPART sur windows 10","text":"<ul> <li>Lancement de diskpart dans powershell en mode administrateur</li> </ul> <p><code>diskpart</code></p> <ul> <li>listage des disques</li> </ul> <p><code>list disk</code></p> <ul> <li>selection du disque \u00e0 partitioner</li> </ul> <p><code>select disk 1</code></p> <ul> <li>on deconect le disque pour s'assur\u00e9 qu'aucun service ne soit en train de l'utiliser</li> </ul> <p><code>offline disk</code></p> <ul> <li>on reconecte</li> </ul> <p><code>online disk</code></p> <ul> <li>on cr\u00e9e une table de partition mbr</li> </ul> <p><code>convert MBR</code></p> <ul> <li>on cr\u00e9e une partion de 15000 Mega octet (15 Giga)</li> </ul> <p><code>create partition primary size=15000</code></p> <ul> <li>on formate en ntfs en appellant la partion DATA</li> </ul> <p><code>create partition primary size=15000</code></p> <ul> <li>on attribue la lettre D au disque</li> </ul> <p><code>assign letter=D</code></p> <ul> <li>En faisant <code>list disk</code> on peut voir la modification qui s'est correctement effectu\u00e9.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#creation-de-partitions-sur-debian-avec-fdisk","title":"cr\u00e9ation de partitions sur Debian avec fdisk","text":"<ul> <li> <p>On commence par lister les disques: <code>fdisk -l</code></p> </li> <li> <p>on selectionne le disque \u00e0 partitionner <code>fdisk /dev/sdb</code></p> </li> </ul> <p>on fait trois partitions:</p> <ul> <li> <p>1\u00e8re partition : \u00b7 n : cr\u00e9er une nouvelle partition \u00b7 p : type de partition primaire \u00b7 Laisser le num\u00e9ro de partition par d\u00e9faut \u00b7 Laisser le premier secteur par d\u00e9faut \u00b7 +15G pour ajouter 15Go</p> </li> <li> <p>2\u00e8me partition: \u00b7 n : cr\u00e9er une nouvelle partition \u00b7 p : type de partition primaire \u00b7 Laisser le num\u00e9ro de partition par d\u00e9faut \u00b7 Laisser le premier secteur par d\u00e9faut \u00b7 +15G pour ajouter 15Go</p> </li> <li> <p>3\u00e8me partition: \u00b7 n : cr\u00e9er une nouvelle partition \u00b7 p : type de partition primaire \u00b7 Laisser le num\u00e9ro de partition par d\u00e9faut \u00b7 Laisser le premier secteur par d\u00e9faut \u00b7 Laisser le dernier secteur par d\u00e9faut pour occuper tout l'espace restant</p> </li> <li> <p>on quitte fdisk avec <code>w</code></p> </li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#formatage-des-partitions-avec-mkfs","title":"Formatage des partitions avec mkfs","text":"<ul> <li>Pour formater la partion en xfs il faut installer xfsprogs</li> </ul> <p><code>apt install xfsprogs</code></p> <ul> <li>puis on formate avec mkfs en nomant les partitions en donnant un label avec l'argument -L <code>mkfs.ext4 -L PROFILS /dev/sdb1</code> <code>mkfs.ext4 -L DATA /dev/sdb2</code> <code>mkfs.xfs -L LOGS /dev/sdb3</code></li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#extention-du-dossier-home","title":"Extention du dossier home","text":"<p>### methode 1  LVM:    il reste de la place sur le groupe de volume logique et j'\u00e9tend /home  -on verifie la place disponible:   <code>vgs</code>   -on etend le volume logique LGV est le noms du groupe de volume, (-l +100%FREE) utilise tout l'espace libre du VG. <code>lvextend -l +100%FREE /dev/LGV/HOME</code></p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#-methode-2-mise-a-jour-du-repertoire-home","title":"- Methode 2 - Mise \u00e0 jour du r\u00e9pertoire <code>/home</code>","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#preparation","title":"Pr\u00e9paration","text":"<ol> <li>Sauvegarde : </li> <li> <p>On s'assure d'avoir une sauvegarde compl\u00e8te de toutes les donn\u00e9es, en particulier du r\u00e9pertoire <code>/home</code>.</p> </li> <li> <p>Information des utilisateurs:</p> </li> <li> <p>On informe tous les utilisateurs qu'une maintenance est pr\u00e9vue. On pr\u00e9cise la dur\u00e9e estim\u00e9e de cette maintenance.</p> </li> <li> <p>D\u00e9sactivation de l'acc\u00e8s des utilisateurs:</p> </li> <li>Pour emp\u00eacher les connexions pendant la transition, on passe en mode de maintenance:    <code>systemctl isolate rescue.target</code></li> <li>Si le syst\u00e8me est accessible via SSH, on d\u00e9sactive le service:    <code>systemctl stop sshd</code></li> <li>On cr\u00e9e un fichier <code>/etc/nologin</code> pour emp\u00eacher les utilisateurs non-root de se connecter:    <code>echo \"Maintenance en cours, veuillez r\u00e9essayer plus tard.\" &gt; /etc/nologin</code></li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#processus-de-transition","title":"Processus de transition","text":"<ol> <li> <p>Copie temporaire de <code>/home</code> :    <code>cp -rp /home /tmp/home-backup</code></p> </li> <li> <p>Modification du fichier <code>/etc/fstab</code> :    <code>vim /etc/fstab</code></p> </li> <li>On commente la ligne concernant <code>/home</code> en ajoutant un <code>#</code> devant :    <code>#UUID=4b59933b-136a-4287-8658-c97b2ec93603 /home ext4 defaults 0 2</code></li> <li> <p>On ajoute ensuite la ligne pour monter la partition <code>PROFILS</code> \u00e0 <code>/home</code> :    <code>LABEL=PROFILS /home ext4 defaults 0 2</code></p> </li> <li> <p>Montage des partitions :    <code>mount -a</code></p> </li> <li> <p>Copie des donn\u00e9es du backup vers le nouveau <code>/home</code> :    <code>cp -rp /tmp/home-backup/* /home/</code></p> </li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#verifications-post-transition","title":"V\u00e9rifications post-transition","text":"<ol> <li>R\u00e9activation de l'acc\u00e8s des utilisateurs:</li> <li>On repasse en mode normal:    <code>systemctl isolate default.target</code></li> <li>Si le service SSH a \u00e9t\u00e9 d\u00e9sactiv\u00e9, on le r\u00e9active:    <code>systemctl start sshd</code></li> <li> <p>On supprime le fichier <code>/etc/nologin</code> pour permettre aux utilisateurs de se reconnecter:    <code>rm /etc/nologin</code></p> </li> <li> <p>V\u00e9rification de la copie :</p> </li> <li> <p>On s'assure que toutes les donn\u00e9es et permissions sont correctement copi\u00e9es sur le nouveau volume.</p> </li> <li> <p>Nettoyage :</p> </li> <li> <p>Apr\u00e8s s'\u00eatre assur\u00e9 que tout est en ordre, on peut supprimer le r\u00e9pertoire de backup pour r\u00e9cup\u00e9rer l'espace :    <code>rm -rf /tmp/home-backup</code></p> </li> <li> <p>Test final :</p> </li> <li>On se connecte en tant qu'utilisateur pour s'assurer que tout est op\u00e9rationnel.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#mise-en-commun-du-volume-data-et-dossier-service-sur-le-client-debian","title":"Mise en commun du volume DATA et dossier service sur le client Debian","text":"<ul> <li>on cr\u00e9e l'arborescence /services puis les dossiers la composant l'argument -p permet de cre des repertoire parents</li> </ul> <p><code>mkdir -p /service/{commercial,comptabilite,direction,informatique,logistique}</code></p> <ul> <li>on fait correspondre la propri\u00e9t\u00e9 de chaque dossier avec son groupe</li> </ul> <p>Dans le repertoire service on tape</p> <p><code>chown :commercial commercial  chown :comptabilite comptabilite  chown :direction direction  chown :informatique informatique  chown :logistique logistique</code></p> <ul> <li>Puis on donne aux propri\u00e9taires et au groupe propri\u00e9taire le droit de lire, \u00e9crire et ex\u00e9cuter tous les fichiers et r\u00e9pertoires du r\u00e9pertoire:</li> </ul> <p><code>chmod g+x *</code></p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#modification-des-acces-au-dossier-sur-le-poste-windows-10","title":"Modification des acc\u00e9s au dossier Sur le poste Windows 10","text":"<ul> <li> <p>Ces \u00e9tapes garantissent que seul le groupe commercial (et le compte syst\u00e8me pour des raisons d'administration) peut acc\u00e9der au dossier \u00ab Commerciaux \u00bb et que toutes les autres autorisations sont supprim\u00e9es.</p> </li> <li> <p>On commence par cr\u00e9er un dossier nomm\u00e9 \u00ab D:\\donn\u00e9es\\ \u00bb. </p> </li> <li>\u00c0 l'int\u00e9rieur de \u00ab D:\\donn\u00e9es\\ \u00bb, on cr\u00e9e un sous-dossier appel\u00e9 \u00ab Commerciaux \u00bb.</li> <li>Une fois le dossier cr\u00e9\u00e9, on fait un clic-droit dessus et on choisit l'option \"Propri\u00e9t\u00e9s\".</li> <li>Dans la fen\u00eatre des propri\u00e9t\u00e9s qui s'ouvre, on se rend \u00e0 l'onglet \"S\u00e9curit\u00e9\" puis on clique sur le bouton \"Avanc\u00e9\".</li> <li>Dans la nouvelle fen\u00eatre, on d\u00e9sactive l'option \"h\u00e9ritage\". Cela emp\u00eachera le dossier d'h\u00e9riter des autorisations des dossiers parents.</li> <li>On supprime ensuite toutes les autorisations h\u00e9rit\u00e9es pour s'assurer qu'aucun autre groupe ou utilisateur ne peut acc\u00e9der au dossier.</li> <li>On valide les changements.</li> <li>On retourne \u00e0 l'onglet \"S\u00e9curit\u00e9\", puis on clique sur \"Ajouter...\" suivi de \"S\u00e9lectionnez un principal\".</li> <li>Dans la liste, on choisit l'option \u201cmodification\u201d ainsi que l'option \u201cAppliquer ces autorisations...\u201d avant de valider avec \"OK\".</li> <li>Enfin, on supprime tous les utilisateurs et groupes list\u00e9s dans la fen\u00eatre des autorisations, \u00e0 l'exception du groupe L_commercial_W et du compte syst\u00e8me. De cette fa\u00e7on, seuls les membres du groupe L_commercial_W auront acc\u00e8s au dossier, garantissant ainsi que l'acc\u00e8s est interdit \u00e0 toute personne \u00e9trang\u00e8re au service.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#creation-de-partage-reseau","title":"Creation de partage reseau:","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#methode-graphique","title":"m\u00e9thode graphique:","text":"<ol> <li>On commence par s\u00e9lectionner le dossier nomm\u00e9 \u00ab Support_Info \u00bb pour le partager.</li> <li>Afin de le rendre invisible aux autres utilisateurs pour des raisons de s\u00e9curit\u00e9, on ajoute un \u00ab $ \u00bb \u00e0 la fin du nom du partage.</li> <li>On effectue un clic gauche sur le dossier et on choisit \"Propri\u00e9t\u00e9s\" dans le menu contextuel.</li> <li>Dans la fen\u00eatre des propri\u00e9t\u00e9s, on se dirige vers l'onglet \"Partage\".</li> <li>On clique ensuite sur \"Partage avanc\u00e9...\".</li> <li>Dans la zone \"Nom du partage\", on ajoute le symbole \"$\" \u00e0 la fin pour rendre le partage cach\u00e9.</li> <li>On clique sur le bouton \"Autorisations\" pour d\u00e9finir les droits d'acc\u00e8s souhait\u00e9s.</li> <li>Une fois les autorisations correctement d\u00e9finies, on valide en cliquant sur \"OK\".</li> <li>Pour confirmer la mise en place du partage, on ouvre l'invite de commande (<code>cmd</code>) et on liste les partages disponibles.</li> <li>En pr\u00e9paration pour des d\u00e9ploiements futurs, on recherchera l'\u00e9quivalent des actions effectu\u00e9es sous la forme de commandes PowerShell. Ces commandes seront conserv\u00e9es dans un fichier script PowerShell avec l'extension \".ps1\".</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#en-ligne-de-commande","title":"En ligne de commande:","text":"<ol> <li> <p>On commence par cr\u00e9er le partage en utilisant la commande PowerShell suivante :    <code>powershell    New-smbshare support_info$ -path d:support_info -changeaccess \u201cutilisateurs authentifi\u00e9s\u201d</code></p> </li> <li> <p>Pour modifier les autorisations sur ce partage, on suit les \u00e9tapes ci-dessous :</p> </li> </ol> <p>a. On r\u00e9cup\u00e8re les autorisations actuelles (Access Control List, ou ACL) du dossier avec :    <code>powershell    $acl = get-acl D:support_info</code></p> <p>b. On d\u00e9finit une nouvelle r\u00e8gle (Access Control Entry, ou ACE) pour donner au groupe informatique le droit de modification :    <code>powershell    $ace = New-Object security.accesscontrol.filesystemaccessrule(\"L_informatique_RW\", \"Modify\", \"Allow\")</code></p> <p>c. On applique cette nouvelle r\u00e8gle \u00e0 la liste d'autorisations :    <code>powershell    $acl.addaccessrule($ace)</code></p> <p>d. On met \u00e0 jour les autorisations du dossier avec la liste modifi\u00e9e :    <code>powershell    set-acl D:support_info $acl</code></p> <ol> <li> <p>Pour voir la liste des dossiers partag\u00e9s via la ligne de commande, on tape :    <code>net share</code></p> </li> <li> <p>Pour test\u00e9 l'acc\u00e9s le bin\u00f4me cr\u00e9e un lecteur U qui pointe sur le dossier: (avec l'ip de la VM)</p> </li> </ol> <p><code>net use U: \\\\10.107.200.80\\Support_info$ /persistent:yes</code></p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#gestion-des-imprimantes","title":"Gestion des imprimantes","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#installation-et-partage-de-limprimante-hp-laserjet-m9050-mfp","title":"Installation et partage de l'imprimante HP LaserJet M9050 MFP","text":"<ol> <li>D\u00e9marrage du gestionnaire d'ajout d'imprimante :</li> <li>On se rend dans <code>Panneau de configuration</code> &gt; <code>Mat\u00e9riel et audio</code> &gt; <code>P\u00e9riph\u00e9riques et imprimantes</code>.</li> <li> <p>On clique sur <code>Ajouter une imprimante</code>.</p> </li> <li> <p>Choix du type d'imprimante :</p> </li> <li>Lorsqu'on est interrog\u00e9 sur la mani\u00e8re d'installer l'imprimante, on choisit <code>Ajouter une imprimante en utilisant une adresse IP ou un nom d'h\u00f4te</code>.</li> <li> <p>On clique sur <code>Suivant</code>.</p> </li> <li> <p>Renseignement de l'adresse IP :</p> </li> <li>Dans le champ <code>Nom d'h\u00f4te ou adresse IP</code>, on inscrit <code>l'IP de l'imprimante</code>.</li> <li>On s'assure que l'option <code>Interroger l'imprimante et s\u00e9lectionner automatiquement le pilote \u00e0 utiliser</code> est activ\u00e9e.</li> <li> <p>On clique sur <code>Suivant</code>.</p> </li> <li> <p>S\u00e9lection du pilote :</p> </li> <li>Si Windows reconna\u00eet l'imprimante, il peut proposer un pilote par d\u00e9faut. Sinon, on va sur le site d'HP   et on cherche dans la liste des pilotes.</li> <li>Si le pilote n'est pas list\u00e9 dans windows, il faudra peut-\u00eatre le t\u00e9l\u00e9charger depuis le site officiel de HP et l'installer manuellement.</li> <li> <p>On clique sur <code>Suivant</code>.</p> </li> <li> <p>Nom de l'imprimante :</p> </li> <li>On donne un nom \u00e0 l'imprimante, par exemple : \"HP LaserJet M9050 MFP\".</li> <li> <p>On clique sur <code>Suivant</code>.</p> </li> <li> <p>Options de partage :</p> </li> <li>Quand l'option de partage est pr\u00e9sent\u00e9e, on coche <code>Partager cette imprimante</code>.</li> <li>Dans le champ <code>Nom de partage</code>, on indique un nom qui sera utilis\u00e9 sur le r\u00e9seau pour acc\u00e9der \u00e0 cette imprimante. Par exemple, \"HPM9050_Shared\".</li> <li> <p>On clique sur <code>Suivant</code>.</p> </li> <li> <p>Finalisation :</p> </li> <li>Une page r\u00e9capitulative est pr\u00e9sent\u00e9e. On v\u00e9rifie toutes les informations.</li> <li> <p>On clique sur <code>Terminer</code>.</p> </li> <li> <p>Test :</p> </li> <li> <p>Pour confirmer que tout est bien configur\u00e9, on imprime une page test.</p> </li> <li> <p>Acc\u00e8s depuis un autre poste :</p> </li> <li>Depuis un autre ordinateur du r\u00e9seau, on va dans <code>P\u00e9riph\u00e9riques et imprimantes</code>, puis on ajoute une imprimante.</li> <li>On recherche l'imprimante partag\u00e9e par nom et l'ajoute \u00e0 la liste des imprimantes de l'ordinateur.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#configuration-des-permissions-pour-limprimante","title":"Configuration des permissions pour l'imprimante","text":"<ol> <li>Acc\u00e8s aux propri\u00e9t\u00e9s de l'imprimante :</li> <li>On ouvre le menu <code>D\u00e9marrer</code>, puis on clique sur <code>P\u00e9riph\u00e9riques et imprimantes</code>.</li> <li> <p>On trouve l'imprimante \"HP LaserJet M9050 MFP\" et on fait un clic droit dessus, puis on choisit <code>Propri\u00e9t\u00e9s</code>.</p> </li> <li> <p>Modification des permissions :</p> </li> <li> <p>Dans la fen\u00eatre des propri\u00e9t\u00e9s de l'imprimante, on se rend dans l'onglet <code>S\u00e9curit\u00e9</code>.</p> </li> <li> <p>Permissions pour tous les utilisateurs :</p> </li> <li>On clique sur <code>Ajouter</code> et saisit \"Utilisateurs\" (ou le groupe qui repr\u00e9sente tous les utilisateurs sur le syst\u00e8me).</li> <li>On coche la permission <code>Imprimer</code>.</li> <li> <p>On clique sur <code>Appliquer</code>.</p> </li> <li> <p>Permissions pour le service Comptabilit\u00e9 :</p> </li> <li>On clique sur <code>Ajouter</code> et saisit le nom du groupe ou de l'utilisateur repr\u00e9sentant le service Comptabilit\u00e9.</li> <li>On coche les permissions <code>Imprimer</code> et <code>G\u00e9rer les documents</code> (ce qui permettra de supprimer des impressions bloqu\u00e9es).</li> <li> <p>On clique sur <code>Appliquer</code>.</p> </li> <li> <p>Permissions pour le service Informatique :</p> </li> <li>On clique sur <code>Ajouter</code> et saisit le nom du groupe ou de l'utilisateur repr\u00e9sentant le service Informatique.</li> <li>On coche <code>Contr\u00f4le total</code> (qui accorde toutes les permissions).</li> <li> <p>On clique sur <code>Appliquer</code>.</p> </li> <li> <p>Validation :</p> </li> <li>Une fois que toutes les permissions sont correctement configur\u00e9es, on clique sur <code>OK</code> pour fermer les propri\u00e9t\u00e9s de l'imprimante.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#creation-dun-pool-dimpression-pour-deux-imprimantes-xerox-office-color","title":"Cr\u00e9ation d'un pool d'impression pour deux imprimantes Xerox Office Color","text":"<ol> <li>Installation des imprimantes individuelles :</li> <li>Acc\u00e8s au menu Ajouter une imprimante :<ul> <li>On ouvre le menu <code>D\u00e9marrer</code>, puis on clique sur <code>P\u00e9riph\u00e9riques et imprimantes</code>.</li> <li>On choisit <code>Ajouter une imprimante</code>.</li> </ul> </li> <li>Ajout de la premi\u00e8re imprimante (ip1) :<ul> <li>On choisit <code>Ajouter une imprimante en utilisant une adresse IP ou un nom d'h\u00f4te</code>.</li> <li>On saisit l'adresse IP \"ip1\" et on suit les \u00e9tapes pour installer l'imprimante avec le pilote appropri\u00e9.</li> </ul> </li> <li> <p>R\u00e9p\u00e9tition pour la deuxi\u00e8me imprimante (ip2) :</p> <ul> <li>On r\u00e9p\u00e8te les m\u00eames \u00e9tapes pour ajouter la deuxi\u00e8me imprimante en utilisant l'adresse IP \"ip2\".</li> </ul> </li> <li> <p>Cr\u00e9ation du pool d'impression :</p> </li> <li>On retourne \u00e0 <code>P\u00e9riph\u00e9riques et imprimantes</code>.</li> <li>On fait un clic droit sur l'une des deux imprimantes Xerox que nous venons d'ajouter, et on choisit <code>Propri\u00e9t\u00e9s de l'imprimante</code>.</li> <li>Dans l'onglet <code>Ports</code>, on coche les ports correspondant aux adresses IP \"ip1\" et \"ip2\" pour les ajouter au pool.</li> <li> <p>On confirme en cliquant sur <code>Appliquer</code> ou <code>OK</code>.</p> </li> <li> <p>Configuration des param\u00e8tres de pool :</p> </li> <li>Dans les <code>Propri\u00e9t\u00e9s de l'imprimante</code>, on se dirige vers l'onglet <code>Avanc\u00e9</code>.</li> <li>On coche l'option <code>Activer le pool d'impression</code>.</li> <li> <p>On s'assure que les ports correspondant aux deux imprimantes sont s\u00e9lectionn\u00e9s.</p> </li> <li> <p>Validation :</p> </li> <li>Pour tester le pool d'impression, on envoie un document \u00e0 imprimer sur l'imprimante pool\u00e9e.</li> <li>On v\u00e9rifie que le document est imprim\u00e9 par l'une des deux imprimantes Xerox.</li> <li>Si tout fonctionne correctement, le pool d'impression est pr\u00eat \u00e0 \u00eatre utilis\u00e9.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#configuration-des-permissions-pour-les-imprimantes-sur-windows-10","title":"Configuration des permissions pour les imprimantes sur Windows 10","text":"<ol> <li> <p>Acc\u00e9der aux propri\u00e9t\u00e9s de l'imprimante :</p> <ul> <li>On ouvre <code>P\u00e9riph\u00e9riques et imprimantes</code> depuis le Panneau de configuration.</li> <li>On fait un clic droit sur l'imprimante concern\u00e9e, puis on s\u00e9lectionne <code>Propri\u00e9t\u00e9s de l'imprimante</code>.</li> </ul> </li> <li> <p>Ajustement des permissions :</p> <ul> <li>On va dans l'onglet <code>S\u00e9curit\u00e9</code>.</li> <li>On supprime le groupe <code>Tout le monde</code> en le s\u00e9lectionnant et en cliquant sur <code>Supprimer</code>.</li> <li>On clique sur <code>Ajouter</code> pour ajouter le groupe ou les utilisateurs du service Comptabilit\u00e9. Apr\u00e8s avoir ajout\u00e9, on leur coche <code>Imprimer</code> dans la liste des permissions.</li> <li>On r\u00e9p\u00e8te l'ajout pour le service <code>Informatique</code> et on leur accorde le <code>Contr\u00f4le total</code>.</li> </ul> </li> <li> <p>Configurer les horaires d'utilisation :</p> <ul> <li>Sous l'onglet <code>Avanc\u00e9</code>, on coche l'option <code>Disponible de</code>.</li> <li>On d\u00e9finit la tranche horaire de <code>19:00</code> \u00e0 <code>03:00</code>.</li> </ul> </li> <li> <p>Configuration des administrateurs :</p> <ul> <li>Retour dans l'onglet <code>S\u00e9curit\u00e9</code>.</li> <li>On s\u00e9lectionne le groupe ou les utilisateurs du service <code>Informatique</code>.</li> <li>On coche <code>Contr\u00f4le total</code> dans la liste des permissions.</li> </ul> </li> <li> <p>Validation :</p> <ul> <li>On valide les modifications en cliquant sur <code>OK</code>.</li> <li>Apr\u00e8s avoir configur\u00e9 les permissions et horaires, on teste pour s'assurer que tout fonctionne correctement.</li> <li>On essaie d'imprimer depuis un compte du service <code>Comptabilit\u00e9</code> hors des horaires d\u00e9finis pour confirmer que la restriction fonctionne.</li> <li>On r\u00e9p\u00e8te le test pendant les horaires d\u00e9finis pour s'assurer qu'ils peuvent imprimer.</li> <li>Enfin, on se connecte avec un compte du service <code>Informatique</code> pour s'assurer qu'ils ont un contr\u00f4le total sur l'imprimante.</li> </ul> </li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#configuration-de-deux-files-dattente-pour-la-xerox-office-color-et-deplacement-du-pool-dans-d","title":"Configuration de deux files d'attente pour la Xerox Office Color et deplacement du pool dans D:","text":"<ol> <li> <p>Cr\u00e9ation de la premi\u00e8re file d'attente:</p> <ul> <li>On ouvre <code>P\u00e9riph\u00e9riques et imprimantes</code> depuis le Panneau de configuration.</li> <li>On choisit <code>Ajouter une imprimante</code> puis on suit l'assistant pour ajouter la Xerox Office Color. Nommez cette file d'attente par exemple \"Xerox Office Color - Directeurs\".</li> </ul> </li> <li> <p>Cr\u00e9ation de la deuxi\u00e8me file d'attente:</p> <ul> <li>On r\u00e9p\u00e8te le processus d'ajout d'une nouvelle imprimante. Cette fois, on nomme la file d'attente, par exemple, \"Xerox Office Color - G\u00e9n\u00e9ral\".</li> </ul> </li> <li> <p>Attribution de la priorit\u00e9 aux directeurs:</p> <ul> <li>Dans <code>P\u00e9riph\u00e9riques et imprimantes</code>, on fait un clic droit sur \"Xerox Office Color - Directeurs\", puis on s\u00e9lectionne <code>Propri\u00e9t\u00e9s de l'imprimante</code>.</li> <li>Dans l'onglet <code>Avanc\u00e9</code>, on modifie la <code>Priorit\u00e9</code> en mettant une valeur \u00e9lev\u00e9e, par exemple 10.</li> <li>Pour \"Xerox Office Color - G\u00e9n\u00e9ral\", on r\u00e9p\u00e8te le processus, mais on d\u00e9finit la priorit\u00e9 \u00e0 une valeur plus basse, par exemple 5.</li> </ul> </li> <li> <p>D\u00e9placer le spool d'impression:</p> <ul> <li>Toujours dans <code>P\u00e9riph\u00e9riques et imprimantes</code>, on clique sur <code>Serveur d'impression</code> en haut de la fen\u00eatre, puis on ouvre les <code>Propri\u00e9t\u00e9s</code>.</li> <li>Dans l'onglet <code>Avanc\u00e9</code>, on rep\u00e8re l'option <code>Emplacement du spool</code>.</li> <li>On change le chemin actuel de \"C:\\Windows\\System32\\spool\\PRINTERS\" \u00e0 \"D:\\spool\\PRINTERS\" </li> <li>cr\u00e9e le dossier \"D:\\spool\\PRINTERS\"  avant d'effectuer le changement.</li> </ul> </li> <li> <p>Red\u00e9marrer le service d'impression:</p> <ul> <li>Pour que les modifications prennent effet, on doit red\u00e9marrer le service Spouleur d'impression. Pour ce faire, on peut ouvrir le <code>Gestionnaire de services</code> et red\u00e9marrer le service <code>Spouleur d'impression</code>, ou simplement red\u00e9marrer l'ordinateur.</li> </ul> </li> </ol> <p># 4 - Configuration avanc\u00e9e des systems  ## Modification du chargeur d'amor\u00e7age du grub \u00e0 2 seconde:</p> <ul> <li>on modifie GRUB_TIMEOUT avec valeur : 2</li> </ul> <p><code>vim  /etc/default/grub</code></p> <ul> <li>puis on met \u00e0 jour le Grub:</li> </ul> <p><code>update-grub</code></p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#redimensionnement-et-configuration-du-swap-sur-debian","title":"Redimensionnement et configuration du swap sur Debian","text":"<p>Remarque: Faire Snapshot avant la procedure !!!</p> <ol> <li> <p>D\u00e9sactivation du swap:</p> <ul> <li>Avant d'apporter des modifications \u00e0 l'espace de swap, on s'assure qu'il est d\u00e9sactiv\u00e9. <code>swapoff /dev/sda2</code></li> </ul> </li> <li> <p>Modification du partitionnement avec <code>fdisk</code>:</p> <ul> <li> <p>On utilise l'outil <code>fdisk</code> pour ajuster le partitionnement de la partition <code>/dev/sda</code>. <code>fdisk /dev/sda</code></p> </li> <li> <p>Une fois dans <code>fdisk</code>:</p> <ul> <li>On choisit <code>p</code> pour afficher la table des partitions.</li> <li>On choisit <code>d</code> pour supprimer la partition de swap actuelle.</li> <li>On choisit <code>n</code> pour cr\u00e9er une nouvelle partition.</li> <li>On suit les invites pour sp\u00e9cifier la taille et le type (swap).</li> </ul> </li> </ul> </li> <li> <p>Formatage de la partition en tant que swap:</p> <ul> <li>Une fois la partition correctement dimensionn\u00e9e, on la formate pour le swap. <code>mkswap /dev/sda2</code></li> </ul> </li> <li> <p>Mise \u00e0 jour du fichier <code>/etc/fstab</code>:</p> <ul> <li> <p>Ce fichier permet au syst\u00e8me de savoir o\u00f9 trouver les syst\u00e8mes de fichiers lors du d\u00e9marrage. <code>nano /etc/fstab</code></p> </li> <li> <p>Dans l'\u00e9diteur:</p> <ul> <li>On rep\u00e8re la ligne existante pour le swap et la commente en ajoutant un <code>#</code> au d\u00e9but de la ligne.</li> <li>On ajoute ensuite la nouvelle configuration pour le swap: <code>/dev/sda2 swap swap defaults 0 0</code></li> </ul> </li> </ul> </li> <li> <p>Activation du swap:</p> <ul> <li>Avec la nouvelle configuration en place, on active le swap. <code>swapon /dev/sda2</code></li> </ul> </li> <li> <p>Mise \u00e0 jour de Debian:</p> <ul> <li>Maintenant que le swap est correctement configur\u00e9, on proc\u00e8de \u00e0 la mise \u00e0 jour du syst\u00e8me Debian. <code>apt update apt upgrade</code></li> </ul> </li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#activation-et-configuration-du-bureau-a-distance-sur-windows-10","title":"Activation et configuration du bureau \u00e0 distance sur Windows 10","text":"<ol> <li> <p>Acc\u00e9der au panneau de configuration:</p> <ul> <li>On ouvre le menu \"D\u00e9marrer\", on recherche \"Panneau de configuration\" et on le s\u00e9lectionne.</li> </ul> </li> <li> <p>Naviguer vers les param\u00e8tres du Bureau \u00e0 distance:</p> <ul> <li>Dans le panneau de configuration, on clique sur \"Syst\u00e8me et s\u00e9curit\u00e9\", puis sur \"Autoriser l'acc\u00e8s \u00e0 distance\" sous la section \"Syst\u00e8me\".</li> </ul> </li> <li> <p>Activer le Bureau \u00e0 distance:</p> <ul> <li>On coche la case \"Autoriser les connexions \u00e0 distance \u00e0 cet ordinateur\".</li> <li>On s'assure que \"Autoriser uniquement les connexions \u00e0 partir d'ordinateurs ex\u00e9cutant le Bureau \u00e0 distance avec authentification au niveau du r\u00e9seau (recommand\u00e9)\" est \u00e9galement coch\u00e9.</li> </ul> </li> <li> <p>Ajouter le groupe des informaticiens aux utilisateurs du Bureau \u00e0 distance:</p> <ul> <li>On ouvre l'invite de commandes PowerShell avec des droits administratifs. Pour ce faire, on clique droit sur le menu D\u00e9marrer et on choisit \"Windows PowerShell (admin)\".</li> <li>On saisit la commande suivante pour ajouter le groupe \"informatique\" aux utilisateurs autoris\u00e9s du Bureau \u00e0 distance :   <code>powershell   net localgroup \"utilisateurs du bureau \u00e0 distance\" informatique /add</code></li> <li>On peut v\u00e9rifier si l'op\u00e9ration a \u00e9t\u00e9 r\u00e9ussie en entrant :   <code>powershell   net localgroup \"utilisateurs du bureau \u00e0 distance\"</code>   On s'attend \u00e0 voir \"informatique\" dans la liste des membres.</li> </ul> </li> <li> <p>V\u00e9rification du num\u00e9ro de port RDP:</p> <ul> <li>Pour conna\u00eetre le num\u00e9ro de port utilis\u00e9 par le Bureau \u00e0 distance, on utilise la commande :   <code>powershell   netstat -an | find \"3389\"</code>   Si le port 3389 appara\u00eet dans les r\u00e9sultats, cela signifie que le Bureau \u00e0 distance est correctement configur\u00e9 pour utiliser ce port par d\u00e9faut.</li> </ul> </li> <li> <p>Finalisation:</p> <ul> <li>Une fois toutes ces \u00e9tapes effectu\u00e9es, on red\u00e9marre l'ordinateur pour que les modifications prennent effet. On teste ensuite la connexion \u00e0 distance pour s'assurer que tout fonctionne correctement.</li> </ul> </li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#5-installation-dapplications","title":"5 \u2013 Installation d\u2019applications","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#sur-windows-10","title":"sur windows 10","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#installation-silencieuse-de-7-zip","title":"Installation silencieuse de 7-Zip","text":"<ol> <li>T\u00e9l\u00e9chargement du logiciel:</li> <li> <p>On se rend sur le site officiel de 7-Zip pour t\u00e9l\u00e9charger l'installateur du logiciel, soit en version 32 bits (x86) ou 64 bits (x64), en fonction de la version de Windows sur laquelle on souhaite installer.</p> </li> <li> <p>Pr\u00e9paration de l'installation silencieuse:</p> </li> <li> <p>On s'assure d'avoir les droits administratifs sur la machine. Si ce n'est pas le cas, on doit ex\u00e9cuter l'installateur avec des droits \u00e9lev\u00e9s.</p> </li> <li> <p>Lancement de l'installation silencieuse:</p> </li> <li>On ouvre l'invite de commandes (CMD) en tant qu'administrateur.</li> <li> <p>On navigue vers l'emplacement o\u00f9 se trouve l'installateur t\u00e9l\u00e9charg\u00e9 \u00e0 l'\u00e9tape 1. Par exemple, si l'installateur est sur le bureau, on utilise la commande :       <code>cd %AV%\\Desktop</code></p> </li> <li> <p>Pour la version 64 bits (nom de fichier par d\u00e9faut : <code>7zXXXX-x64.msi</code>):      <code>msiexec /i 7zXXXX-x64.msi /qn</code>      On remplace <code>XXXX</code> par le num\u00e9ro de version appropri\u00e9.</p> </li> <li> <p>V\u00e9rification:</p> </li> <li>Apr\u00e8s l'installation, on v\u00e9rifie que 7-Zip est correctement install\u00e9. On peut le faire en ouvrant le menu D\u00e9marrer et en recherchant 7-Zip. Si l'application est pr\u00e9sente, cela signifie que l'installation a \u00e9t\u00e9 r\u00e9ussie.</li> </ol> <p>Note : Le commutateur <code>/qn</code> signifie \"quiet no UI\". Il permet une installation silencieuse sans interface utilisateur. L'alerte UAC (Contr\u00f4le de compte utilisateur) pourrait toujours s'afficher pour demander l'autorisation d'installer le logiciel. </p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#connexion-rdp-a-un-poste-windows-depuis-debianlinux","title":"Connexion RDP \u00e0 un poste Windows depuis Debian/Linux","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#1-recherche-dapplications-gerant-le-protocole-rdp-avec-nla","title":"1. Recherche d'applications g\u00e9rant le protocole RDP avec NLA:","text":"<ul> <li>Avant d'installer tout logiciel, on v\u00e9rifie les solutions disponibles dans les d\u00e9p\u00f4ts officiels pour g\u00e9rer le protocole RDP :</li> </ul> <pre><code>apt search rdp\napt search bureau \u00e0 distance\n</code></pre> <p>ou</p> <pre><code>apt search remote desktop\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#2-installation-de-remmina","title":"2. Installation de Remmina:","text":"<ul> <li>Suite \u00e0 la recherche, on d\u00e9termine que <code>Remmina</code> est l'outil adapt\u00e9 \u00e0 nos besoins, en particulier pour g\u00e9rer l'authentification NLA.</li> </ul> <p>Pour installer Remmina :</p> <pre><code>apt install remmina\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#3-configuration-et-utilisation-de-remmina","title":"3. Configuration et utilisation de Remmina:","text":"<ul> <li>On ouvre l'interface graphique et lance <code>Remmina</code>.</li> <li>Dans Remmina, on clique sur l'option pour cr\u00e9er une nouvelle connexion.</li> <li>On s\u00e9lectionne <code>RDP</code> comme protocole.</li> <li>On renseigne les informations n\u00e9cessaires pour la connexion :</li> <li>Serveur: Adresse IP ou nom d'h\u00f4te du poste Windows.</li> <li>Nom d'utilisateur: Nom d'utilisateur pour la connexion.</li> <li>Mot de passe: Mot de passe associ\u00e9.</li> <li>Domaine: Si n\u00e9cessaire, on sp\u00e9cifie le domaine de connexion.</li> </ul> <p>Une fois les informations renseign\u00e9es, on clique sur <code>Connexion</code> pour initier la session RDP.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#installation-de-webmin-pour-la-gestion-via-une-interface-web","title":"Installation de Webmin pour la gestion via une interface web","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#1-installation-en-ligne","title":"1. Installation en ligne :","text":"<p>On suit le guide disponible sur le site officiel de Webmin : Guide d'installation de Webmin</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#2-gestion-des-dependances-manquantes","title":"2. Gestion des d\u00e9pendances manquantes :","text":"<p>Si des d\u00e9pendances sont manquantes, on les installe en utilisant les commandes appropri\u00e9es, par exemple :</p> <pre><code>apt install [nom_de_la_d\u00e9pendance]\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#3-reparation-de-webmin-si-necessaire","title":"3. R\u00e9paration de Webmin si n\u00e9cessaire :","text":"<p>Dans le cas o\u00f9 Webmin serait endommag\u00e9 apr\u00e8s l'installation, on utilise la commande suivante pour le r\u00e9parer :</p> <pre><code>apt install --fix-broken\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#4-acces-a-linterface-de-webmin","title":"4. Acc\u00e8s \u00e0 l'interface de Webmin :","text":"<p>Apr\u00e8s l'installation, on ouvre un navigateur et se rend \u00e0 l'adresse suivante : <code>https://[adresse_ip_du_serveur]:10000</code> Si une alerte de s\u00e9curit\u00e9 appara\u00eet en raison du certificat SSL auto-sign\u00e9, on choisit de \"continuer\" ou \"accepter le risque\" pour acc\u00e9der \u00e0 l'interface.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#5-authentification","title":"5. Authentification :","text":"<p>\u00c0 la page de connexion, on s'authentifie en tant que <code>root</code> ou tout autre utilisateur disposant des droits d'administration.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#6-verification","title":"6. V\u00e9rification :","text":"<p>Une fois connect\u00e9, on peut voir l'interface de Webmin. Tout est en ordre si l'on peut naviguer sans probl\u00e8me.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#6-sauvegarde-et-restauration","title":"6 \u2013 Sauvegarde et restauration","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#planification-dune-sauvegarde-quotidienne-et-duplication-des-fichiers","title":"Planification d'une sauvegarde quotidienne et duplication des fichiers","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#1-creation-du-script-de-sauvegarde","title":"1. Cr\u00e9ation du script de sauvegarde :","text":"<ul> <li>On commence par cr\u00e9er un script pour r\u00e9aliser la sauvegarde des donn\u00e9es :</li> </ul> <pre><code>vim /root/script.sh\n</code></pre> <ul> <li>Dans ce script, on ins\u00e8re les commandes suivantes :</li> </ul> <pre><code>#!/bin/bash\ntar cf /root/HomeBack.tar /home\ntar cf /root/ServicesBack.tar /services\n</code></pre> <ul> <li>Ensuite, on modifie les permissions pour permettre l'ex\u00e9cution du script :</li> </ul> <pre><code>chmod u+x /root/script.sh\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#2-planification-de-la-sauvegarde","title":"2. Planification de la sauvegarde :","text":"<ul> <li>On planifie ensuite la sauvegarde \u00e0 l'aide de <code>crontab</code> :</li> </ul> <pre><code>crontab -e\n</code></pre> <ul> <li>Puis, on ajoute la ligne suivante pour ex\u00e9cuter le script tous les jours de la semaine \u00e0 12h30 :</li> </ul> <pre><code>30 12 * * 1-5 /root/script.sh\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#3-duplication-des-fichiers-avec-scp","title":"3. Duplication des fichiers avec <code>scp</code> :","text":"<ul> <li>On v\u00e9rifie si <code>scp</code> est install\u00e9 sur le syst\u00e8me :</li> </ul> <pre><code>apt-cache search scp\n</code></pre> <ul> <li>Si n\u00e9cessaire, on installe le paquet correspondant.</li> <li>Dans <code>crontab</code>, on ajoute une ligne pour copier les sauvegardes vers une machine distante :</li> </ul> <pre><code>32 12 * * 1-5 scp /root/*.tar utilisateur@adresse_ip_du_bin\u00f4me:/dossier_de_destination/\n</code></pre> <p>Note: Pensez \u00e0 utiliser une cl\u00e9 SSH pour une authentification sans mot de passe avec <code>scp</code>.</p> <p>Avec cette configuration, les donn\u00e9es seront sauvegard\u00e9es quotidiennement \u00e0 12h30 et dupliqu\u00e9es sur une autre machine \u00e0 12h32.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#sauvegarde-sur-les-postes-windows-10","title":"Sauvegarde sur les postes Windows 10","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#1-ajout-dun-nouveau-disque-dur","title":"1. Ajout d'un nouveau disque dur :","text":"<ul> <li>Si l'espace de stockage est insuffisant, on commence par ajouter un disque dur de 60 Go.</li> <li>On suit la proc\u00e9dure d\u00e9j\u00e0 fournie d\u2019ajout de disque sous Vmware workstation.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#2-creation-dune-image-systeme","title":"2. Cr\u00e9ation d'une image syst\u00e8me :","text":"<ul> <li>Aller dans D\u00e9marrer &gt; Param\u00e8tres &gt; Syst\u00e8me &gt; Stockage &gt; Gestion des disques.</li> <li>Une fois dans le gestionnaire de disques :</li> <li>On rep\u00e8re le nouveau disque de 60 Go qui devrait appara\u00eetre comme \"Non allou\u00e9\".</li> <li>Faire un clic-droit sur ce disque puis choisir \"Nouveau volume simple\".</li> <li>Suivre l'assistant : choisir la taille maximale pour le volume, attribuer une lettre au disque, puis formater le volume avec le format NTFS et attribuer un nom de votre choix.</li> <li>Pour cr\u00e9er une image :</li> <li>Aller dans Panneau de configuration &gt; Syst\u00e8me et s\u00e9curit\u00e9 &gt; Sauvegarder et restaurer.</li> <li>Dans le volet de gauche, choisir Cr\u00e9er une image syst\u00e8me.</li> <li>Suivre l'assistant, choisir le disque nouvellement cr\u00e9\u00e9 pour stocker l'image.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#3-planification-dune-sauvegarde-journaliere","title":"3. Planification d'une sauvegarde journali\u00e8re :","text":"<ul> <li>Retourner dans Panneau de configuration &gt; Syst\u00e8me et s\u00e9curit\u00e9 &gt; Sauvegarder et restaurer.</li> <li>Cliquer sur \"Configurer la sauvegarde\".</li> <li>Dans la nouvelle fen\u00eatre, choisir \"Enregistrer sur un r\u00e9seau...\".</li> <li>Une bo\u00eete de dialogue s'ouvre pour demander l'emplacement r\u00e9seau. Entrer <code>\\@ip_du_bin\u00f4me\\Support_Info</code> et fournir les informations d'identification n\u00e9cessaires.</li> <li>Une fois l'emplacement r\u00e9seau choisi, s\u00e9lectionner \"Me laisser choisir\" pour choisir les dossiers \u00e0 sauvegarder.</li> <li>Cocher uniquement le dossier \"Support_Info\" et d\u00e9cocher l'option \"Inclure une image syst\u00e8me de lecteurs\".</li> <li>Passer \u00e0 l'\u00e9tape suivante et choisir \"Modifier la planification\". Choisir une sauvegarde quotidienne et r\u00e9gler l'heure sur 13:00.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#4-ajustement-de-lheure-de-sauvegarde","title":"4. Ajustement de l'heure de sauvegarde :","text":"<ul> <li>Pour une planification pr\u00e9cise \u00e0 12h45, ouvrir le Planificateur des t\u00e2ches \u00e0 partir du menu D\u00e9marrer.</li> <li>Dans la fen\u00eatre du Planificateur des t\u00e2ches, chercher dans le volet central la t\u00e2che nomm\u00e9e \"AutomaticBackup\".</li> <li>Faire un double-clic dessus pour l'ouvrir.</li> <li>Aller dans l'onglet \"D\u00e9clencheurs\" et modifier le d\u00e9clenchement existant.</li> <li>R\u00e9gler l'heure sur 12h45 et confirmer.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#conclusion","title":"Conclusion :","text":"<p>Avec ces \u00e9tapes, on assure que le syst\u00e8me Windows 10 est correctement sauvegard\u00e9 et que les donn\u00e9es importantes sont s\u00e9curis\u00e9es r\u00e9guli\u00e8rement.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#parametrage-des-points-de-restauration-sur-le-volume-c-sous-windows-10","title":"Param\u00e9trage des points de restauration sur le volume \u00ab C: \u00bb sous Windows 10","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#1-acces-a-la-gestion-des-points-de-restauration-systeme","title":"1. Acc\u00e8s \u00e0 la gestion des points de restauration syst\u00e8me:","text":"<ul> <li>On commence par ouvrir le Panneau de configuration. </li> <li> <p>Pour ce faire, on clique sur le bouton D\u00e9marrer, tape \"Panneau de configuration\" dans la barre de recherche et s\u00e9lectionne l'application correspondante parmi les r\u00e9sultats.</p> </li> <li> <p>Une fois dans le Panneau de configuration, on clique sur Syst\u00e8me et s\u00e9curit\u00e9.</p> </li> <li> <p>Dans la fen\u00eatre suivante, on clique sur Syst\u00e8me.</p> </li> <li> <p>Sur le volet de gauche, on s\u00e9lectionne Protection du syst\u00e8me. Cela ouvre une fen\u00eatre nomm\u00e9e \"Propri\u00e9t\u00e9s syst\u00e8me\", avec l'onglet \"Protection du syst\u00e8me\" actif.</p> </li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#2-configuration-des-points-de-restauration-pour-le-lecteur-c","title":"2. Configuration des points de restauration pour le lecteur C:","text":"<ul> <li> <p>Sous l'onglet Protection du syst\u00e8me, dans la section \"Protection des param\u00e8tres\", on rep\u00e8re le lecteur C:.</p> </li> <li> <p>Si la protection est d\u00e9sactiv\u00e9e pour le lecteur C:, on le s\u00e9lectionne puis clique sur Configurer....</p> </li> <li> <p>Dans la fen\u00eatre qui s'affiche :</p> </li> <li> <p>On coche Activer la protection du syst\u00e8me.</p> </li> <li> <p>Dans \"Utilisation maximale\", on d\u00e9finit l'espace disque \u00e0 utiliser pour la protection du syst\u00e8me \u00e0 8%.</p> </li> <li> <p>On confirme les modifications en cliquant sur Appliquer puis OK.</p> </li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#3-creation-dun-point-de-restauration-systeme","title":"3. Cr\u00e9ation d'un point de restauration syst\u00e8me:","text":"<ul> <li> <p>Toujours dans l'onglet Protection du syst\u00e8me, avec le lecteur C: s\u00e9lectionn\u00e9, on clique sur Cr\u00e9er....</p> </li> <li> <p>On nomme le point de restauration (par exemple, \"Point initial\") et clique sur Cr\u00e9er.</p> </li> <li> <p>Une fois le point de restauration cr\u00e9\u00e9, un message de confirmation appara\u00eet.</p> </li> <li> <p>On ferme toutes les fen\u00eatres ouvertes pour terminer la proc\u00e9dure.</p> </li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#note","title":"note:","text":"<p>On a d\u00e9sormais param\u00e9tr\u00e9 la protection du syst\u00e8me pour le lecteur C: en r\u00e9servant 8% de sa capacit\u00e9 pour les points de restauration et cr\u00e9\u00e9 un point de restauration initial.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#7-partitionnement-lvm","title":"7 -  Partitionnement LVM","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#faire-snaphot-avant-de-demarer-la-procedure","title":"!!! Faire snaphot avant de demarer la procedure !!!","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#montage-permanent-de-la-partition-logs-dans-le-dossier-varlog-sur-debian","title":"Montage permanent de la partition \u00ab LOGS \u00bb dans le dossier \u00ab /var/log \u00bb sur Debian","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#1-redemarrage-en-mode-maintenance","title":"1. Red\u00e9marrage en mode maintenance:","text":"<p>Je commence par red\u00e9marrer en mode maintenance pour m'assurer qu'aucun processus n'utilise le dossier <code>/var/log</code> pendant le d\u00e9placement. </p> <pre><code>init 1\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#2-creation-dun-dossier-temporaire-et-copie-des-logs","title":"2. Cr\u00e9ation d'un dossier temporaire et copie des logs:","text":"<p>Une fois en mode maintenance, je cr\u00e9e un dossier temporaire pour stocker les logs existants et je copie le contenu de <code>/var/log</code> dans ce dossier tout en conservant les permissions.</p> <pre><code>mkdir /tmp/logs\ncp -rp /var/log/* /tmp/logs/\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#3-modification-du-fichier-etcfstab","title":"3. Modification du fichier <code>/etc/fstab</code>:","text":"<p>Je modifie ensuite le fichier <code>/etc/fstab</code> pour y ajouter la partition \u00ab LOGS \u00bb. Cela permettra de monter cette partition automatiquement au d\u00e9marrage.</p> <pre><code>echo \"LABEL=LOGS /var/log xfs defaults 0 0\" &gt;&gt; /etc/fstab\n</code></pre> <p>Je v\u00e9rifie ensuite que le montage se fait correctement avec la commande :</p> <pre><code>mount -a\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#4-recopie-des-logs-dans-la-nouvelle-partition","title":"4. Recopie des logs dans la nouvelle partition:","text":"<p>Je copie maintenant les logs du dossier temporaire vers la nouvelle partition.</p> <pre><code>cp -rp /tmp/logs/* /var/log/\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#5-verification-du-contenu","title":"5. V\u00e9rification du contenu:","text":"<p>Je v\u00e9rifie que le contenu des deux dossiers est identique pour m'assurer que tout a \u00e9t\u00e9 copi\u00e9 correctement.</p> <pre><code>ls -al /var/log/\nls -al /tmp/logs/\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#6-redemarrage-de-la-machine","title":"6. Red\u00e9marrage de la machine:","text":"<p>Je red\u00e9marre la machine pour que les changements prennent effet.</p> <pre><code>reboot\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#7-verification-des-nouvelles-inscriptions-dans-les-journaux","title":"7. V\u00e9rification des nouvelles inscriptions dans les journaux:","text":"<p>Apr\u00e8s le red\u00e9marrage, je m'assure que de nouvelles donn\u00e9es ont \u00e9t\u00e9 inscrites dans les journaux pendant ou apr\u00e8s le d\u00e9marrage du syst\u00e8me.</p> <pre><code>tail /var/log/syslog\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#monter-le-partage-support_info-depuis-debian","title":"Monter le partage \u00ab Support_Info \u00bb depuis Debian","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#1-prerequis-sur-mon-poste-windows-10","title":"1. Pr\u00e9requis sur mon poste Windows 10","text":"<ul> <li>Activer le support du protocole SMB/CIFS :</li> <li>Je vais dans les \"Fonctionnalit\u00e9s Windows\" et je m'assure que la fonctionnalit\u00e9 \"Support du partage de fichiers SMB 1.0/CIFS\" est activ\u00e9e.</li> <li> <p>Note :  le protocole SMB1 est obsol\u00e8te et peut pr\u00e9senter des risques de s\u00e9curit\u00e9.</p> </li> <li> <p>Configurer le partage \"Support_Info\" :</p> </li> <li>Je m'assure que le partage \"Support_Info\" est accessible et n'est pas cach\u00e9 (le nom ne doit pas se terminer par un $).</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#2-configuration-sur-debian","title":"2. Configuration sur Debian","text":"<ul> <li> <p>Installer les outils n\u00e9cessaires :   <code>bash   apt install cifs-utils</code></p> </li> <li> <p>Cr\u00e9er le r\u00e9pertoire de montage :   <code>bash   mkdir /home/loxton/support_info</code></p> </li> <li> <p>Attribuer les droits n\u00e9cessaires sur le r\u00e9pertoire :   <code>bash   chown loxton:informatique /home/loxton/support_info   chmod 770 /home/loxton/support_info</code></p> </li> <li> <p>Configurer le montage automatique :</p> </li> <li> <p>J'\u00e9dite le fichier <code>/etc/fstab</code> pour ajouter la ligne suivante :     <code>bash     //172.16.63.253/support_info /home/loxton/support_info cifs username=loxton,password=TLP4$$VV0rI),file_mode=0777,dir_mode=0777 0 0</code></p> </li> <li> <p>Monter le partage :   <code>bash   mount -a</code></p> </li> </ul> <p>Astuce : Pour des raisons de s\u00e9curit\u00e9, il vaut mieux que je ne stocke pas de mots de passe en clair dans <code>/etc/fstab</code>. Je devrais envisager d'utiliser des options de montage s\u00e9curis\u00e9es ou des fichiers de credentials s\u00e9par\u00e9s.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#deplacement-du-fichier-de-pagination-swap-a-la-racine-du-lecteur-d-sur-windows","title":"D\u00e9placement du fichier de pagination (swap) \u00e0 la racine du lecteur D: sur Windows","text":"<ol> <li>Acc\u00e9der au Panneau de Configuration :</li> <li>Je clique sur le bouton D\u00e9marrer ou j'appuie sur la touche Windows de mon clavier.</li> <li> <p>Dans la barre de recherche, je tape \"Panneau de configuration\" et je le s\u00e9lectionne dans les r\u00e9sultats.</p> </li> <li> <p>Entrer dans les Param\u00e8tres syst\u00e8mes avanc\u00e9s :</p> </li> <li>Une fois dans le Panneau de Configuration, je clique sur \"Syst\u00e8me et S\u00e9curit\u00e9\".</li> <li>Ensuite, je clique sur \"Syst\u00e8me\".</li> <li> <p>Dans le menu lat\u00e9ral gauche, je clique sur \"Param\u00e8tres syst\u00e8me avanc\u00e9s\".</p> </li> <li> <p>Acc\u00e9der aux Param\u00e8tres de performance :</p> </li> <li> <p>Dans la fen\u00eatre des Propri\u00e9t\u00e9s Syst\u00e8me qui s'affiche, sous l'onglet \"Avanc\u00e9\", je trouve la section \"Performances\" et je clique sur le bouton \"Param\u00e8tres...\".</p> </li> <li> <p>Modifier le fichier de pagination :</p> </li> <li>Sous l'onglet \"Avanc\u00e9\" de la fen\u00eatre qui s'affiche, je trouve la section \"M\u00e9moire virtuelle\" et je clique sur le bouton \"Modifier...\".</li> <li> <p>Dans la fen\u00eatre de la m\u00e9moire virtuelle, je d\u00e9coche la case \"Gestion automatique du fichier d'\u00e9change pour les lecteurs\".</p> </li> <li> <p>Configurer le fichier de pagination pour le lecteur D: :</p> </li> <li>Dans la liste des lecteurs, je s\u00e9lectionne le lecteur C: et je choisis \"Aucun fichier d'\u00e9change\", puis je clique sur \"D\u00e9finir\".</li> <li>Ensuite, je s\u00e9lectionne le lecteur D:.</li> <li>Je coche l'option \"Taille g\u00e9r\u00e9e par le syst\u00e8me\".</li> <li> <p>Je clique sur \"D\u00e9finir\".</p> </li> <li> <p>Valider les modifications :</p> </li> <li>Je clique sur \"OK\" pour fermer la fen\u00eatre de la m\u00e9moire virtuelle.</li> <li>Je clique de nouveau sur \"OK\" pour fermer la fen\u00eatre des Param\u00e8tres de performance.</li> <li> <p>Je clique une derni\u00e8re fois sur \"OK\" pour fermer la fen\u00eatre des Propri\u00e9t\u00e9s Syst\u00e8me.</p> </li> <li> <p>Red\u00e9marrer l'ordinateur :</p> </li> <li>Pour que les modifications soient prises en compte, je red\u00e9marre mon ordinateur.</li> <li>Je m'assure de sauvegarder tous mes travaux en cours avant de red\u00e9marrer.</li> </ol> <p>Apr\u00e8s le red\u00e9marrage, le fichier de pagination (swap) sera d\u00e9plac\u00e9 \u00e0 la racine du lecteur D:, et le syst\u00e8me g\u00e9rera sa taille automatiquement.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/TP/Procedure%20complete%20MSP1_client/#configuration-de-lvm-pour-le-dossier-opt-sur-debian","title":"Configuration de LVM pour le dossier /opt sur Debian","text":"<p>Je travaille sur un poste Debian et j'ai d\u00e9cid\u00e9 d'utiliser LVM pour g\u00e9rer l'espace de stockage du dossier <code>/opt</code>, car plusieurs applications install\u00e9es depuis les sources seront plac\u00e9es \u00e0 cet emplacement. Voici les \u00e9tapes d\u00e9taill\u00e9es pour r\u00e9aliser cette configuration :</p> <ol> <li>Ajout de disques SCSI :</li> <li>J'ajoute 2 nouveaux disques SCSI de 20Go \u00e0 mon syst\u00e8me.</li> <li> <p>Je red\u00e9marre la VM pour garantir la prise en compte des nouveaux disques.</p> </li> <li> <p>V\u00e9rification de la d\u00e9tection des disques :</p> </li> <li> <p>Avant de configurer LVM, je m'assure que les disques sont correctement reconnus par le syst\u00e8me.</p> </li> <li> <p>Installation du gestionnaire LVM :</p> </li> <li>Je recherche le paquet associ\u00e9 \u00e0 LVM : <code># apt search lvm</code></li> <li> <p>Je l'installe : <code># apt install lvm2</code></p> </li> <li> <p>Pr\u00e9paration des disques pour LVM :</p> </li> <li>Je cr\u00e9e un volume physique sur chacun des deux disques : <code># pvcreate /dev/sdc /dev/sdd</code></li> <li> <p>Je v\u00e9rifie le r\u00e9sultat avec : <code># pvdisplay</code></p> </li> <li> <p>Cr\u00e9ation d'un groupe de volumes :</p> </li> <li> <p>Je groupe les deux disques en un seul groupe de volumes nomm\u00e9 \"applications\" : <code># vgcreate applications /dev/sdc /dev/sdd</code></p> </li> <li> <p>Cr\u00e9ation d'un volume logique :</p> </li> <li>Au sein du groupe \"applications\", je cr\u00e9e un volume logique nomm\u00e9 \"opt\" avec une taille de 32Go : <code># lvcreate -n opt -L 32G applications</code></li> <li> <p>Je v\u00e9rifie avec : <code># lvdisplay</code></p> </li> <li> <p>Formatage du volume logique en ext4 :</p> </li> <li> <p>Je formate le volume logique en ext4 : <code># mkfs.ext4 /dev/applications/opt</code></p> </li> <li> <p>Montage permanent du volume logique dans /opt :</p> </li> <li>J'ajoute une entr\u00e9e dans le fichier <code>/etc/fstab</code> pour monter automatiquement le volume au d\u00e9marrage : <code># echo \"/dev/mapper/applications-opt /opt ext4 defaults 0 0\" &gt;&gt; /etc/fstab</code></li> <li>Je monte tous les syst\u00e8mes de fichiers d\u00e9crits dans <code>/etc/fstab</code> : <code># mount -a</code></li> </ol> <p>Apr\u00e8s ces \u00e9tapes, le dossier <code>/opt</code> est correctement configur\u00e9 pour utiliser l'espace de stockage fourni par LVM et s'\u00e9tend sur les deux disques physiques.</p>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/ressource/partage_dossier_shell/","title":"Partage dossier shell","text":"<ol> <li> <p>On commence par cr\u00e9er le partage en utilisant la commande PowerShell suivante :    <code>powershell    New-smbshare support_info$ -path d:support_info -changeaccess \u201cutilisateurs authentifi\u00e9s\u201d</code></p> </li> <li> <p>Pour modifier les autorisations sur ce partage, on suit les \u00e9tapes ci-dessous :</p> </li> </ol> <p>a. On r\u00e9cup\u00e8re les autorisations actuelles (Access Control List, ou ACL) du dossier avec :    <code>powershell    $acl = get-acl D:support_info</code></p> <p>b. On d\u00e9finit une nouvelle r\u00e8gle (Access Control Entry, ou ACE) pour donner au groupe informatique le droit de modification :    <code>powershell    $ace = New-Object security.accesscontrol.filesystemaccessrule(\"L_informatique_RW\", \"Modify\", \"Allow\")</code></p> <p>c. On applique cette nouvelle r\u00e8gle \u00e0 la liste d'autorisations :    <code>powershell    $acl.addaccessrule($ace)</code></p> <p>d. On met \u00e0 jour les autorisations du dossier avec la liste modifi\u00e9e :    <code>powershell    set-acl D:support_info $acl</code></p> <ol> <li>Pour voir la liste des dossiers partag\u00e9s via la ligne de commande, on tape :    <code>net share</code></li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/ressource/partageimprimante/","title":"Partageimprimante","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/ressource/partageimprimante/#installation-et-partage-de-limprimante-hp-laserjet-m9050-mfp","title":"Installation et partage de l'imprimante HP LaserJet M9050 MFP","text":"<ol> <li>D\u00e9marrage du gestionnaire d'ajout d'imprimante :</li> <li>On se rend dans <code>Panneau de configuration</code> &gt; <code>Mat\u00e9riel et audio</code> &gt; <code>P\u00e9riph\u00e9riques et imprimantes</code>.</li> <li> <p>On clique sur <code>Ajouter une imprimante</code>.</p> </li> <li> <p>Choix du type d'imprimante :</p> </li> <li>Lorsqu'on est interrog\u00e9 sur la mani\u00e8re d'installer l'imprimante, on choisit <code>Ajouter une imprimante en utilisant une adresse IP ou un nom d'h\u00f4te</code>.</li> <li> <p>On clique sur <code>Suivant</code>.</p> </li> <li> <p>Renseignement de l'adresse IP :</p> </li> <li>Dans le champ <code>Nom d'h\u00f4te ou adresse IP</code>, on inscrit <code>172.16.63.251</code>.</li> <li>On s'assure que l'option <code>Interroger l'imprimante et s\u00e9lectionner automatiquement le pilote \u00e0 utiliser</code> est activ\u00e9e.</li> <li> <p>On clique sur <code>Suivant</code>.</p> </li> <li> <p>S\u00e9lection du pilote :</p> </li> <li>Si Windows reconna\u00eet l'imprimante, il peut proposer un pilote par d\u00e9faut. Sinon, on s\u00e9lectionne <code>HP</code> comme fabricant et trouve <code>LaserJet M9050 MFP</code> dans la liste des pilotes.</li> <li>Si le pilote n'est pas list\u00e9, il faudra peut-\u00eatre le t\u00e9l\u00e9charger depuis le site officiel de HP et l'installer manuellement.</li> <li> <p>On clique sur <code>Suivant</code>.</p> </li> <li> <p>Nom de l'imprimante :</p> </li> <li>On donne un nom \u00e0 l'imprimante, par exemple : \"HP LaserJet M9050 MFP\".</li> <li> <p>On clique sur <code>Suivant</code>.</p> </li> <li> <p>Options de partage :</p> </li> <li>Quand l'option de partage est pr\u00e9sent\u00e9e, on coche <code>Partager cette imprimante</code>.</li> <li>Dans le champ <code>Nom de partage</code>, on indique un nom qui sera utilis\u00e9 sur le r\u00e9seau pour acc\u00e9der \u00e0 cette imprimante. Par exemple, \"HPM9050_Shared\".</li> <li> <p>On clique sur <code>Suivant</code>.</p> </li> <li> <p>Finalisation :</p> </li> <li>Une page r\u00e9capitulative est pr\u00e9sent\u00e9e. On v\u00e9rifie toutes les informations.</li> <li> <p>On clique sur <code>Terminer</code>.</p> </li> <li> <p>Test :</p> </li> <li> <p>Pour confirmer que tout est bien configur\u00e9, on imprime une page test.</p> </li> <li> <p>Acc\u00e8s depuis un autre poste :</p> </li> <li>Depuis un autre ordinateur du r\u00e9seau, on va dans <code>P\u00e9riph\u00e9riques et imprimantes</code>, puis on ajoute une imprimante.</li> <li>On recherche l'imprimante partag\u00e9e par nom et l'ajoute \u00e0 la liste des imprimantes de l'ordinateur.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/ressource/procedure%20pour%20mise%20a%20jour%20home/","title":"Procedure pour mise a jour home","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/ressource/procedure%20pour%20mise%20a%20jour%20home/#mise-a-jour-du-repertoire-home","title":"Mise \u00e0 jour du r\u00e9pertoire <code>/home</code>","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/ressource/procedure%20pour%20mise%20a%20jour%20home/#preparation","title":"Pr\u00e9paration","text":"<ol> <li>Sauvegarde : </li> <li> <p>On s'assure d'avoir une sauvegarde compl\u00e8te de toutes les donn\u00e9es, en particulier du r\u00e9pertoire <code>/home</code>.</p> </li> <li> <p>Information des utilisateurs:</p> </li> <li> <p>On informe tous les utilisateurs qu'une maintenance est pr\u00e9vue. On pr\u00e9cise la dur\u00e9e estim\u00e9e de cette maintenance.</p> </li> <li> <p>D\u00e9sactivation de l'acc\u00e8s des utilisateurs:</p> </li> <li>Pour emp\u00eacher les connexions pendant la transition, on passe en mode de maintenance:    <code>systemctl isolate rescue.target</code></li> <li>Si le syst\u00e8me est accessible via SSH, on d\u00e9sactive le service:    <code>systemctl stop sshd</code></li> <li>On cr\u00e9e un fichier <code>/etc/nologin</code> pour emp\u00eacher les utilisateurs non-root de se connecter:    <code>echo \"Maintenance en cours, veuillez r\u00e9essayer plus tard.\" &gt; /etc/nologin</code></li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/ressource/procedure%20pour%20mise%20a%20jour%20home/#processus-de-transition","title":"Processus de transition","text":"<ol> <li> <p>Copie temporaire de <code>/home</code> :    <code>cp -rp /home /tmp/home-backup</code></p> </li> <li> <p>Modification du fichier <code>/etc/fstab</code> :    <code>vim /etc/fstab</code></p> </li> <li>On commente la ligne concernant <code>/home</code> en ajoutant un <code>#</code> devant :    <code>#UUID=4b59933b-136a-4287-8658-c97b2ec93603 /home ext4 defaults 0 2</code></li> <li> <p>On ajoute ensuite la ligne pour monter la partition <code>PROFILS</code> \u00e0 <code>/home</code> :    <code>LABEL=PROFILS /home ext4 defaults 0 2</code></p> </li> <li> <p>Montage des partitions :    <code>mount -a</code></p> </li> <li> <p>Copie des donn\u00e9es du backup vers le nouveau <code>/home</code> :    <code>cp -rp /tmp/home-backup/* /home/</code></p> </li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/ressource/procedure%20pour%20mise%20a%20jour%20home/#verifications-post-transition","title":"V\u00e9rifications post-transition","text":"<ol> <li>R\u00e9activation de l'acc\u00e8s des utilisateurs:</li> <li>On repasse en mode normal:    <code>systemctl isolate default.target</code></li> <li>Si le service SSH a \u00e9t\u00e9 d\u00e9sactiv\u00e9, on le r\u00e9active:    <code>systemctl start sshd</code></li> <li> <p>On supprime le fichier <code>/etc/nologin</code> pour permettre aux utilisateurs de se reconnecter:    <code>rm /etc/nologin</code></p> </li> <li> <p>V\u00e9rification de la copie :</p> </li> <li> <p>On s'assure que toutes les donn\u00e9es et permissions sont correctement copi\u00e9es sur le nouveau volume.</p> </li> <li> <p>Nettoyage :</p> </li> <li> <p>Apr\u00e8s s'\u00eatre assur\u00e9 que tout est en ordre, on peut supprimer le r\u00e9pertoire de backup pour r\u00e9cup\u00e9rer l'espace :    <code>rm -rf /tmp/home-backup</code></p> </li> <li> <p>Test final :</p> </li> <li>On se connecte en tant qu'utilisateur pour s'assurer que tout est op\u00e9rationnel.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/ressource/sauvegarde%20et%20restauration/","title":"Sauvegarde et restauration","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/ressource/sauvegarde%20et%20restauration/#planification-dune-sauvegarde-quotidienne-et-duplication-des-fichiers","title":"Planification d'une sauvegarde quotidienne et duplication des fichiers","text":""},{"location":"Cours_partag%C3%A9/AV/MSP_client/ressource/sauvegarde%20et%20restauration/#1-creation-du-script-de-sauvegarde","title":"1. Cr\u00e9ation du script de sauvegarde :","text":"<ul> <li>On commence par cr\u00e9er un script pour r\u00e9aliser la sauvegarde des donn\u00e9es :</li> </ul> <pre><code>vim /root/script.sh\n</code></pre> <ul> <li>Dans ce script, on ins\u00e8re les commandes suivantes :</li> </ul> <pre><code>#!/bin/bash\ntar cf /root/HomeBack.tar /home\ntar cf /root/ServicesBack.tar /services\n</code></pre> <ul> <li>Ensuite, on modifie les permissions pour permettre l'ex\u00e9cution du script :</li> </ul> <pre><code>chmod u+x /root/script.sh\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/ressource/sauvegarde%20et%20restauration/#2-planification-de-la-sauvegarde","title":"2. Planification de la sauvegarde :","text":"<ul> <li>On planifie ensuite la sauvegarde \u00e0 l'aide de <code>crontab</code> :</li> </ul> <pre><code>crontab -e\n</code></pre> <ul> <li>Puis, on ajoute la ligne suivante pour ex\u00e9cuter le script tous les jours de la semaine \u00e0 12h30 :</li> </ul> <pre><code>30 12 * * 1-5 /root/script.sh\n</code></pre>"},{"location":"Cours_partag%C3%A9/AV/MSP_client/ressource/sauvegarde%20et%20restauration/#3-duplication-des-fichiers-avec-scp","title":"3. Duplication des fichiers avec <code>scp</code> :","text":"<ul> <li>On v\u00e9rifie si <code>scp</code> est install\u00e9 sur le syst\u00e8me :</li> </ul> <pre><code>apt-cache search scp\n</code></pre> <ul> <li>Si n\u00e9cessaire, on installe le paquet correspondant.</li> <li>Dans <code>crontab</code>, on ajoute une ligne pour copier les sauvegardes vers une machine distante :</li> </ul> <pre><code>32 12 * * 1-5 scp /root/*.tar utilisateur@adresse_ip_du_bin\u00f4me:/dossier_de_destination/\n</code></pre> <p>Note: Pensez \u00e0 utiliser une cl\u00e9 SSH pour une authentification sans mot de passe avec <code>scp</code>.</p> <p>Avec cette configuration, les donn\u00e9es seront sauvegard\u00e9es quotidiennement \u00e0 12h30 et dupliqu\u00e9es sur une autre machine \u00e0 12h32.</p>"},{"location":"Cours_partag%C3%A9/AV/VIM/VIM/","title":"R\u00e9sum\u00e9 VIM","text":""},{"location":"Cours_partag%C3%A9/AV/VIM/VIM/#les-modes","title":"Les modes","text":""},{"location":"Cours_partag%C3%A9/AV/VIM/VIM/#mode-commande","title":"Mode commande","text":"<ul> <li>Effectuer des actions (copier, supprimer, enregistrer, ...)</li> <li>On peut pas \u00e9crire dans ce mode</li> <li>On revient en mode commande via ma touche <code>Esc</code></li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIM/VIM/#mode-insertion","title":"Mode insertion","text":"<ul> <li>Utilis\u00e9 pour \u00e9crire du contenu</li> </ul> <p>Plusieurs touches pour passer dans ce mode:</p> <ul> <li><code>i</code> : on ins\u00e8re avant le curseur</li> <li><code>a</code> : on ajoute apr\u00e8s le curseur</li> <li><code>I</code> : on ins\u00e8re en d\u00e9but de ligne</li> <li><code>A</code> : on ajoute en fin de ligne</li> <li><code>o</code> : on cr\u00e9e une nouvelle ligne en dessous</li> <li><code>O</code> : on cr\u00e9e une nouvelle ligne au dessus</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIM/VIM/#mode-visuel","title":"Mode visuel","text":"<ul> <li>Permet de s\u00e9lectionner du contenu, pour y apporter des modification ou effectuer certaines actions</li> </ul> <p>Plusieurs touches :</p> <ul> <li><code>v</code> : permet de s\u00e9lectionner des lignes enti\u00e8res</li> <li><code>Ctrl+v</code> : permet de s\u00e9lectionner du contenu en mode bloc</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIM/VIM/#les-commandes","title":"Les commandes","text":""},{"location":"Cours_partag%C3%A9/AV/VIM/VIM/#de-base","title":"De base","text":"<ul> <li><code>:e nom_du_fichier</code> : ouvrir un fichier existant, ou pr\u00e9parer un nouveau fichier</li> <li><code>:q</code> : ferme le fichier, si pas de modifications. En cas de modifications non sauvegard\u00e9es, utiliser <code>:q!</code> pour forcer la fermeture</li> <li><code>:w</code> : sauvegarder les modifications. <code>:w nom_du_fichier</code> pour sauvegarder sous un nouveau nom</li> <li><code>:wq</code> : sauvegarder et quitter, change forc\u00e9ment la date de derni\u00e8re modif</li> <li><code>:x</code> : sauvegarder si n\u00e9cessaire et quitter, ne change la date de derni\u00e8re modif qu'en cas de modification de contenu</li> <li><code>:shell</code> : on ouvre un shell, sans fermer Vim, puis on retourne dans l'\u00e9dition du fichier une fois tap\u00e9 <code>Ctrl+d</code> ou <code>exit</code></li> <li> <p><code>:terminal</code> : on ouvre un shell sous le contenu ouvert</p> <ul> <li>on peut basculer du shell au contenu avec <code>Ctrl+ww</code></li> <li>on ferme le terminal avec <code>Ctrl+d</code> ou <code>exit</code> (en ayant le focus dedans)</li> </ul> </li> <li> <p><code>:vs nom_du_fichier</code> : split verticalement et ouvre le fichier \u00e0 droite</p> </li> <li> <p><code>:sp</code> : split horizontalement et ouvre le fichier</p> <ul> <li>on peut basculer du shell au contenu avec <code>Ctrl+ww</code></li> </ul> </li> <li> <p><code>set nu</code>: affiche les num\u00e9ros de lignes</p> </li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIM/VIM/#de-navigation","title":"De navigation","text":"<ul> <li><code>:numero_de_ligne</code> : se positionne sur la ligne souhait\u00e9e</li> <li> <p><code>/terme</code> : se positionne sur la prochaine occurence de terme</p> <ul> <li><code>n</code> : se positionner \u00e0 la prochaine occurence</li> <li><code>N</code> : se positionner \u00e0 l'occurence pr\u00e9c\u00e9dente</li> </ul> </li> <li> <p><code>G</code> : se positionne sur la derni\u00e8re ligne</p> </li> <li><code>gg</code> ou <code>:1</code> : se positionne sur la premi\u00e8re ligne</li> <li><code>$</code> : se positionne en fin de ligne</li> <li><code>^^</code> : se positionne en d\u00e9but de ligne</li> <li><code>w</code>: se positionne sur le mot suivant</li> <li><code>10w</code>: se positionne sur au 10\u00e8me mot apr\u00e8s le curseur</li> <li><code>b</code>: se positionne sur le mot pr\u00e9c\u00e9dent</li> <li><code>10b</code>: se positionne sur au 10\u00e8me mot pr\u00e9c\u00e9dent le curseur</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIM/VIM/#de-manipulation-de-texte","title":"De manipulation de texte","text":"<ul> <li><code>dd</code> : supprime la ligne sous le curseur (<code>d</code> en mode visuel) et place le contenu en m\u00e9moire</li> <li><code>10dd</code> : supprime les 10 lignes \u00e0 partir de la ligne courrante et place le contenu en m\u00e9moire</li> <li><code>yy</code> : copie la ligne sous le curseur (<code>d</code> en mode visuel) et place le contenu en m\u00e9moire</li> <li><code>10yy</code> : copie les 10 lignes \u00e0 partir de la ligne courrante et place le contenu en m\u00e9moire</li> <li><code>p</code> : colle le contenu en m\u00e9moire (sous le curseur)</li> <li><code>P</code> : colle le contenu en m\u00e9moire (au dessus du curseur)</li> <li><code>cw</code> : supprimer le mot, place le contenu en m\u00e9moire et passe en mode insertion</li> <li><code>20cw</code> : supprimer les 20 prochains mots, place le contenu en m\u00e9moire et passe en mode insertion</li> <li><code>x</code> supprime le caract\u00e8re sous le curseur</li> <li><code>3x</code> supprime les 3 prochains caract\u00e8res sous le curseur</li> <li><code>d$</code> supprime tout ce qui suit le curseur, jusqu'\u00e0 la fin de ligne</li> <li><code>d^^</code> supprime tout ce qui pr\u00e9c\u00e8de le curseur, jusqu'\u00e0 la fin de ligne</li> <li><code>:s/foo/bar/</code> : substitution de la prochaine occurence de foo par bar sur la ligne courrante</li> <li><code>:s/foo/bar/g</code> : substitution de toutes les occurences de foo par bar sur la ligne courrante</li> <li><code>:.,.+10s/foo/bar/g</code> : substitution de toutes les occurences de foo par bar sur les 10 prochaines lignes, dont la ligne courrante</li> <li><code>:10,20s/foo/bar/g</code> : substitution de toutes les occurences de foo par bar pr\u00e9sentes entre les lignes 10 et 20</li> <li><code>:%s/foo/bar/g</code> : substitution de toutes les occurences de foo par bar pr\u00e9sentes dans le fichier entier (%)</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/","title":"Guide de d\u00e9pannage pour VMware Workstation","text":"<p>Ce guide vous aidera \u00e0 r\u00e9soudre les probl\u00e8mes courants rencontr\u00e9s avec VMware Workstation. </p>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#1-probleme-vmware-workstation-ne-demarre-pas","title":"1. Probl\u00e8me : VMware Workstation ne d\u00e9marre pas","text":""},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#solutions-potentielles","title":"Solutions potentielles :","text":"<ul> <li>Assurez-vous que votre syst\u00e8me d'exploitation est \u00e0 jour.</li> <li>R\u00e9installez VMware Workstation.</li> <li>V\u00e9rifiez la pr\u00e9sence de conflits logiciels (par exemple, un autre logiciel de virtualisation).</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#2-probleme-impossible-de-creer-une-nouvelle-vm","title":"2. Probl\u00e8me : Impossible de cr\u00e9er une nouvelle VM","text":""},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#solutions-potentielles_1","title":"Solutions potentielles :","text":"<ul> <li>Assurez-vous que la virtualisation est activ\u00e9e dans le BIOS/UEFI.</li> <li>V\u00e9rifiez que votre CPU supporte la virtualisation.</li> <li>Assurez-vous d'avoir suffisamment d'espace disque pour la VM.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#3-probleme-erreurs-lors-de-linstallation-dun-systeme-dexploitation-invite","title":"3. Probl\u00e8me : Erreurs lors de l'installation d'un syst\u00e8me d'exploitation invit\u00e9","text":""},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#solutions-potentielles_2","title":"Solutions potentielles :","text":"<ul> <li>V\u00e9rifiez l'int\u00e9grit\u00e9 de l'image ISO ou du DVD que vous utilisez.</li> <li>Essayez une version diff\u00e9rente du syst\u00e8me d'exploitation invit\u00e9.</li> <li>Assurez-vous que les param\u00e8tres de la VM sont compatibles avec le syst\u00e8me d'exploitation invit\u00e9 (par exemple, type de processeur, m\u00e9moire, etc.).</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#4-probleme-la-vm-ne-peut-pas-se-connecter-a-internet","title":"4. Probl\u00e8me : La VM ne peut pas se connecter \u00e0 Internet","text":""},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#solutions-potentielles_3","title":"Solutions potentielles :","text":"<ul> <li>V\u00e9rifiez le mode de votre carte r\u00e9seau virtuelle (NAT, Bridged, Host-Only).</li> <li>Assurez-vous que les services VMware NAT et DHCP sont en cours d'ex\u00e9cution.</li> <li>Essayez de red\u00e9marrer les services r\u00e9seau sur votre h\u00f4te.</li> <li>Dans la VM, essayez de renouveler l'adresse IP.</li> <li>D\u00e9sactivez et r\u00e9activez la carte r\u00e9seau de l'h\u00f4te pour r\u00e9initialiser la configuration r\u00e9seau.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#5-probleme-problemes-de-performances-avec-la-vm","title":"5. Probl\u00e8me : Probl\u00e8mes de performances avec la VM","text":""},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#solutions-potentielles_4","title":"Solutions potentielles :","text":"<ul> <li>Installez les VMware Tools sur le syst\u00e8me d'exploitation invit\u00e9.</li> <li>Augmentez la RAM ou le nombre de processeurs allou\u00e9s \u00e0 la VM.</li> <li>Assurez-vous que votre syst\u00e8me h\u00f4te ne soit pas surcharg\u00e9.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#6-probleme-la-vm-ne-redemarre-pas-apres-une-mise-en-pause","title":"6. Probl\u00e8me : La VM ne red\u00e9marre pas apr\u00e8s une mise en pause","text":""},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#solutions-potentielles_5","title":"Solutions potentielles :","text":"<ul> <li>Fermez et relancez VMware Workstation.</li> <li>Essayez de stopper la VM depuis le gestionnaire de t\u00e2ches de VMware Workstation.</li> <li>V\u00e9rifiez l'int\u00e9grit\u00e9 du fichier de sauvegarde de la VM.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#7-probleme-problemes-de-resolution-decran-dans-la-vm","title":"7. Probl\u00e8me : Probl\u00e8mes de r\u00e9solution d'\u00e9cran dans la VM","text":""},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#solutions-potentielles_6","title":"Solutions potentielles :","text":"<ul> <li>Installez ou r\u00e9installez les VMware Tools.</li> <li>Ajustez les param\u00e8tres d'affichage dans le syst\u00e8me d'exploitation invit\u00e9.</li> <li>Essayez un mode d'affichage diff\u00e9rent (par exemple, plein \u00e9cran, fen\u00eatr\u00e9).</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#8-probleme-erreurs-avec-les-snapshots","title":"8. Probl\u00e8me : Erreurs avec les snapshots","text":""},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#solutions-potentielles_7","title":"Solutions potentielles :","text":"<ul> <li>Assurez-vous d'avoir suffisamment d'espace disque sur l'h\u00f4te.</li> <li>\u00c9vitez d'avoir trop de snapshots pour une seule VM.</li> <li>Essayez de consolider les snapshots.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#9-probleme-conflits-de-reseau-avec-le-virtual-network-editor","title":"9. Probl\u00e8me : Conflits de r\u00e9seau avec le Virtual Network Editor","text":""},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#solutions-potentielles_8","title":"Solutions potentielles :","text":"<ul> <li>V\u00e9rifiez que les sous-r\u00e9seaux d\u00e9finis dans le Virtual Network Editor ne sont pas en conflit avec votre r\u00e9seau local.</li> <li>Essayez de r\u00e9initialiser les param\u00e8tres r\u00e9seau par d\u00e9faut avec le Virtual Network Editor.</li> <li>Assurez-vous que les services VMware associ\u00e9s au r\u00e9seau sont en cours d'ex\u00e9cution.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#10-probleme-les-peripheriques-usb-ne-sont-pas-reconnus-dans-la-vm","title":"10. Probl\u00e8me : Les p\u00e9riph\u00e9riques USB ne sont pas reconnus dans la VM","text":""},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#solutions-potentielles_9","title":"Solutions potentielles :","text":"<ul> <li>Assurez-vous que l'option \"Connect USB Device\" est s\u00e9lectionn\u00e9e pour la VM.</li> <li>Installez les pilotes appropri\u00e9s dans le syst\u00e8me d'exploitation invit\u00e9.</li> <li>Essayez de connecter le p\u00e9riph\u00e9rique USB \u00e0 un autre port sur l'h\u00f4te.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/GuideD%C3%A9pannageVmware/#conclusion","title":"Conclusion","text":"<p>Les probl\u00e8mes avec VMware Workstation peuvent souvent \u00eatre r\u00e9solus en v\u00e9rifiant les param\u00e8tres, en s'assurant que tout est \u00e0 jour et en suivant des \u00e9tapes de d\u00e9pannage syst\u00e9matiques. Si tout le reste \u00e9choue, le support VMware ou les forums de la communaut\u00e9 peuvent \u00eatre une excellente ressource. Bon d\u00e9pannage ! </p>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/","title":"Guide d'utilisation de VMware Workstation pour un technicien","text":""},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/#1-introduction","title":"1. Introduction","text":"<p>VMware Workstation est une plateforme de virtualisation de type Type 2 qui permet de cr\u00e9er et g\u00e9rer des machines virtuelles (VM) sur un syst\u00e8me d'exploitation h\u00f4te. Il est id\u00e9al pour la simulation, le d\u00e9veloppement, le test et le d\u00e9pannage de syst\u00e8mes.</p>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/#2-prerequis","title":"2. Pr\u00e9requis","text":"<ul> <li>Syst\u00e8me d'exploitation compatible (Windows ou Linux).</li> <li>Configuration mat\u00e9rielle : CPU avec la virtualisation activ\u00e9e, RAM ad\u00e9quate, espace disque.</li> <li>T\u00e9l\u00e9chargement depuis le site officiel de VMware.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/#3-installation","title":"3. Installation","text":"<ol> <li>Ex\u00e9cutez l'installateur.</li> <li>Suivez les instructions.</li> <li>Red\u00e9marrez l'ordinateur si n\u00e9cessaire.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/#4-creation-dune-nouvelle-machine-virtuelle","title":"4. Cr\u00e9ation d'une nouvelle machine virtuelle","text":"<ol> <li>Lancez VMware Workstation.</li> <li>Cliquez sur <code>File &gt; New Virtual Machine</code>.</li> <li>Choisissez entre <code>Typical</code> ou <code>Custom</code>.</li> <li>Suivez l'assistant, s\u00e9lectionnez le fichier ISO ou DVD, et configurez le mat\u00e9riel virtuel.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/#5-configuration-de-la-machine-virtuelle","title":"5. Configuration de la machine virtuelle","text":""},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/#a-configuration-generale","title":"a. Configuration g\u00e9n\u00e9rale","text":"<ul> <li>CPU &amp; M\u00e9moire : Attribuez des c\u0153urs de processeur et de la RAM.</li> <li>Disque dur : Ajustez la taille, ajoutez des disques.</li> <li>P\u00e9riph\u00e9riques : G\u00e9rez les p\u00e9riph\u00e9riques tels que CD/DVD, cartes USB.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/#b-configuration-reseau-avec-virtual-network-editor","title":"b. Configuration r\u00e9seau avec Virtual Network Editor","text":"<p>VMware Workstation propose un outil, le \"Virtual Network Editor\", pour g\u00e9rer et configurer vos r\u00e9seaux virtuels : C'est l\u00e0 o\u00f9 il faut aller lorsqu'on a des probleme de conection + activer/desactiver la carte reseau host.</p> <ol> <li>Ouvrez le <code>Virtual Network Editor</code>.</li> <li>Vous verrez une liste de VMnets (r\u00e9seaux virtuels).</li> <li>Pour chaque VMnet :<ul> <li>Type : D\u00e9finissez-le comme <code>NAT</code>, <code>Bridged</code> ou <code>Host-Only</code>.</li> <li>Subnet Address : Configurez l'adresse du sous-r\u00e9seau.</li> <li>NAT Settings : Configurez la translation d'adresse si vous utilisez NAT.</li> <li>DHCP Settings : Activez/D\u00e9sactivez et configurez le DHCP pour le r\u00e9seau virtuel.</li> </ul> </li> </ol> <p>Avec le \"Virtual Network Editor\", vous pouvez cr\u00e9er des r\u00e9seaux isol\u00e9s, des r\u00e9seaux avec acc\u00e8s Internet, ou des r\u00e9seaux bridg\u00e9s directement avec votre r\u00e9seau physique.</p>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/#6-utilisation-de-la-machine-virtuelle","title":"6. Utilisation de la machine virtuelle","text":"<ol> <li>S\u00e9lectionnez la VM.</li> <li>Cliquez sur <code>Start</code> ou <code>Play</code>.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/#7-snapshots","title":"7. Snapshots","text":"<ol> <li>S\u00e9lectionnez la VM.</li> <li>Cliquez sur <code>VM &gt; Snapshot &gt; Take Snapshot</code>.</li> <li>Pour restaurer : S\u00e9lectionnez le snapshot et <code>Revert to Snapshot</code>.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/#8-clonage-de-vms","title":"8. Clonage de VMs","text":"<ol> <li>S\u00e9lectionnez la VM.</li> <li>Cliquez sur <code>VM &gt; Manage &gt; Clone</code>.</li> </ol>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/#9-importationexportation-des-vms","title":"9. Importation/Exportation des VMs","text":"<ul> <li>Pour exporter : <code>File &gt; Export to OVF</code>.</li> <li>Pour importer : <code>File &gt; Open</code>, puis le fichier OVF ou OVA.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/#10-conseils-pour-les-techniciens","title":"10. Conseils pour les techniciens","text":"<ul> <li>Activez l'acc\u00e9l\u00e9ration 3D pour les applications graphiques.</li> <li>Utilisez le mode <code>Bridged</code> pour que la VM soit sur le m\u00eame r\u00e9seau que l'h\u00f4te.</li> <li>Mettez \u00e0 jour vos VMs avec les outils VMware.</li> <li>Isolations pour des tests sensibles.</li> </ul>"},{"location":"Cours_partag%C3%A9/AV/VIRTUALISATION/InstallationVmware/#conclusion","title":"Conclusion","text":"<p>Ma\u00eetrisez VMware Workstation pour maximiser vos capacit\u00e9s de virtualisation. Bonne virtualisation!</p>"},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/","title":"Module 05 \u2013 Gestion du r\u00e9seau","text":""},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#objectifs","title":"Objectifs","text":"<ul> <li>Prendre des informations sur le r\u00e9seau</li> <li> <p>Configuration r\u00e9seau d\u2019un syst\u00e8me sans interface graphique</p> </li> <li> <p>Configuration r\u00e9seau d\u2019un syst\u00e8me avec interface graphique</p> </li> </ul> <p>Interroger et configurer le r\u00e9seau sous Linux.</p>"},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#prendre-des-informations","title":"Prendre des informations","text":""},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#les-prerequis","title":"Les pr\u00e9requis","text":"<ul> <li> <p>Pour une mise en r\u00e9seau des postes client et serveur, il faut que la couche IP soit correctement r\u00e9alis\u00e9e</p> </li> <li> <p>La configuration IP a g\u00e9n\u00e9ralement besoin :</p> <ul> <li>D\u2019une adresse IP</li> <li>D\u2019un masque r\u00e9seau</li> <li>Potentiellement d\u2019une passerelle par d\u00e9faut</li> </ul> </li> <li> <p>Afin de pouvoir r\u00e9soudre les noms d\u2019h\u00f4tes, il faudra aussi renseigner un ou des serveurs DNS</p> </li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#connaitre-ladresse-reseau","title":"Conna\u00eetre l\u2019adresse r\u00e9seau","text":"<ul> <li>Dans un shell, commande <code>ip</code> avec l\u2019option <code>address</code> ou son raccourci <code>a</code></li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#connaitre-passerelle-et-serveur-dns","title":"Conna\u00eetre passerelle et serveur DNS","text":"<ul> <li>Dans un shell, commande <code>ip</code> avec l\u2019option <code>route</code> ou son raccourci <code>r</code></li> </ul> <pre><code>root@deb:~# ipr\ndefault via 192.168.1.1 dev ens\n192.168.1.0/24 dev ens33 proto kernel scope link src\n192.168.1.\n</code></pre> <ul> <li>Les informations de DNS se trouvent dans le fichier <code>/etc/resolv.conf</code></li> </ul> <pre><code>root@deb:~# cat /etc/resolv.conf\nsearch mondomaine.fr\nnameserver 10.1.2.\nnameserver 10.1.2.\n</code></pre>"},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#systeme-sans-interface-graphique","title":"Syst\u00e8me sans interface graphique","text":""},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#configuration-ip-en-dhcp","title":"Configuration IP en DHCP","text":"<ul> <li> <p>La configuration IP et DNS sur un syst\u00e8me sans interface graphique se fait dans deux fichiers de configuration</p> </li> <li> <p>Le fichier <code>/etc/network/interfaces</code> permet de g\u00e9rer la partie IP</p> </li> <li>Il est possible d\u2019avoir une configuration simplifi\u00e9e via un serveur DHCP ou une configuration statique</li> </ul> <p></p>"},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#configuration-ip-statique","title":"Configuration IP statique","text":"<ul> <li>Mettre en place une configuration statiquedans le fichier <code>/etc/network/interfaces</code></li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#configuration-serveur-dns-statique","title":"Configuration serveur DNS statique","text":"<ul> <li>Mettre en place une configuration statique dans le fichier <code>/etc/resolv.conf</code> via la directive <code>nameserver</code></li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#prise-en-compte-des-modifications","title":"Prise en compte des modifications","text":"<p>On utilise la commande <code>systemctl</code> pour g\u00e9rer le service <code>networking</code></p> <p></p>"},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#configuration-reseau-dun-systeme-graphique","title":"Configuration r\u00e9seau d\u2019un syst\u00e8me graphique","text":""},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#gestion-du-reseau-avec-network-manager","title":"Gestion du r\u00e9seau avec Network Manager","text":"<p>Network Manager est utilis\u00e9 dans le cas d\u2019un syst\u00e8me Linux avec interface graphique (Desktop)</p> <p></p>"},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#prise-en-compte-des-modifications_1","title":"Prise en compte des modifications","text":"<p>On utilise la commande <code>systemctl</code> pour g\u00e9rer le service <code>NetworkManager</code></p> <p></p>"},{"location":"Cours_partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#conclusion","title":"Conclusion","text":"<ul> <li>Vous savez consulter les informations r\u00e9seau sur un syst\u00e8meLinux</li> <li>Vous pouvez configurer l\u2019adressage IP sur un serveur</li> <li>Vous pouvez configurer l\u2019adressage IP sur un poste avec interface graphique</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/","title":"Module 06 \u2013 Gestion des paquets logiciels","text":""},{"location":"Cours_partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#objectifs","title":"Objectifs","text":"<ul> <li>Comprendre les Releases du projet Debian</li> <li>Savoir g\u00e9rer les fichiers des d\u00e9p\u00f4ts</li> <li>Mettre \u00e0 jour la distribution </li> <li>Installer des paquets logiciels</li> </ul> <p>Installer des nouveaux programmes sous Debian Linux</p>"},{"location":"Cours_partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#les-branches-ou-releases-debian","title":"Les Branches, ou releases, Debian","text":"<ul> <li>3 principales Branches, \"release\" en anglais. Stable, Testing, Unstable.</li> <li><code>Stable</code> : C'est la version de production de Debian, celle qu'il est recommand\u00e9 d'utiliser. Seules les mises \u00e0 jour de s\u00e9curit\u00e9 sont accept\u00e9es. A privil\u00e9gier en contexte pro.</li> <li><code>Testing</code> : La branche Testing contient la future version stable de Debian. Pas de bugs graves.</li> <li><code>Unstable</code> : Version en constante \u00e9volution, (on parle de Rolling release). Utile pour les dev uniquement.</li> </ul> <p>La distribution <code>Unstable</code> est toujours appel\u00e9e Sid</p> <p>En production, nous utilisons principalement la branche Stable ou ant\u00e9rieure</p> <ul> <li>On peut \u00e9galement noter les branches suivantes :</li> <li>Old-Stable : C'est la version de production de Debian ant\u00e9rieure (R -1)</li> <li>Old-Old-Stable : C'est la version de production encore ant\u00e9rieure (R-2)</li> <li>Experimental : cas particulier, car elle ne contient pas tous les paquets constituant une distribution compl\u00e8te. Elle contient des paquets de logiciels en cours de d\u00e9veloppement. </li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#gestion-des-depots","title":"Gestion des d\u00e9p\u00f4ts","text":""},{"location":"Cours_partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#les-depots","title":"Les d\u00e9p\u00f4ts","text":"<ul> <li>Les paquets logiciels, ainsi que leurs sources, sont disponibles sur Internet dans des d\u00e9p\u00f4ts (repository) (\u00e9quivalent Windows : Chocolatey).</li> <li>Lorsqu'une machine est install\u00e9e, les d\u00e9p\u00f4ts officiels Debian sont automatiquement configur\u00e9s, en fonction de la version install\u00e9e, facilitant :</li> <li>La mise \u00e0 jour de toute la distribution : la mise \u00e0 jour pourra \u00eatre une mise \u00e0 jour de s\u00e9curit\u00e9 ou une mise \u00e0 jour compl\u00e8te du syst\u00e8me et de la totalit\u00e9 des paquets la composant ;</li> <li>L'installation de nouveaux paquets : il n'est pas n\u00e9cessaire de chercher sur Internet un site de t\u00e9l\u00e9chargement pour l\u2019installation des paquets, le gestionnaire de paquet s'en charge tout seul.</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#le-fichier-sourceslist","title":"Le fichier <code>sources.list</code>","text":"<p>Le fichier <code>/etc/apt/sources.list</code> contient la configuration des d\u00e9p\u00f4ts.</p> <pre><code>root@deb:~# **vim /etc/apt/sources.list**\n</code></pre> <p></p> <p>https://wiki.debian.org/fr/SourcesList</p> <p>Le premier champ indique le type de paquet :</p> <p>deb http://ftp.fr.debian.org/debian/ buster main contrib</p> <ul> <li>deb : paquet binaire</li> <li>deb-src : paquet source</li> </ul> <p>Le deuxi\u00e8me champ indique le type et le chemin de la source. Il peut commencer par :</p> <p>deb http://ftp.fr.debian.org/debian/ buster main contrib</p> <ul> <li><code>http://</code> : site web de t\u00e9l\u00e9chargement ;</li> <li><code>ftp://</code> : site FTP de t\u00e9l\u00e9chargement ;</li> <li><code>file://</code> : r\u00e9pertoire local ;</li> <li><code>cdrom:[...]</code> : suivi entre crochet du label du CD, indique un CD-ROM ou DVD-ROM!</li> </ul> <p>Le troisi\u00e8me champ sp\u00e9cifie la branche disponible :</p> <p>deb http://ftp.fr.debian.org/debian/ buster main contrib</p> <ul> <li>oldstable : l'ancienne version stable</li> <li>stable : la version officielle actuelle</li> <li>buster : une version sp\u00e9cifique, cela peut \u00eatre la version officielle</li> <li>testing : la prochaine version stable</li> <li>unstable : c'est la version qui porte toujours le nom de Sid</li> <li>experimental : il est pr\u00e9f\u00e9rable de la laisser aux d\u00e9veloppeurs</li> </ul> <p>Le quatri\u00e8me champ et les suivants indiquent la section, dont l'objectif est de filtrer les paquets \u00e0 installer :</p> <p>deb http://ftp.fr.debian.org/debian/ buster main contrib</p> <ul> <li>main : les paquets Debian standards, ils sont tous libres ;</li> <li>contrib : ces paquets sont libres mais d\u00e9pendants de paquets qui ne le sont pas, ils pr\u00e9sentent donc une d\u00e9pendance vers non-free ;</li> <li>non-free : des paquets sous licence non libre</li> </ul> <p>Il est \u00e9galement possible d\u2019utiliser des fichiers sources ind\u00e9pendants d\u00e9pos\u00e9s dans le dossier /etc/apt/sources.list.d</p>"},{"location":"Cours_partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#gestion-courante-des-paquets","title":"Gestion courante des paquets","text":"<ul> <li> <p>Les op\u00e9rations de gestion de base des paquets sur les syst\u00e8mes Debian sont r\u00e9alis\u00e9es en ligne de commande \u00e0 l'aide de deux outils diff\u00e9rents : </p> <p><code>apt-get / apt-cache et **apt**</code></p> </li> <li> <p>Les op\u00e9rations de recherche et de consultation pourront \u00eatre r\u00e9alis\u00e9es avec un compte d'utilisateur standard. Les op\u00e9rations alt\u00e9rant le syst\u00e8me seront r\u00e9alis\u00e9es avec les privil\u00e8ges du compte root.</p> </li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#les-commandes-courantes-de-gestion","title":"Les commandes courantes de gestion","text":"<ul> <li>Mettre \u00e0 jour la base de donn\u00e9es des paquets disponibles</li> </ul> <pre><code>root@deb:~# apt update \nroot@deb:~# apt-get update\n</code></pre> <ul> <li>Mettre \u00e0 jour la distribution sans supprimer de paquets</li> </ul> <pre><code>root@deb:~# apt upgrade \nroot@deb:~# apt-get upgrade\n</code></pre> <ul> <li>Mettre \u00e0 jour la distribution avec \u00e9ventuelle suppression de paquets obsol\u00e8tes</li> </ul> <pre><code>root@deb:~# apt full-upgrade \nroot@deb:~# apt-get dist-upgrade\n</code></pre> <ul> <li>Installer des paquets</li> </ul> <pre><code>root@deb:~# apt install paquet1 &lt;paquet2&gt;\nroot@deb:~# apt-get install paquet1 &lt;paquet2&gt;\n</code></pre> <ul> <li>D\u00e9sinstaller des paquets</li> </ul> <pre><code>root@deb:~# apt remove paquet1 &lt;paquet2&gt; \nroot@deb:~# apt-get remove paquet1 &lt;paquet2&gt;\n</code></pre> <ul> <li>D\u00e9sinstaller un paquet en supprimant les fichiers de configuration</li> </ul> <pre><code>root@deb:~# apt purge paquet1 \nroot@deb:~# apt-get purge paquet1 \n</code></pre>"},{"location":"Cours_partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#les-commandes-courantes-de-gestion_1","title":"Les commandes courantes de gestion","text":"<ul> <li>Nettoyer le d\u00e9pot local des fichiers t\u00e9l\u00e9charg\u00e9s suite \u00e0 mise \u00e0 jour et autres</li> </ul> <p>root@deb:~# apt clean  root@deb:~# apt-get clean</p> <ul> <li>Chercher un paquet correspondant \u00e0 une expression rationnelle</li> </ul> <p>root@deb:~# apt search regex  root@deb:~# apt-get search regex</p> <ul> <li>Obtenir des informations d\u00e9taill\u00e9es sur un paquet</li> </ul> <p>root@deb:~# apt show paquet  root@deb:~# apt-cache show paquet</p>"},{"location":"Cours_partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#la-commande-dpkg","title":"La commande dpkg","text":"<p>dpkg est la base du syst\u00e8me de gestion des paquets Debian. Il est l'\u00e9quivalent de la commande rpm pour les distributions de la branche RedHat. Il a \u00e9t\u00e9 con\u00e7u pour :</p> <ul> <li>Installer / mettre \u00e0 jour des paquets Debian</li> <li>Supprimer des paquets</li> <li>Fournir des informations</li> </ul> <p>En revanche, dpkg permet d'obtenir des informations pr\u00e9cieuses sur les paquets ou les fichiers install\u00e9s \u00e0 partir de paquets.</p> <p>Lister les paquets disponibles dans les d\u00e9p\u00f4ts et contenant la cha\u00eene \"ftp\" </p> <p></p> <p>Ici, un paquet est paquet install\u00e9 : openssh-sftp-server</p> <ul> <li>Lister les fichiers install\u00e9s pour un paquet pr\u00e9sent sur le syst\u00e8me</li> </ul> <p></p> <ul> <li>Chercher le paquet \u00e0 l\u2019origine d\u2019un fichier</li> </ul> <p></p> <ul> <li>Les fichiers journaux permettent de consulter l'historique des installations et mises \u00e0 jour. Chaque utilitaire dispose de son propre fichier de logs :</li> <li><code>apt-get</code> &amp; <code>apt</code> : fichier <code>/var/log/apt/history.log</code></li> <li><code>dpkg</code> : fichier <code>/var/log/dpkg.log</code></li> <li>Les commandes <code>apt-get</code> et <code>apt</code> s'appuient sur dpkg pour l'installation proprement dite. On doit donc retrouver dans les logs de dpkg toutes les interventions r\u00e9alis\u00e9es sur les paquets.</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#installation-a-partir-des-sources","title":"Installation \u00e0 partir des sources","text":""},{"location":"Cours_partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#la-methode-dinstallation","title":"La m\u00e9thode d\u2019installation","text":"<ul> <li>L\u2019installation \u00e0 partir des sources est la m\u00e9thode native d\u2019installation sur des syst\u00e8mes Unix/Linux. </li> <li>Cette technique n\u2019est pas la plus simple, et varie \u00e9norm\u00e9ment suivant le type de source r\u00e9cup\u00e9r\u00e9. Il y a tout de m\u00eame un cheminement qui reste le plus r\u00e9pandu.</li> <li>L\u2019environnement de compilation</li> <li> <p>Il est important de faire un espace de compilation sp\u00e9cifique \u00e0 un utilisateur qui n\u2019est pas root afin d\u2019\u00e9viter des probl\u00e9matiques syst\u00e8mes et sa s\u00e9curisation.</p> </li> <li> <p>Lecture de la documentation</p> </li> <li>La documentation est g\u00e9n\u00e9ralement disponible sous un fichier README ou INSTALL. Celui-ci contient g\u00e9n\u00e9ralement les autres \u00e9tapes de la construction de l\u2019application, avec la liste des d\u00e9pendances de construction de fonctionnement.</li> <li>Pr\u00e9paration de la compilation</li> <li>Cette \u00e9tape va v\u00e9rifier s\u2019il y a toutes les d\u00e9pendances de compilation sur le syst\u00e8me puis g\u00e9n\u00e9rer un fichier Makefile contenant toutes les informations de compilation et d\u2019installation.</li> </ul> <pre><code>user@deb:/opt/sources/application$ ./configure\n</code></pre> <ul> <li>Compilation</li> <li>Cette \u00e9tape va permettre de cr\u00e9er l\u2019application compil\u00e9e \u00e0 partir de ses sources en se basant sur le fichier Makefile contenant toutes les informations de compilation.</li> </ul> <pre><code>user@deb:/opt/sources/application$ make\n</code></pre> <ul> <li> <p>\u00c0 l\u2019issue de cette \u00e9tape, l\u2019application n\u2019est toujours pas install\u00e9e dans le syst\u00e8me, mais elle est totalement fonctionnelle.</p> </li> <li> <p>Installation</p> </li> <li>C\u2019est la seule \u00e9tape \u00e0 r\u00e9aliser avec les privil\u00e8ges root car cette \u00e9tape est une simple copie de l\u2019application dans les r\u00e9pertoires syst\u00e8me comme /opt/bin par exemple.</li> </ul> <pre><code>root@deb:/opt/sources/application# make install\n</code></pre>"},{"location":"Cours_partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#conclusion","title":"Conclusion","text":"<ul> <li>Vous savez g\u00e9rer les d\u00e9p\u00f4ts d\u2019une distribution Debian.</li> <li>Vous savez effectuer la mise \u00e0 jour du syst\u00e8me.</li> <li>Vous savez installer et supprimer de nouveaux logiciels.</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/","title":"Module 07 \u2013 Gestion des espaces de stockage","text":"<p>## Objectifs</p> <ul> <li>Comprendre le fonctionnement du partitionnement sous Linux</li> <li>Utiliser la commande <code>fdisk</code></li> <li>Conna\u00eetre les syst\u00e8mes de fichiers sous Linux</li> </ul> <p>Cr\u00e9er des partitions en mode \u00ab legacy \u00bb</p>"},{"location":"Cours_partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#partitionner-un-disque","title":"Partitionner un disque","text":""},{"location":"Cours_partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#la-norme-intel-du-mbr","title":"La norme Intel du MBR","text":"<ul> <li>Le MBR (Master Boot Record) est constitu\u00e9 de 2 principaux \u00e9l\u00e9ments :</li> <li>Le boot loader : 446 premiers octets - Sous Linux il contient le stage 1 de GRUB</li> <li>La table de partition : 64 octets, contient la position des 4 partitions primaires</li> <li>La partition \u00e9tendue pourra quant \u00e0 elle stocker les informations de 56 partitions logiques</li> <li> <p>La plus grosse probl\u00e9matique du MBR est la taille limite des partitions fix\u00e9e au maximum \u00e0 2,2To</p> </li> <li> <p>Le GPT (GUID Partition Table) est cr\u00e9\u00e9 en 2013, il est le rempla\u00e7ant du MBR</p> </li> <li>Le nombre maximum de partitions est fix\u00e9 \u00e0 128 (voire 256)</li> <li>La limite th\u00e9orique des partitions et des disques est de 9,4 Zo (Zeta octet)</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#nommage-des-disques-sous-linux","title":"Nommage des disques sous Linux","text":"<ul> <li>Sous Linux, les disques de type SCSI/SATA sont mat\u00e9rialis\u00e9s dans le r\u00e9pertoire <code>/dev</code> suivi de sd puis la lettre correspondant au disque</li> <li>Par exemple, s\u2019il y a deux disques dans le syst\u00e8me :</li> <li><code>/dev/sda</code> correspond au premier disque d\u00e9tect\u00e9</li> <li><code>/dev/sdb</code> correspond au deuxi\u00e8me disque</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#nommage-des-partitions","title":"Nommage des partitions","text":"<ul> <li>Linux ne nomme pas les partitions \u00e0 la suite</li> <li>Linux va r\u00e9server les chiffres de 1 \u00e0 4 pour les partitions principales (principale et \u00e9tendue)</li> <li> <p>Quel que soit le nombre de partitions principales, s\u2019il y a une partition \u00e9tendue alors les partitions logiques commenceront quoiqu\u2019il arrive \u00e0 5</p> </li> <li> <p>Exemple : le deuxi\u00e8me disque du syst\u00e8me est partitionn\u00e9 avec 2 partitions principales et une partition \u00e9tendue contenant 3 partitions logiques. Linux pr\u00e9sentera tout cela de cette fa\u00e7on :</p> </li> </ul> <p></p>"},{"location":"Cours_partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#outil-de-partitionnement","title":"Outil de partitionnement","text":""},{"location":"Cours_partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#la-commande-fdisk","title":"La commande fdisk","text":"<pre><code>fdisk [option] &lt;peripherique de stockage&gt; \n</code></pre> <p>\u2022-l affiche la table de partition du p\u00e9riph\u00e9rique</p> <p></p> <p>Pour pouvoir r\u00e9ellement passer en <code>mode \u00e9dition</code> de la table de partitions :</p> <p></p> <p></p> <p>De mani\u00e8re g\u00e9n\u00e9rale, laisser faire le syst\u00e8me. Pour prendre le disque entier, laisser tout par d\u00e9faut. (ici est sp\u00e9cifi\u00e9 +20G soit cr\u00e9ation d'une partition de 20 gigas)</p> <p>Une nouvelle partition 1 de type Linux et de taille 20 GiB a \u00e9t\u00e9 cr\u00e9\u00e9e (option p = print)</p> <p></p> <p>Une fois les partitions cr\u00e9\u00e9es, il ne faut pas oublier de d\u00e9finir le type de partition via la commande <code>t</code> (type).</p> <p></p> <p>L\u2019enregistrement des modifications se fait via la commande <code>w</code> (q pour sortir sans enregistrer)</p> <p></p>"},{"location":"Cours_partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#conclusion","title":"Conclusion","text":"<ul> <li>Vous comprenez le fonctionnement du partitionnement sous Linux</li> <li>Vous savez utiliser la commande fdisk</li> <li>Vous connaissez les syst\u00e8mes de fichiers sous Linux</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/","title":"Gestion des espaces de stockage avanc\u00e9e - LVM","text":""},{"location":"Cours_partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#objectifs","title":"Objectifs","text":"<ul> <li>Comprendre le fonctionnement de LVM</li> <li>Pr\u00e9parer le stockage pour LVM</li> <li>Cr\u00e9er et modifier des groupes de volumes et volumes logiques</li> </ul> <p>Cr\u00e9er des partitions en mode \u00ab moderne \u00bb</p>"},{"location":"Cours_partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#presentation-de-lvm","title":"Pr\u00e9sentation de LVM","text":"<p>### LVM : Logical Volume Manager**</p> <ul> <li>Le LVM permet de s\u2019affranchir des limites physiques des p\u00e9riph\u00e9riques. LVM impl\u00e9mente une couche logique pour une gestion plus souple et plus \u00e9volutive des volumes de stockage</li> <li>On g\u00e8re plusieurs types d\u2019\u00e9l\u00e9ments :</li> <li>Les volumes physiques (PV) : d\u00e9signent les p\u00e9riph\u00e9riques int\u00e9gr\u00e9s dans LVM </li> <li>Les groupes de volumes (VG) : permettent de regrouper les volumes physiques </li> <li> <p>Les volumes logiques (LV) : d\u00e9signent les unit\u00e9s d\u00e9finies au sein des groupes de volumes</p> </li> <li> <p>La cr\u00e9ation d\u2019un ou plusieurs groupes de volumes sera faite \u00e0 partir des volumes physiques (partitions) disponibles. Les groupes de volumes seront ensuite d\u00e9coup\u00e9s en volumes logiques </p> </li> <li>Ces volumes logiques pourront alors \u00eatre utilis\u00e9s comme n'importe quel volume de stockage</li> </ul> <p> </p> <ul> <li>Les commandes de gestion s'organisent autour de ces d\u00e9nominations et respectent toujours la m\u00eame logique. Pour la cr\u00e9ation, on aura par exemple :</li> <li><code>pvcreate</code> : cr\u00e9ation des volumes physiques </li> <li><code>vgcreate</code> : cr\u00e9ation des groupes de volumes </li> <li><code>lvcreate</code> : cr\u00e9ation des volumes logiques</li> <li>Il en sera de m\u00eame pour toutes les autres directives : <code>display</code>, <code>extend</code>, <code>reduce</code>, <code>remove</code>...</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#creer-des-lvm","title":"Cr\u00e9er des LVM","text":""},{"location":"Cours_partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#lvm-prerequis","title":"LVM : pr\u00e9requis","text":"<p>D\u00e9finir l'identifiant des partitions \u00e0 utiliser avec fdisk, utiliser l'ID 8e \u2013 Linux LVM :</p> <p></p>"},{"location":"Cours_partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#creer-des-partitions-lvm","title":"Cr\u00e9er des partitions LVM","text":"<p>Cr\u00e9er des volumes physiques :pvcreate</p> <pre><code>root@deb:~# pvcreate /dev/sdb1 /dev/sdb2 /dev/sdc1 /dev/sdd\n</code></pre> <p></p> <p>Cr\u00e9er des volumes groups :vgcreate</p> <pre><code>root@deb:~# vgcreate vggroup1 /dev/sdb1 /dev/sdb2 /dev/sdc1\n</code></pre> <p> </p> <p>Cr\u00e9er des volumes logiques : lvcreate</p> <pre><code>root@deb:~# lvcreate -n lv1 -L 2G vggroup1 root@deb:~# lvcreate -n lv2 -L 512M vggroup1\n</code></pre> <p></p> <p>Il y aura deux chemins possibles pour manipuler le Volume Logique</p> <pre><code>/dev/vgsystem/lvhome\n</code></pre> <p>Ou</p> <pre><code>/dev/mapper/vgsystem-lvhome\n</code></pre>"},{"location":"Cours_partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#modifier-des-lvm","title":"Modifier des LVM","text":""},{"location":"Cours_partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#agrandir-un-volume-group","title":"Agrandir un Volume Group","text":"<p>Ajouter des volumes physiques au VG : vgextend</p> <pre><code>root@deb:~# vgextend vggroup1 /dev/sdd\n</code></pre> <p> </p>"},{"location":"Cours_partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#creer-des-partitions-lvm_1","title":"Cr\u00e9er des partitions LVM","text":"<p>Agrandir des volumes logiques : lvextend</p> <p> </p> <ul> <li>De la m\u00eame fa\u00e7on, <code>lvreduce</code> permet de r\u00e9duire la taille d'un volume logique</li> <li>Attention, le syst\u00e8me de fichier ne prendra pas en compte automatiquement ces changements. Il faudra forcer un redimensionnement pour pouvoir utiliser tout l'espace. &gt; plus compliqu\u00e9 et dangereux &gt; risque de destruction des donn\u00e9es !</li> <li>La commande <code>resize2fs</code> qui permet de redimensionner un syst\u00e8me de fichier sera \u00e9tudi\u00e9e dans le module suivant</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#afficher-les-informations-lvm","title":"Afficher les informations LVM","text":"<ul> <li>Plusieurs commandes sont disponibles pour obtenir des informations sur les volumes LVM configur\u00e9s</li> <li>On peut les regrouper en deux \u00ab familles \u00bb</li> <li>Informations r\u00e9sum\u00e9es avec \u00ab s \u00bb : pvs, vgs, lvs (s = summarize)</li> <li>Informations d\u00e9taill\u00e9es avec \u00ab display \u00bb : pvdisplay, vgdisplay, lvdisplay</li> </ul> <p>Afficher les informations r\u00e9sum\u00e9es sur tous les groupes de volumes : </p> <p></p> <p>Afficher les informations d\u00e9taill\u00e9es sur tous les groupes de volumes :</p> <p></p> <p>Afficher les informations d\u00e9taill\u00e9es sur un groupe de volumes :</p> <p></p> <p>Afficher les informations r\u00e9sum\u00e9es sur tous les Volumes Logiques :</p> <p></p> <p>Afficher les informations d\u00e9taill\u00e9es sur tous les Volumes Logiques :</p> <p></p> <p>Afficher les informations d\u00e9taill\u00e9es sur un Volume Logique :</p> <p></p> <ul> <li>Toutes les commandes LVM sont \u00e9galement disponibles dans un shell d\u00e9di\u00e9, accessible avec la commande <code>lvm</code></li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#conclusion","title":"Conclusion","text":"<ul> <li>Vous savez pr\u00e9parer des disques et partitions pour LVM</li> <li>Vous savez cr\u00e9er et modifier des Volumes Groups</li> <li>Vous savez cr\u00e9er et modifier des Logical Volumes</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/","title":"Gestion des espaces de stockage \u2013 File System","text":""},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#objectifs","title":"Objectifs","text":"<ul> <li>D\u00e9couvrir des syst\u00e8mes de fichiers Linux</li> <li>Appliquer des FS sur l\u2019espace de stockage</li> <li>G\u00e9rer les syst\u00e8mes de fichiers</li> <li>Monter les syst\u00e8mes de fichiers</li> </ul> <p>Pr\u00e9parer le stockage \u00e0 recevoir des donn\u00e9es</p>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#considerations-generales-sur-les-systemes-de-fichiers","title":"Consid\u00e9rations g\u00e9n\u00e9rales sur les syst\u00e8mes de fichiers","text":"<ul> <li>Tous les syst\u00e8mes de fichiers de type Unix sont bas\u00e9s sur le m\u00eame principe et les m\u00eames \u00e9l\u00e9ments \u00e9l\u00e9mentaires. Les syst\u00e8mes de fichiers Unix sont segment\u00e9s en blocs de donn\u00e9es, actuellement \u00e0 4 Ko par d\u00e9faut</li> <li>Chaque bloc pourra avoir diff\u00e9rentes structures :</li> <li>Superbloc : bloc contenant les informations vitales du syst\u00e8me de fichiers</li> <li>Inode : bloc contenant les inodes contenant les informations d\u2019un fichier</li> <li>Bloc d\u2019indirection : bloc redirigeant vers d\u2019autres blocs (cf. plus loin dans ce chapitre)</li> <li>Bloc de donn\u00e9es : bloc contenant les donn\u00e9es r\u00e9elles du fichier</li> <li>Table des inodes : bloc contenant la liste des blocs d\u2019inodes</li> <li>Table des inodes libres : bloc contenant la liste des inodes libres</li> <li>Table des blocs libres : bloc contenant la liste des blocs de donn\u00e9es libres</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#le-superbloc","title":"Le Superbloc","text":"<ul> <li>Le superbloc contient les informations vitales du syst\u00e8me de fichiers. Donc par mesure de s\u00e9curit\u00e9, il est dupliqu\u00e9 \u00e0 diff\u00e9rents endroits du syst\u00e8me de fichiers. Il contient les informations suivantes :</li> <li>Taille des blocs</li> <li>Taille du syst\u00e8me de fichiers</li> <li>Nombre de montages effectu\u00e9s</li> <li>Nombre maximum de montages avant v\u00e9rification</li> <li>Date de dernier montage</li> <li>Intervalle maximum entre deux montages avant v\u00e9rification</li> <li>Un pointeur vers l\u2019inode racine du syst\u00e8me de fichier</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#inodes-et-bloc-dindirection","title":"Inodes et bloc d\u2019indirection","text":"<ul> <li>Les inodes sont regroup\u00e9s par bloc dans un syst\u00e8me de fichiers. La taille d\u2019un inode est de 128 octets. Avec des blocs de 4 Ko, il y aura 32 inodes par bloc d\u2019inodes. Un inode contient des informations propres au fichier qu\u2019il repr\u00e9sente :</li> <li>Type de fichier : -,d,b,c,l,p,s</li> <li>Mode ou droit d\u2019acc\u00e8s : en octal, ex : 0644 (rw-r--r--)</li> <li>Nombre de liens physiques : si la valeur tombe \u00e0 z\u00e9ro, le fichier est consid\u00e9r\u00e9 comme supprim\u00e9.</li> <li>UID : propri\u00e9taire</li> <li>GID : groupe propri\u00e9taire</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#inodes-et-bloc-dindirection_1","title":"Inodes et bloc d\u2019indirection","text":"<ul> <li>Taille du fichier : en octets</li> <li>Champs date : atime (dernier acc\u00e8s au fichier), ctime (dernier changement des informations de l\u2019inode), mtime (dernier changement de donn\u00e9es r\u00e9elles du fichier)</li> <li>15 adresses : pointant vers les blocs de donn\u00e9es r\u00e9elles du fichier</li> </ul> <p>L\u2019inode ne poss\u00e8de pas le nom du fichier, celui-ci est renseign\u00e9 dans le r\u00e9pertoire contenant ce fichier.</p>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#systemes-de-fichiers-linux","title":"Syst\u00e8mes de fichiers Linux","text":""},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#systemes-de-fichiers-ext","title":"Syst\u00e8mes de fichiers EXT","text":"<ul> <li>L\u2019<code>ext2</code>, l\u2019<code>ext3</code> et l\u2019<code>ext4</code> sont impl\u00e9ment\u00e9s sur un syst\u00e8me Debian</li> <li>La diff\u00e9rence entre <code>ext2</code> et <code>ext3</code> est la journalisation, am\u00e9liorant la r\u00e9cup\u00e9ration du syst\u00e8me de fichier en cas de crash (extinction brutale du PC par exemple)</li> <li>Le syst\u00e8me de fichier <code>ext4</code> est une am\u00e9lioration de l\u2019<code>ext3</code> mais r\u00e9\u00e9crit de z\u00e9ro</li> <li><code>ext4</code> est le syst\u00e8me de fichier par d\u00e9faut sur Debian 10.</li> <li>Son avantage est qu\u2019il est peu sujet \u00e0 la fragmentation gr\u00e2ce \u00e0 la pr\u00e9allocation des blocs de donn\u00e9es contigus</li> </ul> <p>Caract\u00e9ristiques :</p> <ul> <li>Taille maximale de fichier :  16 Tio (avec des blocs de 4 Ko)</li> <li>Nombre maximal de fichiers :  4 milliards</li> <li>Taille maximale du nom de fichier :  255 octets</li> <li> <p>Taille maximale de volume :  1 Eio (limit\u00e9 \u00e0 16 Tio par e2fsprogs avec des blocs de 4 Ko)</p> </li> <li> <p>D\u2019autres syst\u00e8mes de fichiers sont g\u00e9r\u00e9s sous Debian, entre autres : NTFS, FAT</p> </li> <li>Il est bien s\u00fbr possible d\u2019installer d\u2019autres outils de gestion de syst\u00e8mes de fichiers comme XFS, Btrfs, etc.</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#outils-de-gestion-des-systemes-de-fichiers","title":"Outils de gestion des syst\u00e8mes de fichiers","text":""},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#creation-de-systemes-de-fichiers","title":"Cr\u00e9ation de syst\u00e8mes de fichiers","text":"<ul> <li>Le formatage va installer sur un p\u00e9riph\u00e9rique de stockage un syst\u00e8me de fichier. Sans un syst\u00e8me de fichier, le p\u00e9riph\u00e9rique de stockage est inutilisable</li> <li>Un p\u00e9riph\u00e9rique de stockage peut \u00eatre une partition (ex: <code>/dev/sdc1</code>) ou un volume logique (ex : <code>/dev/vgsys/lvroot ou /dev/mapper/vgsys-lvhome</code>)</li> </ul> <p>Dans un volume classique</p> <p> </p> <p>Dans un groupe de volume</p> <p> </p> <pre><code>mkfs.[fstype] &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]\n</code></pre> <p><code>mkfs.[fstype]</code> est une commande simplifiant la m\u00e9morisation des commandes de cr\u00e9ation de syst\u00e8mes de fichiers. C\u2019est en fait une fausse commande qui fait appel \u00e0 la vraie commande de cr\u00e9ation</p> <ul> <li>Exemple : <code>mkfs.ext4</code> est la commande mke2fs avec des options pr\u00e9configur\u00e9es pour g\u00e9n\u00e9rer de l\u2019ext4</li> <li> <p>Pour savoir quelle est la commande utilis\u00e9e par un mkfs.<code>[fstype]</code>, il suffit de consulter la commande <code>man mkfs.[fstype]</code></p> </li> <li> <p>Cr\u00e9ation d\u2019un syst\u00e8me de fichiers <code>ext4</code> sur partition <code>/dev/sda2</code></p> </li> </ul> <pre><code>root@deb:~# mkfs.ext4 /dev/sda2\n</code></pre> <ul> <li>Cr\u00e9ation d\u2019un syst\u00e8me de fichiers <code>ext4</code> sur volume logique lv1</li> </ul> <pre><code>root@deb:~# mkfs.ext4 /dev/vggroup1/lv1\n</code></pre> <ul> <li>Cr\u00e9ation d\u2019un syst\u00e8me de fichiers <code>NTFS</code> (n\u00e9cessite le paquet <code>ntfs-3g</code>)</li> </ul> <pre><code>root@deb:~# mkfs.ntfs /dev/sde1\n</code></pre>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#modification-de-systemes-de-fichiers","title":"Modification de syst\u00e8mes de fichiers","text":"<pre><code>tune2fs &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]\n</code></pre> <ul> <li><code>tune2fs</code> permet de modifier des options d\u2019un syst\u00e8me de fichiers type ext</li> <li>Il permet aussi de r\u00e9cup\u00e9rer les informations du superbloc</li> <li>Options usuelles </li> <li>-L permet de modifier l\u2019\u00e9tiquette du syst\u00e8me de fichiers</li> <li>-l permet d\u2019afficher les informations du superbloc</li> <li>-i permet de modifier l\u2019intervalle entre deux v\u00e9rifications</li> <li>-c permet de modifier le nombre maximum de montages d\u00e9clenchant une v\u00e9rification</li> </ul> <pre><code>resize2fs &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]\n</code></pre> <ul> <li><code>resize2fs</code> permet de changer la taille d\u2019un syst\u00e8me de fichiers</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#verification-dun-systeme-de-fichiers","title":"V\u00e9rification d\u2019un syst\u00e8me de fichiers","text":"<pre><code>fsck.&lt;fstype&gt; &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]\n</code></pre> <ul> <li>La v\u00e9rification d\u2019un syst\u00e8me de fichiers permet de contr\u00f4ler l\u2019int\u00e9grit\u00e9 des donn\u00e9es pr\u00e9sentes sur celui-ci</li> <li>Il est possible de le faire manuellement tout comme il est possible de l\u2019automatiser au d\u00e9marrage</li> <li>Comme pour les commandes de formatage, la v\u00e9rification peut facilement se faire avec les commandes <code>fsck.&lt;fstype&gt;</code></li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#prise-dinformation","title":"Prise d\u2019information","text":"<pre><code>blkid &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]\n</code></pre> <ul> <li>La commande <code>blkid</code> permet d\u2019afficher les informations relatives \u00e0 un p\u00e9riph\u00e9rique particulier. Sans argument, elle affichera les informations relatives \u00e0 tous les p\u00e9riph\u00e9riques format\u00e9s</li> </ul> <pre><code>lsblk &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]\n</code></pre> <ul> <li>La commande <code>lsblk</code> permet d\u2019afficher sous forme arborescente les informations relatives aux p\u00e9riph\u00e9riques et aux syst\u00e8mes de fichiers</li> </ul> <p>Pour afficher les UUID et LABELS, il faut ajouter l'option <code>-f</code></p> <p></p>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#monter-des-systemes-de-fichiers","title":"Monter des syst\u00e8mes de fichiers","text":""},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#montage-dun-systeme-de-fichiers","title":"Montage d\u2019un syst\u00e8me de fichiers","text":"<ul> <li>Sous un syst\u00e8me d\u2019exploitation Linux, comme tout est fichier, la mise \u00e0 disposition d\u2019un syst\u00e8me de fichier venant d\u2019un espace de stockage (partition, LVM, RAID, etc.) se fera en d\u00e9finissant un r\u00e9pertoire comme point de montage</li> <li>Ce point de montage sera le chemin par lequel acc\u00e9der aux donn\u00e9es du syst\u00e8me de fichier</li> <li>Pour un montage temporaire d\u2019un syst\u00e8me de fichiers, il est conseill\u00e9 d\u2019utiliser le r\u00e9pertoire <code>/mnt</code>. S\u2019il faut  monter plusieurs syst\u00e8mes de fichiers de fa\u00e7on temporaire, il est possible de cr\u00e9er des sous-r\u00e9pertoires dans <code>/mnt</code>, pour chacun des syst\u00e8mes de fichiers</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#montage-manuel-avec-mount","title":"Montage manuel avec mount","text":"<pre><code>mount &lt;options&gt; [p\u00e9riph\u00e9rique source] [/point/de/montage]\n</code></pre> <ul> <li>La commande mount permettra de mettre \u00e0 disposition un syst\u00e8me de fichiers dans un r\u00e9pertoire</li> <li>Options possibles :</li> <li><code>-t [fstype]</code>  D\u00e9termine le type de syst\u00e8me de fichiers \u00e0 monter</li> <li><code>-o [option]</code>  Permet de d\u00e9finir diff\u00e9rentes options s\u00e9par\u00e9es par une virgule</li> <li><code>sync/async</code> Active ou non l\u2019utilisation de la mise en tampon  en RAM des donn\u00e9es avant \u00e9criture dans le syst\u00e8me de fichiers. (Par d\u00e9faut : <code>async</code>)</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#montage-manuel-avec-mount_1","title":"Montage manuel avec mount","text":"<ul> <li>Quelques autres options possibles :</li> <li><code>exec/noexec</code> Active la possibilit\u00e9 d\u2019ex\u00e9cuter des fichiers ex\u00e9cutables pr\u00e9sents sur le syst\u00e8me de fichiers. (Par d\u00e9faut : <code>exec</code>)</li> <li><code>ro/rw</code> Monte le syst\u00e8me de fichiers en lecture seule ou en lecture/\u00e9criture. (Par d\u00e9faut : <code>rw</code>)</li> <li><code>suid/nosuid</code> Active la possibilit\u00e9 d\u2019ex\u00e9cuter les binaires avec l\u2019interpr\u00e9tation du SUID positionn\u00e9 dessus. (Par d\u00e9faut : <code>suid</code>)</li> <li><code>remount</code> Permet de changer une ou des options de montage sans d\u00e9monter le syst\u00e8me de fichiers.</li> </ul> <p>Cas pratique</p> <p> </p>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#mount","title":"mount","text":"<p>La sortie de <code>mount</code> est faiblement lisible mais permet de </p> <p>savoir facilement les options de montage appliqu\u00e9es</p> <p></p>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#informations-sur-les-montages","title":"Informations sur les montages","text":"<p>\u2022<code>findmnt</code> permet une meilleure lisibilit\u00e9 et surtout de prendre l\u2019information sur un seul point de montage</p> <p></p> <p>Pour voir l\u2019information sur un seul point de montage, il suffit de le cibler :</p> <p></p>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#demonter-un-volume","title":"D\u00e9monter un volume","text":"<pre><code>umount [p\u00e9riph\u00e9rique de stockage] \n</code></pre> <p>ou</p> <pre><code>umount [point de montage] \n</code></pre> <ul> <li>\u00c0 faire par exemple pour retirer une cl\u00e9 USB ou disque externe</li> <li>Attention, il ne faudra pas qu\u2019un utilisateur utilise le volume mont\u00e9 pour permettre sa d\u00e9connexion.</li> </ul> <pre><code>root@deb:~# umount /mnt\n</code></pre>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#montage-automatique-des-systemes-de-fichiers","title":"Montage automatique des syst\u00e8mes de fichiers","text":""},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#montage-automatique","title":"Montage automatique","text":"<p>Les montages automatiques sont effectu\u00e9s par systemd au tout d\u00e9but du d\u00e9marrage du syst\u00e8me d\u2019exploitation. La d\u00e9claration des montages automatiques est pr\u00e9sente dans le fichier <code>/etc/fstab</code></p> <p></p> <ul> <li>La section <code>&lt;file system&gt;</code> :</li> <li> <p>Cette colonne d\u00e9clare le syst\u00e8me \u00e0 monter. Cette source peut \u00eatre exprim\u00e9e de plusieurs fa\u00e7ons :</p> <ul> <li>Via un <code>UUID</code>, la fa\u00e7on la plus s\u00e9curis\u00e9e mais humainement plus difficile \u00e0 reconna\u00eetre</li> <li>Via le <code>LABEL</code>, humainement plus pratique que l\u2019UUID mais il pose un probl\u00e8me en cas de doublon</li> <li>Via le <code>chemin du p\u00e9riph\u00e9rique</code>, on l\u2019utilise principalement pour les LVM car il n\u2019est pas possible d\u2019avoir plusieurs volumes LVM avec le m\u00eame nom sur un syst\u00e8me</li> <li>Il est fortement d\u00e9conseill\u00e9 de l\u2019utiliser pour des partitions (ex : <code>/dev/sdb1</code>)</li> </ul> </li> <li> <p>La section <code>&lt;mount point&gt;</code> :</p> </li> <li> <p>Cette colonne d\u00e9clare le r\u00e9pertoire de montage du syst\u00e8me de fichiers</p> </li> <li> <p>La section <code>&lt;type&gt;</code> :</p> </li> <li>Cette colonne d\u00e9clare le type de syst\u00e8me de fichiers. Il est possible de mettre <code>auto</code> mais cela ralentit le montage des p\u00e9riph\u00e9riques</li> <li>La section <code>&lt;options&gt;</code> :</li> <li>Cette colonne d\u00e9clare les options de montage. Il est possible de mettre <code>defaults</code></li> <li>Les options dans defaults sont : <code>async,nouser,exec,rw,auto,suid,dev</code></li> <li>La section <code>&lt;dump&gt;</code> :</li> <li>Cette colonne est tr\u00e8s faiblement utilis\u00e9e. Elle correspond \u00e0 des param\u00e8tres de configuration de la commande <code>dump</code></li> <li>La section <code>&lt;pass&gt;</code> :</li> <li>Cette section permet de savoir si le syst\u00e8me doit analyser l\u2019int\u00e9grit\u00e9 du syst\u00e8me de fichiers afin de corriger les probl\u00e8mes avant de le monter. (commande <code>fsck</code>)</li> <li>Si la valeur est \u00e0 <code>0</code> : pas de v\u00e9rification, si elle est sup\u00e9rieure \u00e0 0 alors le syst\u00e8me analysera les syst\u00e8mes de fichiers (<code>1</code> pour la racine, <code>2</code> pour les autres)</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#-afin-de-garantir-la-bonne-integration-dune-nouvelle-ligne-dans-le-fichier-etcfstab-il-est-important-de-la-tester-avant-le-redemarrage-du-poste-le-moyen-le-plus-simple-est-dutiliser-la-commande-mount-en-ne-precisant-que-le-point-de-montage","title":"- Afin de garantir la bonne int\u00e9gration d\u2019une nouvelle ligne dans le fichier <code>/etc/fstab</code>, il est important de la tester avant le red\u00e9marrage du poste. Le moyen le plus simple est d\u2019utiliser la commande mount en ne pr\u00e9cisant que le point de montage","text":"<ul> <li>Dans cet exemple, la commande indique qu\u2019elle ne trouve pas d\u2019entr\u00e9e de <code>/srv/data</code> dans le <code>fstab</code></li> <li>Dans le cas o\u00f9 une ligne indique <code>/srv/data</code> dans le fichier <code>fstab</code> alors le montage se fera par rapport aux diff\u00e9rentes d\u00e9clarations</li> <li>Si la commande ne renvoie rien, c\u2019est que le montage s\u2019est correctement effectu\u00e9</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#informations-sur-les-systemes-de-fichiers","title":"Informations sur les syst\u00e8mes de fichiers","text":"<ul> <li>Nous avons d\u00e9j\u00e0 utilis\u00e9 les commandes informatives suivantes :  <code>\u2022 blkid</code> permet de r\u00e9cup\u00e9rer les informations sur les disques, partitions et volumes logiques LVM</li> </ul> <p><code>\u2022 lsblk</code> va donner un affichage plus hi\u00e9rarchis\u00e9 de ces m\u00eames informations </p> <p><code>\u2022 findmnt</code> offre un affichage hi\u00e9rarchis\u00e9 des syst\u00e8mes de </p> <pre><code>df &lt;options&gt; [/point/de/montage]\n</code></pre> <ul> <li>La commande <code>df</code> permet de prendre des informations utiles sur les syst\u00e8mes de fichiers mont\u00e9s</li> <li>Options usuelles :</li> <li><code>-h</code> : affiche la taille en puissance de 1024 (K,M,G\u2026)</li> <li><code>-i</code> : affiche les informations sur les inodes</li> </ul> <p></p> <ul> <li>La commande <code>ls -l</code> ne permet pas de conna\u00eetre la taille d\u2019un r\u00e9pertoire. En effet, elle remonte juste la taille utilis\u00e9e par l\u2019inode du r\u00e9pertoire et non son contenu. Pour conna\u00eetre la taille d\u2019un r\u00e9pertoire, il faut utiliser la commande <code>du</code> (disk usage)</li> </ul> <pre><code>du &lt;options&gt; [/point/de/montage]\n</code></pre> <ul> <li>Options usuelles :</li> <li><code>-h</code> : affiche la taille en puissance de 1024 (K,M,G\u2026)</li> <li><code>-s</code> : n\u2019affiche pas les sous-r\u00e9pertoires mais uniquement le r\u00e9pertoire en argument</li> </ul> <p></p>"},{"location":"Cours_partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#conclusion","title":"Conclusion","text":"<ul> <li>Vous savez cr\u00e9er et manipuler des syst\u00e8mes de fichiers Linux</li> <li>Vous savez monter ceux-ci en manuel</li> <li>Vous savez automatiser un montage au d\u00e9marrage du syst\u00e8me d\u2019exploitation</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/","title":"Module 10 \u2013 Gestion des utilisateurs et groupes**","text":""},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#objectifs","title":"Objectifs","text":"<ul> <li>Cr\u00e9er et g\u00e9rer des groupes et utilisateurs</li> <li>Consulter les fichiers de configuration</li> <li>Effectuer une \u00e9l\u00e9vation de privil\u00e8ges en environnement GNU/Linux</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#considerations-generales","title":"Consid\u00e9rations g\u00e9n\u00e9rales","text":""},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#les-identifiants","title":"Les identifiants","text":"<ul> <li>Sous Linux, les utilisateurs sont repr\u00e9sent\u00e9s par deux valeurs importantes : </li> <li>L\u2019<code>UID</code> : l\u2019identifiant <code>utilisateur</code></li> <li>Le <code>GID</code> : l\u2019identifiant du <code>groupe principal</code></li> <li>Il est possible qu\u2019un utilisateur appartienne \u00e0 plusieurs groupes. Il y aura donc les notions de groupe principal et de groupe secondaire.</li> <li> <p>Le groupe principal est le groupe attribu\u00e9 \u00e0 l\u2019utilisateur au moment de sa connexion.</p> </li> <li> <p>Il existe trois types d\u2019utilisateurs :</p> </li> <li><code>root</code> : UID=0, GID=0</li> </ul> <p>C\u2019est le super-administrateur du syst\u00e8me. Il a tout pouvoir. Il est donc conseill\u00e9 d\u2019\u00eatre le moins possible sous cette identit\u00e9, voire fortement conseill\u00e9 de ne pas se connecter avec mais de faire une \u00e9l\u00e9vation de privil\u00e8ges via la commande su -. </p> <p>Sur certains syst\u00e8mes, il sera impossible de se connecter en root dans l\u2019interface graphique.</p> <ul> <li><code>daemon</code> : UID 1-999, GID 1-999 Les utilisateurs compris entre 1 et 999 pour leur UID/GID repr\u00e9sentent les utilisateurs applicatifs (les services). En effet sous Linux 99% des services ne sont pas ex\u00e9cut\u00e9s sous l\u2019identit\u00e9 de root mais sous leur propre identit\u00e9 \u00e0 des fins de s\u00e9curit\u00e9.</li> <li><code>Utilisateur</code> : UID et GID &gt; 1000 Les utilisateurs \u00ab humains \u00bb sont repr\u00e9sent\u00e9s par des UID/GID sup\u00e9rieurs \u00e0 1000.</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#les-fichiers-lies-a-la-gestion-des-groupes","title":"Les fichiers li\u00e9s \u00e0 la gestion des groupes","text":""},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#generalites","title":"G\u00e9n\u00e9ralit\u00e9s","text":"<ul> <li>Les informations concernant les groupes d\u2019un syst\u00e8me Linux sont contenus dans les fichiers <code>/etc/group</code> et <code>/etc/gshadow</code></li> <li>Nous pourrons y prendre des informations, mais nous ne les modifierons jamais directement</li> <li>La manipulation des groupes devra se faire par les commandes d\u00e9di\u00e9es</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#le-fichier-etcgroup","title":"Le fichier <code>/etc/group</code>","text":"<ul> <li>Ce fichier est compos\u00e9 de plusieurs champs, s\u00e9par\u00e9s par le caract\u00e8re  <code>:</code></li> </ul> <ul> <li>Analyse de colonnes</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#le-fichier-etcgshadow","title":"Le fichier <code>/etc/gshadow</code>","text":"<ul> <li>Ce fichier contient les informations cach\u00e9es sur les groupes s\u00e9par\u00e9s par le caract\u00e8re  : . Il est rarement utilis\u00e9</li> </ul> <ul> <li>Analyse de colonnes</li> </ul> <ul> <li>Si le champ du mot de passe contient les caract\u00e8res \u00ab <code>!</code> \u00bb ou \u00ab <code>*</code> \u00bb, les utilisateurs ne pourront pas utiliser le mot de passe pour acc\u00e9der au groupe. </li> <li>Si le champ est vide, dans ce cas seul les membres du groupe pourront obtenir les permissions du groupe.</li> <li>Le champ administrateur contient la liste des administrateurs du groupe s\u00e9par\u00e9 par des virgules. Les administrateurs peuvent modifier le mot de passe et les membres du groupe.</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#commandes-de-gestion-des-groupes","title":"Commandes de gestion des groupes","text":""},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#groupadd","title":"groupadd","text":"<pre><code>groupadd &lt;options&gt; [nom du groupe]\n</code></pre> <ul> <li>Option usuelle :</li> </ul> <p><code>-g [GID]</code> : valeur num\u00e9rique de l\u2019identifiant du groupe.</p> <p>Cette valeur doit \u00eatre unique. </p> <p>Par d\u00e9faut, le plus petit identifiant sup\u00e9rieur au <code>GID_MIN</code> et aux identifiants des groupes existants est utilis\u00e9.</p>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#groupmod","title":"groupmod","text":"<pre><code>groupmod &lt;options&gt; [nom du groupe]\n</code></pre> <ul> <li>Options usuelles :</li> <li><code>-g [GID]</code> : change le GID d\u2019un groupe. Attention aux orphelins des fichiers cr\u00e9\u00e9s pr\u00e9alablement</li> <li><code>-n [nouveau nom]</code> : change le nom du groupe</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#groupdel","title":"groupdel","text":"<pre><code>groupdel &lt;options&gt; [nom du groupe]\n</code></pre> <ul> <li>Cette commande permet de supprimer un groupe s\u2019il est vid\u00e9 de tous ses membres avant</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#gpasswd","title":"gpasswd","text":"<pre><code>gpasswd &lt;options&gt; [nom du groupe]\n</code></pre> <ul> <li>Cette commande permet d\u2019administrer les groupes</li> <li>Options usuelles :</li> <li><code>-a [utilisateur]</code> : ajoute \u00ab utilisateur \u00bb au groupe.</li> <li><code>-d [utilisateur]</code> : supprime \u00ab utilisateur \u00bb au groupe.</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#les-fichiers-lies-a-la-gestion-des-utilisateurs","title":"Les fichiers li\u00e9s \u00e0 la gestion des utilisateurs","text":""},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#informations-concernant-les-utilisateurs","title":"Informations concernant les utilisateurs","text":"<ul> <li>Les informations concernant les utilisateurs d\u2019un syst\u00e8me Linux sont contenus dans les fichiers <code>/etc/passwd</code> et <code>/etc/shadow</code></li> <li>Nous pourrons y prendre des informations, mais nous ne les modifierons jamais directement</li> <li>La manipulation des utilisateurs devra se faire par les commandes d\u00e9di\u00e9es</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#le-fichier-etcpasswd","title":"Le fichier /etc/passwd","text":"<ul> <li>Ce fichier est compos\u00e9 de plusieurs champs, s\u00e9par\u00e9s par le caract\u00e8re  <code>:</code></li> </ul> <ul> <li>En g\u00e9n\u00e9ral, il y a un <code>x</code> dans la colonne du mot de passe, cela indique que le mot de passe est dans le fichier <code>/etc/shadow</code>. </li> <li>Le champ <code>UID</code> indique le num\u00e9ro qui est l\u2019identifiant unique de l\u2019utilisateur.</li> <li>Le champ <code>GID</code> d\u00e9termine quel est le groupe principal de l\u2019utilisateur.</li> <li>Le champ <code>nom,complet</code> comporte des informations compl\u00e9mentaires comme le nom complet, le t\u00e9l\u00e9phone, etc. Ces informations peuvent \u00eatre directement indiqu\u00e9es lors de la cr\u00e9ation de l\u2019utilisateur ou via la commande <code>chfn</code>.</li> <li>Le champ r\u00e9pertoire personnel contient le chemin du r\u00e9pertoire d\u2019accueil de l\u2019utilisateur, si celui-ci a \u00e9t\u00e9 cr\u00e9\u00e9.</li> <li>Le champ shell correspond au chemin du binaire correspondant au shell de l\u2019utilisateur. Il est possible de le modifier avec la commande <code>chsh</code>.</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#le-fichier-etcshadow","title":"Le fichier /etc/shadow","text":"<ul> <li>Ce fichier contient les informations cach\u00e9es des utilisateurs s\u00e9par\u00e9es par le caract\u00e8re  <code>:</code></li> </ul> <ul> <li><code>User</code> : champ contenant le nom de l\u2019utilisateur</li> <li><code>Mot de passe</code> : champ contenant le hash du mot de passe. Cette colonne est compos\u00e9e de 3 champs s\u00e9par\u00e9s par des \u00ab <code>$</code> \u00bb</li> <li><code>Premier champ</code> : algorithme de hashage</li> <li><code>$1$</code> signifie MD5</li> <li><code>$2a$</code> signifie Blowfish</li> <li><code>$2$</code> signifie Blowfish (manipulation correcte de caract\u00e8res 8 bits)</li> <li><code>$5$</code> signifie SHA-256</li> <li><code>$6$</code> signifie SHA-512</li> <li><code>Deuxi\u00e8me champ</code> : le sel (ou grain de sable). C\u2019est une cha\u00eene de caract\u00e8re al\u00e9atoire qui sera ajout\u00e9e au mot de passe avant de faire son hash</li> </ul> <ul> <li><code>Troisi\u00e8me champ</code> : le hash du mot de passe plus son sel. Le hash est une cha\u00eene de caract\u00e8re unique g\u00e9n\u00e9r\u00e9 par l\u2019algorithme de hash. Plus l\u2019algorithme est fort plus le hash est complexe \u00e0 d\u00e9crypter.</li> <li>Le fait d\u2019utiliser un sel dans le stockage des mots de passe permet d\u2019augmenter la s\u00e9curit\u00e9 des mots de passe. Le principe du hash est de g\u00e9n\u00e9rer une cha\u00eene de caract\u00e8re unique d\u2019une certaine taille par rapport \u00e0 une cha\u00eene de caract\u00e8re donn\u00e9e. Donc si deux utilisateurs ont le m\u00eame mot de passe, par exemple \u00ab <code>Pa$$w0rd</code> \u00bb, alors les hashs purs seront identiques. L\u2019ajout du sel fait en sorte que les hashs soient diff\u00e9rents, pourtant les utilisateurs ont le m\u00eame mot de passe.</li> </ul> <ul> <li><code>Date de dernier changement de mot de passe</code> : nombre de jours depuis le 1er janvier 1970 d\u00e9terminant le dernier changement du mot de passe. Une valeur \u00e0 0 force le changement du mot de passe pour l\u2019utilisateur \u00e0 la prochaine connexion. Si ce champ est vide, l\u2019utilisateur ne subit pas les options de vieillissement du mot de passe.</li> <li><code>\u00c2ge minimum</code> : l\u2019\u00e2ge minimum est la dur\u00e9e en jour que l\u2019utilisateur devra attendre avant de pouvoir changer son mot de passe de nouveau. Un champ vide ou \u00e0 0 signifie qu\u2019il n\u2019y a pas d\u2019\u00e2ge minimum.</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#commandes-de-gestion-des-utilisateurs","title":"Commandes de gestion des utilisateurs","text":""},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#useradd","title":"useradd","text":"<pre><code>useradd &lt;options&gt; [utilisateur]\n</code></pre> <ul> <li>Options usuelles :</li> <li><code>-m</code> : useradd cr\u00e9e le r\u00e9pertoire d\u2019accueil de l\u2019utilisateur.</li> <li><code>-d [/chemin/rep/accueil]</code> : r\u00e9pertoire d\u2019accueil de l\u2019utilisateur. Si non indiqu\u00e9, useradd utilisera le nom de l\u2019utilisateur et la valeur de la variable HOME du fichier /etc/default/useradd.</li> <li> <p><code>-u [UID]</code> : indique l\u2019UID de l\u2019utilisateur. Si non renseign\u00e9, useradd utilisera le plus petit UID disponible.</p> </li> <li> <p>-<code>g [GID]</code> : indique le GID du groupe principal de l\u2019utilisateur.</p> </li> <li><code>-G [groupe1,groupe2,groupe*n*]</code> : indique la liste des groupes secondaires de l\u2019utilisateur s\u00e9par\u00e9s par des \u00ab <code>,</code> \u00bb.</li> <li><code>-s</code> : indique le shell de l\u2019utilisateur sous la forme du chemin absolu du binaire.</li> <li><code>-r</code> : indique la cr\u00e9ation d\u2019un utilisateur syst\u00e8me.</li> </ul> <p>Lors de la cr\u00e9ation d\u2019un utilisateur, si l\u2019option <code>\u2013m</code> est pass\u00e9e \u00e0 <code>useradd</code>, alors useradd copiera le contenu du r\u00e9pertoire <code>/etc/skel</code> dans le r\u00e9pertoire d\u2019accueil de l\u2019utilisateur.</p>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#usermod","title":"usermod","text":"<pre><code>usermod &lt;options&gt; [utilisateur]\n</code></pre> <ul> <li>Options usuelles :</li> <li><code>-d [/home/DIR]</code> : indique le nouveau r\u00e9pertoire d\u2019accueil de l\u2019utilisateur. Si l\u2019option <code>\u2013m</code> est fournie, le contenu du r\u00e9pertoire actuel sera d\u00e9plac\u00e9 dans le nouveau r\u00e9pertoire d\u2019accueil</li> <li><code>-e [DATE FIN VALIDITE]</code> : date \u00e0 laquelle le compte utilisateur sera d\u00e9sactiv\u00e9. La date est indiqu\u00e9e dans le format <code>AAAA-MM- JJ</code> ou en nombre de jours depuis le 1er janvier 1970. </li> </ul> <p>Un param\u00e8tre <code>DATE\\_FIN\\_VALIDIT\u00c9</code> vide d\u00e9sactivera l'expiration du compte.</p> <ul> <li><code>-f [DUREE INACTIVITE]</code> : nombre de jours suivant la fin de validit\u00e9 d\u2019un mot de passe apr\u00e8s lequel le compte est d\u00e9finitivement d\u00e9sactiv\u00e9. Une valeur de <code>0</code> d\u00e9sactive le compte d\u00e8s que le mot de passe a d\u00e9pass\u00e9 sa fin de validit\u00e9, et une valeur de <code>-1</code> d\u00e9sactive cette fonctionnalit\u00e9.</li> <li><code>-g [GID]</code> : nom du nouveau groupe principal de l\u2019utilisateur. Tout fichier du r\u00e9pertoire personnel de l'utilisateur appartenant au groupe principal pr\u00e9c\u00e9dent de l'utilisateur appartiendra \u00e0 ce nouveau groupe.</li> </ul> <p>Le groupe propri\u00e9taire des fichiers en dehors du r\u00e9pertoire personnel de l'utilisateur doit \u00eatre modifi\u00e9 manuellement.</p> <pre><code>usermod &lt;options&gt; [utilisateur]\n</code></pre> <ul> <li>Options usuelles :</li> <li><code>-G [groupe1,groupe2,groupen]</code> : liste des groupes secondaires de l\u2019utilisateur. Si l\u2019utilisateur appartient d\u00e9j\u00e0 \u00e0 des groupes secondaires, il est peut-\u00eatre utile d\u2019ajouter l\u2019option -a afin de ne pas perdre ces appartenances. Le groupe propri\u00e9taire des fichiers en dehors du r\u00e9pertoire personnel de l'utilisateur doit \u00eatre modifi\u00e9 manuellement.</li> <li><code>-a</code> : ajouter les groupes suppl\u00e9mentaires \u00e0 l\u2019utilisateur. </li> </ul> <p>\u00c0 n\u2019utiliser qu\u2019avec l\u2019option <code>-G</code>.</p> <pre><code>usermod &lt;options&gt; [utilisateur**]\n</code></pre> <ul> <li>Options usuelles :</li> <li><code>-s [shell]</code> : chemin du nouveau shell de l\u2019utilisateur (peut \u00eatre configur\u00e9 \u00e0 l\u2019aide de la commande <code>chsh</code>).</li> <li>-<code>L</code> : verrouille le mot de passe de l\u2019utilisateur. </li> </ul> <p>Cette option ajoute un \u00ab <code>!</code> \u00bb devant le hash du mot de passe dans <code>/etc/shadow</code>.</p> <p>Remarque : pour verrouiller le compte (et pas seulement l'acc\u00e8s par un mot de passe), il est \u00e9galement n\u00e9cessaire de placer <code>DATE\\_FIN\\_VALIDIT\u00c9</code> \u00e0 <code>1</code>.</p> <ul> <li><code>-U</code> : d\u00e9verrouille le mot de passe de l\u2019utilisateur.</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#userdel","title":"userdel","text":"<pre><code>userdel &lt;options&gt; [nom du groupe]\n</code></pre> <ul> <li>Cette commande permet de supprimer un utilisateur.</li> <li>Option usuelle :</li> <li><code>-r</code> : les fichiers pr\u00e9sents dans le r\u00e9pertoire d\u2019accueil de l\u2019utilisateur seront \u00e9galement supprim\u00e9s. Les fichiers de l\u2019utilisateur pr\u00e9sents dans d\u2019autres r\u00e9pertoires ne seront pas supprim\u00e9s.</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#passwd","title":"passwd","text":"<pre><code>passwd &lt;options&gt; [utilisateur]\n</code></pre> <ul> <li>En plus de pouvoir changer le mot de passe, si root l\u2019ex\u00e9cute, <code>passwd</code> modifiera suivant les options pass\u00e9es les champs du fichier <code>/etc/shadow|</code>.</li> <li>Options usuelles :</li> <li><code>-e [utilisateur]</code> : annuler imm\u00e9diatement la validit\u00e9 du mot de passe d\u2019un utilisateur. Celui-ci sera oblig\u00e9 de changer son mot de passe \u00e0 sa prochaine connexion.</li> <li><code>-l [utilisateur]</code> : verrouille le mot de passe en ajoutant un \u00ab <code>!</code> \u00bb devant le hash du mot de passe dans <code>/etc/shadow</code>.</li> <li><code>-u [utilisateur]</code> : d\u00e9verrouille le mot de passe en supprimant le \u00ab <code>!</code> \u00bb devant le hash du mot de passe dans <code>/etc/shadow</code>.</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#changement-didentite-et-elevation-de-privileges","title":"Changement d\u2019identit\u00e9 et \u00e9l\u00e9vation de privil\u00e8ges","text":""},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#la-commande-su","title":"La commande su","text":"<pre><code>su &lt;options&gt; [utilisateur]\n</code></pre> <ul> <li><code>su</code> permet de changer d\u2019utilisateur ou d\u2019ex\u00e9cuter une commande sous l\u2019identit\u00e9 d\u2019un autre utilisateur. </li> <li>Si la commande est invoqu\u00e9e par un simple utilisateur, il faudra qu\u2019il connaisse le mot de passe de l\u2019autre utilisateur. </li> <li><code>su</code> peut aussi permettre de devenir root. </li> <li><code>-s [shell]</code> : pr\u00e9ciser le shell \u00e0 utiliser pour l\u2019ouverture de session.</li> <li>ou <code>-l [utilisateur]</code> : faire un changement complet d\u2019identit\u00e9 (charge les variables d\u2019environnement de l\u2019utilisateur cible).</li> <li><code>-c [cmd]</code> : ex\u00e9cuter la commande, il est conseill\u00e9 de mettre la commande entre simples quote.</li> </ul>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#la-commande-sudo","title":"La commande sudo","text":"<pre><code>sudo &lt;options&gt; [commande]\n</code></pre> <ul> <li>La commande <code>sudo</code> permet de d\u00e9l\u00e9guer des t\u00e2ches pr\u00e9cises d'administration \u00e0 certains utilisateurs. Par exemple, il sera possible d'accorder les privil\u00e8ges de gestion des utilisateurs \u00e0 un groupe d'utilisateurs.</li> <li>Nous ne rentrerons pas dans les d\u00e9tails dans ce cours.</li> <li>Afin qu\u2019un utilisateur puisse utiliser la commande <code>sudo</code>, il faut qu\u2019il soit renseign\u00e9 dans le fichier de configuration <code>/etc/sudoers</code> et renseigner les commandes qu\u2019il pourra utiliser.</li> </ul> <ul> <li>De fa\u00e7on simple, il est possible de donner tous les droits root \u00e0 un utilisateur en ajoutant le groupe <code>sudo</code> \u00e0 l\u2019utilisateur.</li> <li>L\u2019utilisation de la commande <code>sudo</code> demande le mot de passe de l\u2019utilisateur et non celui de root. L\u2019\u00e9l\u00e9vation de privil\u00e8ge sera gard\u00e9e en m\u00e9moire pour cinq minutes par d\u00e9faut.</li> </ul> <p>Lorsque vous utilisez l'option \"<code>-i</code>\", la session interactive en tant que superutilisateur est ouverte avec un nouvel environnement et un nouveau r\u00e9pertoire de travail. Cela signifie que vous obtenez un shell (interpr\u00e9teur de commandes) avec les variables d'environnement et les param\u00e8tres du superutilisateur.</p>"},{"location":"Cours_partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#conclusion","title":"Conclusion","text":"<ul> <li>Vous savez cr\u00e9er et g\u00e9rer des groupes et utilisateurs</li> <li>Vous savez consulter les fichiers de configuration</li> <li>Vous savez effectuer une \u00e9l\u00e9vation de privil\u00e8ges en environnement GNU/Linux</li> </ul>"},{"location":"script/githubdeploy/Read_me/","title":"Read me","text":""},{"location":"script/githubdeploy/Read_me/#petit-script-shell-pour-automatise-le-deployement-de-mkdocs","title":"petit script shell pour automatis\u00e9 le deployement de MKdocs","text":""},{"location":"script/githubdeploy/Read_me/#mise-en-place-et-utilisation","title":"Mise en place et utilisation","text":""},{"location":"script/githubdeploy/Read_me/#1-installation-dans-le-dossier-local-git","title":"1. Installation dans le dossier local Git","text":"<pre><code>cd nom_du_dossier-local-Git-a-deployer\nvi deploy.sh #coller le script et sauvegard\u00e9 (:wq)\n</code></pre>"},{"location":"script/githubdeploy/Read_me/#2-creation-du-fichier-gitignore","title":"2. Cr\u00e9ation du fichier `.gitignore`","text":"<p>Pour \u00e9viter que le script soit suivis par Git cr\u00e9e le fichier `.gitignore` :</p> <pre><code>vi .gitignore\n</code></pre> <p>Ajoutez  deploy.sh pour ignorer notre script `deploy.sh` :</p> <pre><code>deploy.sh\n</code></pre> <p>Ensuite, ajoutez et validez ce fichier :</p> <pre><code>git add .gitignore\ngit commit -m 'build: add .gitignore'\n</code></pre>"},{"location":"script/githubdeploy/Read_me/#3-lancer-le-script","title":"3. Lancer le script","text":"<p>Apr\u00e8s avoir rendu le script ex\u00e9cutable (avec `chmod +x deploy.sh`), lancez-le en utilisant:</p> <pre><code>./deploy.sh\n</code></pre> <p>le script vous demandera le nom du commit et le mdp. c'est tout.</p>"},{"location":"script/githubdeploy/Read_me/#licence","title":"Licence","text":"<p>Akvar42 libre</p>"},{"location":"script/githubdeploy/deploy/","title":"Deploy","text":"<pre><code>#!/bin/bash\n\n# Construire le site MkDocs\nmkdocs build\n\n# Ajouter toutes les modifications \u00e0 git\ngit add .\n\n# Commiter les modifications\nread -p \"Entrez le message de commit : \" commitMessage\ngit commit -m \"$commitMessage\"\n\n# Pousser vers la branche principale (ou master) !!! ATENTION modifier instruction si deployement sur MAIN\ngit push origin master\n\n# D\u00e9ployer sur GitHub Pages\nmkdocs gh-deploy\n</code></pre>"},{"location":"script/pdf_to_md_windows/Read-me/","title":"Read me","text":"<p>Installation :</p> <p>Installer Python via le microsoft store (important)</p> <p>Installer la biblioth\u00e8que PyMuPDF : Ouvrez une invite de commande (CMD) en recherchant \"cmd\" dans la barre de recherche de Windows, puis ex\u00e9cutez la commande suivante pour installer la biblioth\u00e8que PyMuPDF :</p> <p>Dans un terminal, entrez ce code :</p> <p>pip install PyMuPDF</p> <p>Pr\u00e9alablement, cr\u00e9ez deux dossiers :</p> <p>un dossier pour les pdf \u00e0 transformer un dossier pour les .md de sortie</p> <p>Pr\u00e9parer les chemins des fichiers :</p> <p>Ouvrez le fichier pdf_to_md_converter.py que vous venez d'enregistrer dans un \u00e9diteur de texte, et modifiez les variables pdf_input_path et md_output_path en rempla\u00e7ant les chemins par les chemins r\u00e9els de vos dossiers PDF d'entr\u00e9e et du dossier Markdown de sortie.</p> <p>Enregistrez les modifications. </p> <p>Ex\u00e9cuter le script : Ouvrez une invite de commande (CMD) et naviguez jusqu'au r\u00e9pertoire o\u00f9 vous avez enregistr\u00e9 le fichier .py. Utilisez la commande cd pour vous d\u00e9placer dans le bon r\u00e9pertoire. Ensuite, ex\u00e9cutez le script en tapant :</p> <p>python pdf_to_md_converter.py</p> <p>Assurez-vous que vous \u00eates dans le m\u00eame r\u00e9pertoire que le fichier .py lors de l'ex\u00e9cution de cette commande.</p> <p>(ou clic droit &gt; executer avec Python  ;) )</p> <p>V\u00e9rifier le r\u00e9sultat : Apr\u00e8s avoir ex\u00e9cut\u00e9 le script, vous devriez voir des messages dans la console indiquant que la conversion est termin\u00e9e et que le(s) fichier(s) Markdown a/ont \u00e9t\u00e9 cr\u00e9\u00e9(s). Vous trouverez le(s) fichier(s) Markdown converti(s) au chemin que vous avez sp\u00e9cifi\u00e9 dans la variable md_output_path.</p> <p>C'est tout ! Vous avez maintenant install\u00e9 et ex\u00e9cut\u00e9 le script de conversion de PDF en Markdown.</p>"},{"location":"script/pdf_to_md_windows/pdf_to_md_converter/","title":"Pdf to md converter","text":"<pre><code>import os\nimport fitz\n\n# Chemin du r\u00e9pertoire contenant les fichiers PDF\npdf_directory = \"C:\\\\Users\\\\Guillaume\\\\OneDrive\\\\Documents\\\\ENI TSSR\\\\Notes\\\\PDF_TO_MD\\\\PDF_INPUT\"\n\n# Chemin du r\u00e9pertoire de sortie pour les fichiers Markdown\nmd_output_directory = \"C:\\\\Users\\\\Guillaume\\\\OneDrive\\\\Documents\\\\ENI TSSR\\\\Notes\\\\PDF_TO_MD\\\\PDF_OUTPUT\"\n\n# Parcourir les fichiers PDF dans le r\u00e9pertoire\nfor pdf_file in os.listdir(pdf_directory):\n    if pdf_file.lower().endswith(\".pdf\"):\n        pdf_input_path = os.path.join(pdf_directory, pdf_file)\n        md_output_path = os.path.join(md_output_directory, os.path.splitext(pdf_file)[0] + \".md\")\n\n        doc = fitz.open(pdf_input_path)\n        md_content = \"\"\n        is_list = False\n\n        for page_num in range(doc.page_count):\n            page = doc[page_num]\n            blocks = page.get_text(\"blocks\")\n\n            for b in blocks:\n                text = b[4]\n                font_size = b[1]\n                font_flags = b[5]\n\n                # Ignorer les blocs qui semblent \u00eatre des images\n                if \"image:\" in text.lower():\n                    continue\n\n                # D\u00e9tecter les niveaux de titres en fonction de la taille de la police et du style\n                if font_size &gt;= 12 and font_flags == 1:  # V\u00e9rifier si le texte est en gras\n                    md_content += \"# \" + text.strip() + \"\\n\\n\"\n                elif font_size &gt;= 10 and font_flags == 1:\n                    md_content += \"## \" + text.strip() + \"\\n\\n\"\n                elif font_size &gt;= 8 and font_flags == 1:\n                    md_content += \"### \" + text.strip() + \"\\n\\n\"\n                else:\n                    if is_list and text.strip().startswith(\"-\"):\n                        md_content += \"- \" + text.strip()[1:].strip() + \"\\n\"\n                    elif is_list:\n                        md_content += \"  \" + text.strip() + \"\\n\"\n                    else:\n                        md_content += text.strip() + \"\\n\\n\"\n\n                # D\u00e9tecter si la ligne est une liste\n                if text.strip().startswith(\"-\"):\n                    is_list = True\n                else:\n                    is_list = False\n\n        doc.close()\n\n        with open(md_output_path, \"w\", encoding=\"utf-8\") as md_file:\n            md_file.write(md_content)\n\n        print(\"Conversion termin\u00e9e :\", pdf_input_path, \"-&gt;\", md_output_path)\n\n</code></pre>"},{"location":"script/pdftomarkdown/Readme/","title":"Readme","text":"<p>readme de scriptpdftomarkdown.py Version 5 A vincent 03/08/2023  </p>"},{"location":"script/pdftomarkdown/Readme/#description","title":"Description","text":"<p>Conversion de PDF en Markdown Ce script permet de convertir des fichiers PDF en fichiers Markdown, y compris les images incluses dans les PDF.  Il fonctionne sous Debian et d'autres syst\u00e8mes Linux.</p>"},{"location":"script/pdftomarkdown/Readme/#etapes-dinstallation","title":"\u00c9tapes d'installation","text":"<p>(en root ou ajouter sudo)</p>"},{"location":"script/pdftomarkdown/Readme/#installer-python","title":"Installer Python","text":"<p>Assurez-vous que Python 3 est install\u00e9 sur votre syst\u00e8me. Vous pouvez l'installer en ex\u00e9cutant:</p> <p>apt update apt install python3</p>"},{"location":"script/pdftomarkdown/Readme/#installer-pip-gestionnaire-de-paquets-python","title":"Installer PIP (Gestionnaire de paquets Python)","text":"<p>Installez PIP pour faciliter l'installation des d\u00e9pendances:</p> <p>apt install python3-pip</p>"},{"location":"script/pdftomarkdown/Readme/#installer-les-dependances","title":"Installer les D\u00e9pendances","text":"<p>Ex\u00e9cutez la commande suivante pour installer les d\u00e9pendances requises:</p> <p>pip3 install PyPDF2 pdf2image tabulate mistune</p>"},{"location":"script/pdftomarkdown/Readme/#installer-poppler-pour-pdf2image","title":"Installer Poppler (pour pdf2image)","text":"<p>La biblioth\u00e8que pdf2image n\u00e9cessite Poppler pour fonctionner. Installez-le avec:</p> <p>apt install poppler-utils</p>"},{"location":"script/pdftomarkdown/Readme/#utilisation-du-script","title":"Utilisation du Script","text":"<p>Sauvegard\u00e9 le script dans un emplacement accessible sur votre syst\u00e8me.</p> <p>Ouvrez un terminal et naviguez vers le r\u00e9pertoire o\u00f9 se trouve le script. </p> <p>Lancez-le avec:</p> <p>python3 scriptpdftomarkdown5.py</p> <p>Sp\u00e9cifiez le chemin du dossier contenant les PDF:  Le script vous demandera de sp\u00e9cifier le chemin du dossier o\u00f9 se trouvent les fichiers PDF \u00e0 convertir.  Vous pouvez sp\u00e9cifier un chemin absolu ou relatif.</p> <p>Le script cr\u00e9era un dossier pour chaque fichier PDF et sauvegardera le fichier Markdown ainsi que les images associ\u00e9es dans ce dossier.</p>"},{"location":"script/pdftomarkdown/Readme/#licence-libre","title":"Licence libre","text":"<p>Ce script est sans garantie. si votre ordinateur explose et que vous vous blessiez gravement, si votre femme vous quitte, ou que le ciel vous tombe sur la t\u00eate: Dans tout les cas: je ne suis pas responsable.</p>"},{"location":"script/pdftomarkdown/scriptpdftomarkdown5/","title":"Scriptpdftomarkdown5","text":"<pre><code>import PyPDF2\nfrom pdf2image import convert_from_path\nimport glob\nimport os\nimport shutil\n\n#Lire Readme !!!!!!!!!!!!!\n#Avincent 05082023\n\ndef extract_pdfs(source_folder, target_folder):\n    # Trouver tous les fichiers PDF dans le dossier source et les sous-dossiers\n    pdf_files = []\n    for root, dirs, files in os.walk(source_folder):\n        for file in files:\n            if file.endswith(\".pdf\"):\n                pdf_files.append(os.path.join(root, file))\n\n    # Copier les fichiers PDF trouv\u00e9s dans le dossier cible\n    for pdf_file in pdf_files:\n        shutil.copy(pdf_file, target_folder)\n        print(f\"Copi\u00e9: {pdf_file} -&gt; {target_folder}\")\n\ndef extract_text_and_images(pdf_path, output_folder):\n    images = []\n    pdf_reader = PyPDF2.PdfReader(pdf_path)\n    text = \"\"\n    for page_num in range(len(pdf_reader.pages)):\n        page = pdf_reader.pages[page_num]\n        # Extraire le texte de la page\n        page_text = page.extract_text()\n        text += page_text + \"\\n\"\n        # Convertir la page PDF en image\n        image = convert_from_path(pdf_path, first_page=page_num, last_page=page_num + 1)[0]\n        # Sauvegarder l'image dans le dossier de sortie\n        image_path = os.path.join(output_folder, f\"image{page_num}.png\")\n        image.save(image_path)\n        images.append(image_path)\n    return text, images\n\ndef main():\n    source_folder = input(\"Veuillez entrer le chemin du dossier contenant les PDF: \")\n    target_folder = \"target_pdfs\"\n    os.makedirs(target_folder, exist_ok=True)\n    # Extraire les PDF du dossier source vers le dossier cible\n    extract_pdfs(source_folder, target_folder)\n\n    pdf_paths = glob.glob(os.path.join(target_folder, '*.pdf'))\n    for pdf_path in pdf_paths:\n        # Cr\u00e9er un dossier avec le nom du PDF\n        output_folder = os.path.basename(pdf_path).replace('.pdf', '')\n        os.makedirs(output_folder, exist_ok=True)\n\n        # Extraire le texte et les images du PDF\n        text, images = extract_text_and_images(pdf_path, output_folder)\n        markdown_content = text\n\n        # Ajouter les images au contenu Markdown en utilisant un chemin relatif\n        for page_num, image in enumerate(images):\n            relative_image_path = f\"image{page_num}.png\" # Chemin relatif \u00e0 l'emplacement du fichier Markdown\n            markdown_content += f\"![Image]({relative_image_path})\\n\"\n\n        # Sauvegarder le contenu Markdown dans un fichier\n        output_file_name = os.path.join(output_folder, os.path.basename(pdf_path).replace('.pdf', '.md'))\n        with open(output_file_name, 'w', encoding='utf-8') as file:\n            file.write(markdown_content)\n\n        print(f\"Fichier Markdown {output_file_name} g\u00e9n\u00e9r\u00e9 avec succ\u00e8s.\")\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"script/powershell/MVpdf/","title":"MVpdf","text":"<pre><code># D\u00e9finir le chemin du dossier source et du dossier de destination\n$sourceDir = \"C:\\chemin\\vers\\le\\dossier\\source\"\n$destDir = \"C:\\chemin\\vers\\le\\dossier\\destination\"\n\n# Rechercher tous les fichiers .pdf, \u00e0 l'exclusion des .zip, et les copier vers le dossier de destination\nGet-ChildItem -Path $sourceDir -Recurse -File -Filter \"*.pdf\" | Where-Object { $_.Extension -ne \".zip\" } | ForEach-Object {\n    $dest = $destDir + $_.FullName.Substring($sourceDir.Length)\n    $destFolder = Split-Path -Path $dest -Parent\n    if (-not (Test-Path $destFolder)) {\n        New-Item -Path $destFolder -ItemType Directory\n    }\n    Copy-Item -Path $_.FullName -Destination $dest\n}\n\nWrite-Output \"Copie termin\u00e9e.\"\n</code></pre>"},{"location":"script/powershell/mvpdf/","title":"Mvpdf","text":"<pre><code>#ce script extrait les fichier qui contiennent \"Support de cours\" dans leur nom et les renomes avec le noms du dossier qui les contiennent\n\n# D\u00e9finir le chemin du dossier source et du dossier de destination\n$sourceDir = \"C:\\chemin\\vers\\le\\dossier\\source\"\n$destDir = \"C:\\chemin\\vers\\le\\dossier\\destination\"\n\n# Rechercher tous les fichiers .pdf, \u00e0 l'exclusion des .zip, qui contiennent \"Support de cours\" dans leur nom\nGet-ChildItem -Path $sourceDir -Recurse -File -Filter \"*.pdf\" | Where-Object { $_.Extension -ne \".zip\" -and $_.Name -like \"*Support de cours*\" } | ForEach-Object {\n    $dest = $destDir + $_.FullName.Substring($sourceDir.Length)\n    $destFolder = Split-Path -Path $dest -Parent\n    $folderName = Split-Path $_.Directory -Leaf\n    $newFileName = \"${folderName}_$($_.Name)\"\n\n    if (-not (Test-Path $destFolder)) {\n        New-Item -Path $destFolder -ItemType Directory\n    }\n\n    $destFullPath = Join-Path -Path $destFolder -ChildPath $newFileName\n    Copy-Item -Path $_.FullName -Destination $destFullPath\n}\n\nWrite-Output \"Copie et renommage termin\u00e9s.\"\n</code></pre>"},{"location":"script/traitement%20fichier%20cours/","title":"Readme","text":""},{"location":"script/traitement%20fichier%20cours/#traitement-de-texte-avec-openai","title":"Traitement de Texte avec OpenAI","text":"<p>Ce script Python permet de traiter du contenu texte \u00e0 partir de fichiers Markdown (.md) en utilisant l'API OpenAI. Il d\u00e9coupe les textes en morceaux, formule la demande \u00e0 OpenAI pour chaque morceau, puis assemble le r\u00e9sultat final.</p>"},{"location":"script/traitement%20fichier%20cours/#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>Python 3.x</li> <li>Biblioth\u00e8que openai (\u00e0 installer via pip install openai)</li> </ul>"},{"location":"script/traitement%20fichier%20cours/#configuration","title":"Configuration","text":"<p>Avant d'ex\u00e9cuter le script, remplacez 'VOTRE_CL\u00c9_API' par votre cl\u00e9 API OpenAI.</p>"},{"location":"script/traitement%20fichier%20cours/#utilisation","title":"Utilisation","text":"<p>!!! avant de l'executer modifier le prompt selon votre besoin dans la valeur prompt=f du script!!!</p> <ol> <li>Ex\u00e9cutez le script.</li> <li>Lorsque vous y \u00eates invit\u00e9, entrez le chemin du dossier source contenant les fichiers .md que vous souhaitez traiter.</li> <li>Ensuite, entrez le chemin du dossier de destination o\u00f9 vous souhaitez que les fichiers trait\u00e9s soient enregistr\u00e9s.</li> </ol> <p>Les fichiers trait\u00e9s seront enregistr\u00e9s dans le dossier de destination avec le pr\u00e9fixe trait\u00e9_ ajout\u00e9 \u00e0 leur nom.</p>"},{"location":"script/traitement%20fichier%20cours/#note","title":"Note","text":"<p>Ce script conserve la structure des sous-dossiers du dossier source lors de l'enregistrement des fichiers dans le dossier de destination.</p> <p>Akvar42 2023 version 2 libre</p>"},{"location":"script/traitement%20fichier%20cours/IAmark2/","title":"IAmark2","text":"<pre><code>import openai\nimport os\n\n# Configuration de l'API OpenAI\nopenai.api_key = 'VOTRE_CL\u00c9_API'\n\ndef traiter_texte(texte):\n    taille_max = 2000\n    morceaux = [texte[i:i+taille_max] for i in range(0, len(texte), taille_max)]\n    texte_trait\u00e9 = \"\"\n\n    for morceau in morceaux:\n        # Utiliser l'API OpenAI pour traiter le morceau de texte\n        reponse = openai.Completion.create(\n            engine=\"davinci\", \n            prompt=f\"Extrait les donn\u00e9es pertinentes de ce texte :\\n\\n{morceau}\\n\\net mets-les en page en Markdown.\",\n            max_tokens=1000,  # Ajustez cette valeur en fonction de vos besoins\n            temperature=0.5,\n            top_p=1.0,\n            frequency_penalty=0,\n            presence_penalty=0,\n            stop=None,\n            language=\"fr\"\n        )\n        texte_trait\u00e9 += reponse.choices[0].text.strip()\n\n    return texte_trait\u00e9\n\ndef traiter_fichiers(dossier_source, dossier_destination):\n    for root, dirs, files in os.walk(dossier_source):\n        for fichier in files:\n            if fichier.endswith('.md'):\n                chemin_fichier = os.path.join(root, fichier)\n                with open(chemin_fichier, 'r', encoding='utf-8') as f:\n                    contenu = f.read()\n\n                    # Traiter le contenu\n                    contenu_trait\u00e9 = traiter_texte(contenu)\n\n                    # Chemin relatif pour conserver la structure du sous-dossier\n                    chemin_relatif = os.path.relpath(root, dossier_source)\n                    dossier_destination_final = os.path.join(dossier_destination, chemin_relatif)\n\n                    # Cr\u00e9er le sous-dossier dans le dossier de destination si n\u00e9cessaire\n                    if not os.path.exists(dossier_destination_final):\n                        os.makedirs(dossier_destination_final)\n\n                    # \u00c9crire le contenu trait\u00e9 dans le dossier de destination\n                    chemin_fichier_trait\u00e9 = os.path.join(dossier_destination_final, 'trait\u00e9_' + fichier)\n                    with open(chemin_fichier_trait\u00e9, 'w', encoding='utf-8') as f_out:\n                        f_out.write(contenu_trait\u00e9)\n\nif __name__ == \"__main__\":\n    dossier_source = input(\"Entrez le chemin du dossier source contenant les fichiers .md : \")\n    dossier_destination = input(\"Entrez le chemin du dossier de destination pour les fichiers trait\u00e9s : \")\n    traiter_fichiers(dossier_source, dossier_destination)\n\n</code></pre>"}]}