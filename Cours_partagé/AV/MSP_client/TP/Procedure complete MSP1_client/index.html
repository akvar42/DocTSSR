
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../../LINUX/guide_tar-linux/">
      
      
        <link rel="next" href="../../ressource/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/">
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.1.21">
    
    
      
        <title>procedure complete msp_client - DOC TSSR</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.eebd395e.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#procedure-complete-msp_client" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="DOC TSSR" class="md-header__button md-logo" aria-label="DOC TSSR" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DOC TSSR
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              procedure complete msp_client
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="DOC TSSR" class="md-nav__button md-logo" aria-label="DOC TSSR" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    DOC TSSR
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        Bienvenue sur le site de Documentation TSSR2023.
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Cours partagé
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Cours partagé
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          AV
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          AV
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1_1" id="__nav_2_1_1_label" tabindex="0">
          GITHUB
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_1">
          <span class="md-nav__icon md-icon"></span>
          GITHUB
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../GITHUB/SSH_et_GITHUB/" class="md-nav__link">
        Créer une clé SSH et la lier à GitHub et au dépôt local
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../GITHUB/mkdocs_et_github/" class="md-nav__link">
        Mini site avec GitHub et MkDocs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1_2" id="__nav_2_1_2_label" tabindex="0">
          LINUX
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_2">
          <span class="md-nav__icon md-icon"></span>
          LINUX
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../LINUX/Guide_Crontab/" class="md-nav__link">
        Guide Avancé pour l'Utilisation de crontab sous Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../LINUX/Guide_information_system_LINUX/" class="md-nav__link">
        Guide Avancé sur les Informations Système sur GNU/Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../LINUX/Guide_veille_et_journalisation/" class="md-nav__link">
        Guide de Veille et Journalisation sur GNU/Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../LINUX/guide_tar-linux/" class="md-nav__link">
        Guide d'utilisation de tar sur Debian
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_1_3" id="__nav_2_1_3_label" tabindex="0">
          MSP client
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_1_3">
          <span class="md-nav__icon md-icon"></span>
          MSP client
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2_1_3_1" id="__nav_2_1_3_1_label" tabindex="0">
          TP
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_3_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_1_3_1">
          <span class="md-nav__icon md-icon"></span>
          TP
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        procedure complete msp_client
      </a>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1_3_2" id="__nav_2_1_3_2_label" tabindex="0">
          Ressource
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_3_2">
          <span class="md-nav__icon md-icon"></span>
          Ressource
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ressource/Cr%C3%A9ation%20d%27utilisateurs%20et%20de%20groupes%20avec%20PowerShell/" class="md-nav__link">
        Création d'utilisateurs et de groupes avec PowerShell
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ressource/Cr%C3%A9er%20dossier%20pour%20tout%20les%20user/" class="md-nav__link">
        Créer dossier pour tout les user
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ressource/Desactiver%20les%20mise%20a%20jour%20win10/" class="md-nav__link">
        Désactiver les Mises à Jour sur Windows 10
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ressource/mofifier%20masque%20sous%20reseau%20debian/" class="md-nav__link">
        Modifier le masque de sous-réseau sous Debian
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ressource/montage_depuis_debian/" class="md-nav__link">
        Montage depuis debian
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ressource/montage_partition%20_LOGS/" class="md-nav__link">
        montage partition  LOGS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ressource/partage_dossier_shell/" class="md-nav__link">
        Partage dossier shell
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ressource/partageimprimante/" class="md-nav__link">
        Partageimprimante
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ressource/procedure%20pour%20mise%20a%20jour%20home/" class="md-nav__link">
        Procedure pour mise a jour home
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ressource/sauvegarde%20et%20restauration/" class="md-nav__link">
        Sauvegarde et restauration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_4" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1_4" id="__nav_2_1_4_label" tabindex="0">
          VIM
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_4">
          <span class="md-nav__icon md-icon"></span>
          VIM
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../VIM/VIM/" class="md-nav__link">
        Résumé VIM
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_5" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1_5" id="__nav_2_1_5_label" tabindex="0">
          VIRTUALISATION
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1_5">
          <span class="md-nav__icon md-icon"></span>
          VIRTUALISATION
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../VIRTUALISATION/GuideD%C3%A9pannageVmware/" class="md-nav__link">
        Guide de dépannage pour VMware Workstation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../VIRTUALISATION/InstallationVmware/" class="md-nav__link">
        Guide d'utilisation de VMware Workstation pour un technicien
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Guigui
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Guigui
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_1" id="__nav_2_2_1_label" tabindex="0">
          05   Gestion du réseau sous Debian
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_1">
          <span class="md-nav__icon md-icon"></span>
          05   Gestion du réseau sous Debian
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/" class="md-nav__link">
        Module 05 – Gestion du réseau
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_2" id="__nav_2_2_2_label" tabindex="0">
          06   Gestion des paquets logiciels
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_2">
          <span class="md-nav__icon md-icon"></span>
          06   Gestion des paquets logiciels
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/" class="md-nav__link">
        Module 06 – Gestion des paquets logiciels
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_3" id="__nav_2_2_3_label" tabindex="0">
          07   Gestion des espaces de stockage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_3">
          <span class="md-nav__icon md-icon"></span>
          07   Gestion des espaces de stockage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/" class="md-nav__link">
        Module 07 – Gestion des espaces de stockage
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_4" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_4" id="__nav_2_2_4_label" tabindex="0">
          08   Gestion avancée des espaces de stockage   LVM
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_4">
          <span class="md-nav__icon md-icon"></span>
          08   Gestion avancée des espaces de stockage   LVM
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/" class="md-nav__link">
        Gestion des espaces de stockage avancée - LVM
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_5" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_5" id="__nav_2_2_5_label" tabindex="0">
          09   Gestion des espaces de stockage – File System
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_5">
          <span class="md-nav__icon md-icon"></span>
          09   Gestion des espaces de stockage – File System
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/" class="md-nav__link">
        Gestion des espaces de stockage – File System
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_6" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2_6" id="__nav_2_2_6_label" tabindex="0">
          10   Gestion des utilisateurs et des groupes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2_6">
          <span class="md-nav__icon md-icon"></span>
          10   Gestion des utilisateurs et des groupes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/" class="md-nav__link">
        Module 10 – Gestion des utilisateurs et groupes**
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Script
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Script
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
      
      
      
        <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
          Githubdeploy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Githubdeploy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../script/githubdeploy/Read_me/" class="md-nav__link">
        Read me
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../script/githubdeploy/deploy/" class="md-nav__link">
        Deploy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          Pdf to md windows
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Pdf to md windows
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../script/pdf_to_md_windows/Read-me/" class="md-nav__link">
        Read me
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../script/pdf_to_md_windows/pdf_to_md_converter/" class="md-nav__link">
        Pdf to md converter
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          Pdftomarkdown
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Pdftomarkdown
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../script/pdftomarkdown/Readme/" class="md-nav__link">
        Readme
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../script/pdftomarkdown/scriptpdftomarkdown5/" class="md-nav__link">
        Scriptpdftomarkdown5
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
      
      
      
        <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Powershell
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Powershell
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../script/powershell/MVpdf/" class="md-nav__link">
        MVpdf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../script/powershell/mvpdf/" class="md-nav__link">
        Mvpdf
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
      
      
      
        <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
          Traitement fichier cours
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Traitement fichier cours
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../script/traitement%20fichier%20cours/" class="md-nav__link">
        Readme
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../script/traitement%20fichier%20cours/IAmark2/" class="md-nav__link">
        IAmark2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="procedure-complete-msp_client">procedure complete msp_client</h1>
<h1 id="1-installation-des-systemes">1.  Installation des systèmes</h1>
<h2 id="1-installation">1 - installation</h2>
<ul>
<li>Aprés avoir installé les deux machines, avec des volumes logiques</li>
<li>je déactive windows update via services.msc</li>
<li>je modifie les plages ip pour faire correspondre leur masques reseau puis je teste leur conectivité. (ping)</li>
<li>sous windows 10 avec l'outils : <strong>ncpa.cpl</strong></li>
<li>
<p>sous debian en éditant <strong>/etc/network/interfaces</strong>
  Par soucis d'efficacité j'utilise le masque de sous reseau de l'hôte puisque les VM sont installé en bridge.</p>
</li>
<li>
<p>Pour pourvoir utiliser le presse papier de mon hôte vers ma VM j'installe Vmware Tools</p>
</li>
</ul>
<p><img alt="plan" src="../plan_reseau.png" /></p>
<h1 id="2-configuration-des-utilisateurs-et-de-lenvironnement">2 – Configuration des utilisateurs et de l’environnement</h1>
<ul>
<li>
<p>je crée un fichier .csv dans lequel j'ecris les utilisateur et les groupes auquel ils apartiennent. </p>
</li>
<li>
<p>La création de ce fichier va me simplifier la tache pour les étapes suivante. Dans ce fichier je précise si les utilisateur sont interne ou intérimaire ( car des droit spécifique seront atribué à ces diferentes classes)</p>
</li>
</ul>
<pre><code>
 Prénom;Nom;login;mail;password;groupe;description
Rick;Grimes;rgrimes;rickgrimes@gmail.com;RGMDP2023!;Direction;Interne
Daryl;Dixon;ddixon;daryldixon@gmail.com;DDMDP2023!;Commercial;Interne
Gabriel;Stokes;gstokes;gabrielstokes@gmail.com;GSMDP2023!;Commercial;Interne
Maggie;Greene;mgreene;maggiegreene@gmail.com;MGMDP2023!;Commercial;Interne
Eugene;Porter;eporter;eugeneporter@gmail.com;EPMDP2023!;Comptable;Interne
Carol;Peletier;cpeletier;carolpeletier@gmail.com;CPMDP2023!;Comptable;intérimaire
Adrien;vincent;Avincent;avincent@mail.com;AVMDP2023!;informatique;Interne
Rosita;Espinosa;respinosa;rositaespinosa@gmail.com;REMDP2023!;Logistique;Interne
Morgan;Jones;mjones;morganjones@gmail.com;MJMDP2023!;Logistique;Interne

</code></pre>
<h1 id="creation-des-groupes-et-des-utilisateurs-sur-windows-10-via-powershell">Creation des groupes et des Utilisateurs sur windows 10 via Powershell</h1>
<h2 id="installer-avant-les-module-active-directory">installer avant les module active directory</h2>
<ul>
<li>Ouvrez Paramètres.</li>
<li>Allez à Applications.</li>
<li>Sous Applications et fonctionnalités, cliquez sur Fonctionnalités facultatives.</li>
<li>Cliquez sur Ajouter une fonctionnalité.</li>
<li>Dans la liste, recherchez Outils RSAT : Outils AD DS et AD LDS et installez-le.</li>
<li>Après l'installation, le module PowerShell pour Active Directory devrait être disponible.</li>
<li>Une fois les outils RSAT installés:</li>
<li>Ouvrez une session PowerShell (de préférence en tant qu'administrateur) et tapez la commande suivante pour importer le module :</li>
</ul>
<pre><code class="language-powershell">
Import-Module ActiveDirectory
</code></pre>
<h2 id="permettre-lexecution-de-script-dans-power-shell">Permettre l'execution de script dans power shell</h2>
<ul>
<li>verifier la politique active:</li>
</ul>
<pre><code>Get-ExecutionPolicy


</code></pre>
<p>changer la politique:</p>
<pre><code>Set-ExecutionPolicy Unrestricted

</code></pre>
<h2 id="creer-un-fichier-text-en-ps1-et-lexecuter-en-mode-adminitrateur">Créer un fichier text en .ps1 et l'executer en mode adminitrateur.</h2>
<pre><code># Lit le fichier CSV
$utilisateurs = Import-Csv &quot;chemin_vers_votre_fichier\utilisateurs.csv&quot; -Delimiter &quot;;&quot;

# Pour chaque utilisateur dans le fichier CSV
foreach ($utilisateur in $utilisateurs) {
    # Crée le groupe s'il n'existe pas déjà
    if (-not (Get-LocalGroup -Name $utilisateur.groupe -ErrorAction SilentlyContinue)) {
        New-LocalGroup -Name $utilisateur.groupe -Description $utilisateur.description
    }

    # Crée l'utilisateur
    $passwordSecure = ConvertTo-SecureString $utilisateur.password -AsPlainText -Force
    New-LocalUser -Name $utilisateur.login `
                  -GivenName $utilisateur.Prénom `
                  -Surname $utilisateur.Nom `
                  -Description $utilisateur.description `
                  -Password $passwordSecure `
                  -UserMayNotChangePassword $false `
                  -PasswordNeverExpires $false `
                  -FullName &quot;$($utilisateur.Prénom) $($utilisateur.Nom)&quot;

    # Ajoute l'utilisateur au groupe
    Add-LocalGroupMember -Group $utilisateur.groupe -Member $utilisateur.login
}
</code></pre>
<h2 id="creation-utilisateurs-et-groupes-pour-debian">création utilisateurs et groupes pour Debian</h2>
<p>En suite je peux reutilisé mon fichier csv pour debian. En utilisant ce script bash que je rend executable avec la commande:
 <code>chmod +x utilisateur_et_group.csv</code>
  j'execute le script avec <code>./ scriptusergp.sh</code></p>
<pre><code>
#!/bin/bash

# Chemin vers le fichier CSV
csvPath=&quot;/chemin/vers/fichier.csv&quot;

# Vérifie si le fichier CSV existe
if [ ! -f &quot;$csvPath&quot; ]; then
    echo &quot;Le fichier CSV n'existe pas au chemin spécifié.&quot;
    exit 1
fi

# Lire chaque ligne du fichier CSV
while IFS=';' read -r prenom nom login mail password groupe description; do
    # Vérifier l'existence du groupe
    if ! grep -q &quot;^$groupe:&quot; /etc/group; then
        # Créer le groupe s'il n'existe pas
        groupadd &quot;$groupe&quot;
        echo &quot;Groupe $groupe créé.&quot;
    fi

    # Créer l'utilisateur
    useradd -m -g &quot;$groupe&quot; -c &quot;$description&quot; -s /bin/bash &quot;$login&quot;
    echo &quot;$password&quot; | passwd --stdin &quot;$login&quot;

    echo &quot;Utilisateur $prenom $nom créé et ajouté au groupe $groupe.&quot;
done &lt; &quot;$csvPath&quot;

echo &quot;Tous les utilisateurs et groupes ont été créés.&quot; 
</code></pre>
<h2 id="ajouter-un-dossier-procedure-avec-le-reglement-interieur">Ajouter un dossier procedure avec le réglement interieur.</h2>
<ul>
<li>je crée le dossier sur ma session avec le fichier réglement interieur, puis j'execute ce script afin d'évité de faire manuelement la procedure</li>
</ul>
<pre><code> Chemin de destination pour le nouveau dossier sur le bureau de chaque utilisateur
$destinationPath = &quot;C:\Users\*\Desktop\Procédures&quot;
# Chemin du fichier &quot;Règlement intérieur&quot; que vous avez préparé
$sourceFile = &quot;C:\temp\Règlement intérieur.txt&quot;
# Création du dossier &quot;Procédures&quot; sur le bureau de chaque utilisateur
Get-ChildItem -Path &quot;C:\Users\*&quot; -Directory | ForEach-Object {
    $folderPath = Join-Path $_.FullName &quot;Desktop\Procédures&quot;
    if (-not (Test-Path $folderPath)) {
        New-Item -Path $folderPath -ItemType Directory
    }
}
# Copie du fichier &quot;Règlement intérieur&quot; dans le dossier &quot;Procédures&quot; de chaque utilisateur
$sourceFile = &quot;C:\temp\Règlement_intérieur.txt&quot;

Get-ChildItem -Path &quot;C:\Users\*&quot; -Directory | ForEach-Object {
    $folderPath = Join-Path $_.FullName &quot;Desktop\Procédures&quot;
    if (Test-Path $sourceFile) {
        Copy-Item -Path $sourceFile -Destination $folderPath
    }
}
</code></pre>
<p>ou avec le script de bard</p>
<pre><code>$Users = Get-LocalUser
foreach ($User in $Users) {
    New-Item -Path &quot;C:\Users$User\Desktop\Procedure&quot; -ItemType Directory
    New-Item -Path &quot;C:\Users$User\Desktop\Procedure\Reglement interieur&quot; -ItemType File
} 
</code></pre>
<h3 id="pour-le-prestataire-et-son-shell-ksh">Pour le prestataire et son shell ksh</h3>
<pre><code>useradd -c &quot;Préstataire&quot; prestataire -m -g informatique --shell /bin/ksh -p PMDP2023!
</code></pre>
<h2 id="contrainte-suplementaire-windows-10">Contrainte suplémentaire windows 10 :</h2>
<h2 id="securite-mot-de-passe">Securité mot de passe</h2>
<ul>
<li>dans l'invite de commande je lance secpol.msc</li>
<li>dans "strategie mot de passe" j'active "exigence de complexité"</li>
<li>dans longeur minimal je fixe à 12</li>
</ul>
<h2 id="limiter-lacces-pour-lutilisateur-via-la-commande">Limiter l'accès pour l'utilisateur via la commande</h2>
<h3 id="pour-definir-les-heures-de-connexion-pour-lutilisateur-cpeletier-executez-la-commande-suivante-avec-des-droits-administratifs">Pour définir les heures de connexion pour l'utilisateur <code>cpeletier</code>, exécutez la commande suivante avec des droits administratifs :</h3>
<pre><code>bash
net user cpeletier /times:L,Ma,Me,J,V,9:00-12:00
</code></pre>
<p>Les abréviations pour les jours en français sont : 
- L pour Lundi
- Ma pour Mardi
- Me pour Mercredi
- J pour Jeudi
- V pour Vendredi </p>
<h3 id="methode-graphique-pour-limiter-lacces">Méthode graphique pour limiter l'accès</h3>
<p><strong>Ouvrez la gestion de l'ordinateur:</strong>
- Appuyez sur Win + R pour ouvrir la boîte de dialogue Exécuter.
- Tapez compmgmt.msc et appuyez sur Entrée.</p>
<p><strong>Naviguez jusqu'aux utilisateurs et groupes locaux:</strong></p>
<ul>
<li>Dans le volet gauche, développez "Utilisateurs et groupes locaux" et cliquez sur "Utilisateurs".</li>
</ul>
<p><strong>Sélectionnez le compte utilisateur:</strong></p>
<ul>
<li>
<p>Recherchez et double-cliquez sur le compte cpeletier.
<strong>Définissez les heures de connexion:</strong></p>
</li>
<li>
<p>Dans la boîte de dialogue des propriétés, allez à l'onglet "Heures de connexion".
D- éfinissez les tranches horaires autorisées pour chaque jour de la semaine.
A<strong>ppliquez et fermez:</strong></p>
</li>
<li>
<p>Cliquez sur "OK" ou "Appliquer" pour sauvegarder les modifications.</p>
</li>
</ul>
<p>Note: Cette configuration ne déconnectera pas automatiquement un utilisateur déjà connecté en dehors des heures définies, mais empêchera les nouvelles connexions pendant les périodes non autorisées.</p>
<h2 id="ajout-nouveau-compte-administrateur-pour-le-directeur">Ajout nouveau compte administrateur pour le directeur</h2>
<ul>
<li>je lance powershell en administrateur puis</li>
<li>je fait 
<code>net user admin rgrimes /add</code></li>
</ul>
<p><code>net user rgrimes *</code></p>
<p>puis tape le nouveaux mot de passe</p>
<h2 id="integration-du-service-informatique-au-groupe-administrateur">Intégration du service informatique au groupe Administrateur</h2>
<p>-aprés avoir crée le groupe "Administrateurs"</p>
<p><code>Add-LocalGroupMember -Group "Administrateurs" -Member "Avincent"</code></p>
<h2 id="forcage-du-changement-de-mot-de-passe">Forçage du changement de mot de passe:</h2>
<ul>
<li>sur <strong>windows 10</strong> :sans la console MMC, dans utilisateur et groupe: clique droit sur l'utilisateur puis dans l'onglet général "l'utilisateur doit changer le mot de passe à la prochaine ouverture de session"</li>
<li>dans <strong>Debian</strong> </li>
</ul>
<pre><code>chage Avincent -d 0
</code></pre>
<p>### restriction d'utilisation de périphérique windows 10
 - Pour restreindre l'utilisation de périphérique, j'utilise le logitiel enfichagle disponible dans la console MMC: "éditeur d'objet et stratégie de groupe"</p>
<ul>
<li>
<p>Dans "objet de stratégie de groupe" je séléctione "NON-adminstrateurs"</p>
</li>
<li>
<p>Sous "Configuration utilisateur" - "Modèles d'administration" - "Accès au stockage
amovible » : j'active "CD et DVD : refuser l'accès en lecture/écriture"</p>
</li>
<li>
<p>Sous "Composant Windows" - "Windows Store", je  désactive l'application </p>
</li>
<li>
<p>Sous "Modèles d'administration" - "Système", j'active "Empêche l'accès aux outils de modifications du Registre"</p>
</li>
<li>
<p>Sous "Modèle d'administration" - "Bureau" -"Bureau", je configure "Papier peint du Bureau", j'ajoute le chemin d'accés à l'image de fond d'écran (fond noir)</p>
</li>
<li>
<p>Sous "Configuration ordinateur" - "Paramètres de sécurité" - "Pare-feu Windows
Defender" - "Propriétés du Pare-feu Windows" <strong>J'active</strong> le Pare-feux sur tous les profils (domaine, privé, public)</p>
</li>
</ul>
<h3 id="verification">vérification</h3>
<p>pour mettre a joour les mdoficication systeme
<code>gpupdate</code>
pour afficher les informations de résultat de stratégie de groupe (Group Policy) avec \r comme arguments pour resumé
<code>gpresult \r</code></p>
<h1 id="ajout-des-depots-debian-et-supression-de-commentaire-avec-vim">Ajout des depots Debian et supression de commentaire avec VIM</h1>
<ul>
<li>Directement depuis bash shell avec l'éditeur de flux sed:</li>
</ul>
<pre><code>sed -i '/^# deb-src/s/^# //' /chemin/vers/votre/sources.list
</code></pre>
<ul>
<li>
<p>Ou depuis vim avec la fonction g :</p>
</li>
<li>
<p><code>vim /etc/pat/sources.list</code>
en mode commande</p>
</li>
<li><code>:g:/^deb-src/s/^/#/gc</code></li>
<li>
<p><code>:wq</code> pour quitter et sauvegarder</p>
</li>
<li>
<p>on peut ajouter le depot ftp</p>
</li>
<li>
<p><code>deb-src http://ftp.fr.debian.org/debian/ main contrib non-free</code></p>
</li>
<li>
<p>on met à jour la liste des depot et paquets
-<code>apt update</code></p>
</li>
</ul>
<h1 id="3-configuration-du-stockage-et-des-ressources">3 Configuration du stockage et des ressources</h1>
<h2 id="creation-dune-partition-data-avec-diskpart-sur-windows-10">création d'une partition DATA avec DISKPART sur windows 10</h2>
<ul>
<li>Lancement de diskpart dans powershell en mode administrateur</li>
</ul>
<pre><code>diskpart
</code></pre>
<ul>
<li>listage des disques</li>
</ul>
<pre><code>list disk
</code></pre>
<ul>
<li>selection du disque à partitioner</li>
</ul>
<pre><code>select disk 1
</code></pre>
<ul>
<li>on deconect le disque pour s'assuré qu'aucun service ne soit en train de l'utiliser</li>
</ul>
<pre><code>offline disk
</code></pre>
<ul>
<li>on reconecte</li>
</ul>
<pre><code>online disk
</code></pre>
<ul>
<li>on crée une table de partition mbr</li>
</ul>
<pre><code>convert MBR
</code></pre>
<ul>
<li>on crée une partion de 15000 Mega octet (15 Giga)</li>
</ul>
<pre><code>create partition primary size=15000
</code></pre>
<ul>
<li>on formate en ntfs en appellant la partion DATA</li>
</ul>
<pre><code>format fs=ntfs label=&quot;DATA&quot; quick
 ```

- on attribue la lettre D au disque

</code></pre>
<p>assign letter=D</p>
<pre><code>
- En faisant ``` list disk ``` on peut voir la modification qui s'est correctement effectué.

</code></pre>
<p>exit</p>
<pre><code>


## création de partitions sur Debian avec fdisk

- On commence par lister les disques:
```fdisk -l```

- on selectionne le disque à partitionner
```fdisk /dev/sdb```

***on fait trois partitions:***

- 1ère partition :
· n : créer une nouvelle partition
· p : type de partition primaire
· Laisser le numéro de partition par défaut
· Laisser le premier secteur par défaut
· +15G pour ajouter 15Go

- 2ème partition:
· n : créer une nouvelle partition
· p : type de partition primaire
· Laisser le numéro de partition par défaut
· Laisser le premier secteur par défaut
· +15G pour ajouter 15Go

- 3ème partition:
· n : créer une nouvelle partition
· p : type de partition primaire
· Laisser le numéro de partition par défaut
· Laisser le premier secteur par défaut
· Laisser le dernier secteur par défaut pour occuper tout l'espace restant


- on quitte fdisk avec ```w```

### Formatage des partitions avec mkfs
- Pour formater la partion en xfs il faut installer xfsprogs

``` apt install xfsprogs ```

- puis on formate avec mkfs en nomant les partitions en donnant un label avec l'argument -L
```mkfs.ext4 -L PROFILS /dev/sdb1```
```mkfs.ext4 -L DATA /dev/sdb2 ```
 ```mkfs.xfs -L LOGS /dev/sdb3```


### Extention du dossier home
  ### methode 1  LVM: 
  il reste de la place sur le groupe de volume logique et j'étend /home
 -on verifie la place disponible:
  ```vgs```
  -on etend le volume logique *LGV est le noms du groupe de volume, (-l +100%FREE) utilise tout l'espace libre du VG.*
 ``` lvextend -l +100%FREE /dev/LGV/HOME```




### - Methode 2 - Mise à jour du répertoire `/home`

### Préparation

1. **Sauvegarde** : 
   - On s'assure d'avoir une sauvegarde complète de toutes les données, en particulier du répertoire `/home`.

2. **Information des utilisateurs**:
   - On informe tous les utilisateurs qu'une maintenance est prévue. On précise la durée estimée de cette maintenance.

3. **Désactivation de l'accès des utilisateurs**:
   - Pour empêcher les connexions pendant la transition, on passe en mode de maintenance:
   ```
   systemctl isolate rescue.target
   ```
   - Si le système est accessible via SSH, on désactive le service:
   ```
   systemctl stop sshd
   ```
   - On crée un fichier `/etc/nologin` pour empêcher les utilisateurs non-root de se connecter:
   ```
   echo &quot;Maintenance en cours, veuillez réessayer plus tard.&quot; &gt; /etc/nologin
   ```

### Processus de transition

1. **Copie temporaire de `/home`** :
   ```
   cp -rp /home /tmp/home-backup
   ```

2. **Modification du fichier `/etc/fstab`** :
   ```
   vim /etc/fstab
   ```
   - On commente la ligne concernant `/home` en ajoutant un `#` devant :
   ```
   #UUID=4b59933b-136a-4287-8658-c97b2ec93603 /home ext4 defaults 0 2
   ```
   - On ajoute ensuite la ligne pour monter la partition `PROFILS` à `/home` :
   ```
   LABEL=PROFILS /home ext4 defaults 0 2
   ```

3. **Montage des partitions** :
   ```
   mount -a
   ```

4. **Copie des données du backup vers le nouveau `/home`** :
   ```
   cp -rp /tmp/home-backup/* /home/
   ```

### Vérifications post-transition

1. **Réactivation de l'accès des utilisateurs**:
   - On repasse en mode normal:
   ```
   systemctl isolate default.target
   ```
   - Si le service SSH a été désactivé, on le réactive:
   ```
   systemctl start sshd
   ```
   - On supprime le fichier `/etc/nologin` pour permettre aux utilisateurs de se reconnecter:
   ```
   rm /etc/nologin
   ```

2. **Vérification de la copie** :
   - On s'assure que toutes les données et permissions sont correctement copiées sur le nouveau volume.

3. **Nettoyage** :
   - Après s'être assuré que tout est en ordre, on peut supprimer le répertoire de backup pour récupérer l'espace :
   ```
   rm -rf /tmp/home-backup
   ```

4. **Test final** :
   - On se connecte en tant qu'utilisateur pour s'assurer que tout est opérationnel.

## Mise en commun du volume DATA et dossier service sur le client Debian

- on crée l'arborescence /services puis les dossiers la composant *l'argument -p permet de cre des repertoire parents*

```mkdir -p /service/{commercial,comptabilite,direction,informatique,logistique}```

- on fait correspondre la propriété de chaque dossier avec son groupe

 Dans le repertoire service on tape

 ```
 chown :commercial commercial
 chown :comptabilite comptabilite
 chown :direction direction
 chown :informatique informatique
 chown :logistique logistique
 ```



- Puis on donne aux propriétaires et au groupe propriétaire le droit de lire, écrire et exécuter tous les fichiers et répertoires du répertoire:

``` chmod g+x *```

## Modification des accés au dossier Sur le poste Windows 10

- Ces étapes garantissent que seul le groupe commercial (et le compte système pour des raisons d'administration) peut accéder au dossier « Commerciaux » et que toutes les autres autorisations sont supprimées.


1. On commence par créer un dossier nommé « D:\données\ ». 
2. À l'intérieur de « D:\données\ », on crée un sous-dossier appelé « Commerciaux ».
3. Une fois le dossier créé, on fait un clic-droit dessus et on choisit l'option &quot;Propriétés&quot;.
4. Dans la fenêtre des propriétés qui s'ouvre, on se rend à l'onglet &quot;Sécurité&quot; puis on clique sur le bouton &quot;Avancé&quot;.
5. Dans la nouvelle fenêtre, on désactive l'option &quot;héritage&quot;. Cela empêchera le dossier d'hériter des autorisations des dossiers parents.
6. On supprime ensuite toutes les autorisations héritées pour s'assurer qu'aucun autre groupe ou utilisateur ne peut accéder au dossier.
7. On valide les changements.
8. On retourne à l'onglet &quot;Sécurité&quot;, puis on clique sur &quot;Ajouter...&quot; suivi de &quot;Sélectionnez un principal&quot;.
9. Dans la liste, on choisit l'option “modification” ainsi que l'option “Appliquer ces autorisations...” avant de valider avec &quot;OK&quot;.
10. Enfin, on supprime tous les utilisateurs et groupes listés dans la fenêtre des autorisations, à l'exception du groupe L_commercial_W et du compte système. De cette façon, seuls les membres du groupe L_commercial_W auront accès au dossier, garantissant ainsi que l'accès est interdit à toute personne étrangère au service.




## Creation de partage reseau:
### méthode graphique:
1. On commence par sélectionner le dossier nommé « Support_Info » pour le partager.
2. Afin de le rendre invisible aux autres utilisateurs pour des raisons de sécurité, on ajoute un « $ » à la fin du nom du partage.
3. On effectue un clic gauche sur le dossier et on choisit &quot;Propriétés&quot; dans le menu contextuel.
4. Dans la fenêtre des propriétés, on se dirige vers l'onglet &quot;Partage&quot;.
5. On clique ensuite sur &quot;Partage avancé...&quot;.
6. Dans la zone &quot;Nom du partage&quot;, on ajoute le symbole &quot;$&quot; à la fin pour rendre le partage caché.
7. On clique sur le bouton &quot;Autorisations&quot; pour définir les droits d'accès souhaités.
8. Une fois les autorisations correctement définies, on valide en cliquant sur &quot;OK&quot;.
9. Pour confirmer la mise en place du partage, on ouvre l'invite de commande (`cmd`) et on liste les partages disponibles.
10. En préparation pour des déploiements futurs, on recherchera l'équivalent des actions effectuées sous la forme de commandes PowerShell. Ces commandes seront conservées dans un fichier script PowerShell avec l'extension &quot;.ps1&quot;.

### En ligne de commande:

1. On commence par créer le partage en utilisant la commande PowerShell suivante :
   ```powershell
   New-smbshare support_info$ -path d:support_info -changeaccess “utilisateurs authentifiés”
   ```

2. Pour modifier les autorisations sur ce partage, on suit les étapes ci-dessous :

   a. On récupère les autorisations actuelles (Access Control List, ou ACL) du dossier avec :
   ```powershell
   $acl = get-acl D:support_info
   ```

   b. On définit une nouvelle règle (Access Control Entry, ou ACE) pour donner au groupe informatique le droit de modification :
   ```powershell
   $ace = New-Object security.accesscontrol.filesystemaccessrule(&quot;L_informatique_RW&quot;, &quot;Modify&quot;, &quot;Allow&quot;)
   ```

   c. On applique cette nouvelle règle à la liste d'autorisations :
   ```powershell
   $acl.addaccessrule($ace)
   ```

   d. On met à jour les autorisations du dossier avec la liste modifiée :
   ```powershell
   set-acl D:support_info $acl
   ```

3. Pour voir la liste des dossiers partagés via la ligne de commande, on tape :
   ```
   net share
   ```



- Pour testé l'accés le binôme crée un lecteur U qui pointe sur le dossier: (avec l'ip de la VM)

```net use U: \\10.107.200.80\Support_info$ /persistent:yes```


# Gestion des imprimantes

### Installation et partage de l'imprimante HP LaserJet M9050 MFP

1. **Démarrage du gestionnaire d'ajout d'imprimante** :
   - On se rend dans `Panneau de configuration` &gt; `Matériel et audio` &gt; `Périphériques et imprimantes`.
   - On clique sur `Ajouter une imprimante`.

2. **Choix du type d'imprimante** :
   - Lorsqu'on est interrogé sur la manière d'installer l'imprimante, on choisit `Ajouter une imprimante en utilisant une adresse IP ou un nom d'hôte`.
   - On clique sur `Suivant`.

3. **Renseignement de l'adresse IP** :
   - Dans le champ `Nom d'hôte ou adresse IP`, on inscrit `l'IP de l'imprimante`.
   - On s'assure que l'option `Interroger l'imprimante et sélectionner automatiquement le pilote à utiliser` est activée.
   - On clique sur `Suivant`.

4. **Sélection du pilote** :
   - Si Windows reconnaît l'imprimante, il peut proposer un pilote par défaut. Sinon, on va sur le site d'[HP](https://support.hp.com/fr-fr/drivers/)
  et on cherche dans la liste des pilotes.
   - Si le pilote n'est pas listé dans windows, il faudra peut-être le télécharger depuis le site officiel de HP et l'installer manuellement.
   - On clique sur `Suivant`.

1. **Nom de l'imprimante** :
   - On donne un nom à l'imprimante, par exemple : &quot;HP LaserJet M9050 MFP&quot;.
   - On clique sur `Suivant`.

2. **Options de partage** :
   - Quand l'option de partage est présentée, on coche `Partager cette imprimante`.
   - Dans le champ `Nom de partage`, on indique un nom qui sera utilisé sur le réseau pour accéder à cette imprimante. Par exemple, &quot;HPM9050_Shared&quot;.
   - On clique sur `Suivant`.

3. **Finalisation** :
   - Une page récapitulative est présentée. On vérifie toutes les informations.
   - On clique sur `Terminer`.

4. **Test** :
   - Pour confirmer que tout est bien configuré, on imprime une page test.

5. **Accès depuis un autre poste** :
   - Depuis un autre ordinateur du réseau, on va dans `Périphériques et imprimantes`, puis on ajoute une imprimante.
   - On recherche l'imprimante partagée par nom et l'ajoute à la liste des imprimantes de l'ordinateur.


### Configuration des permissions pour l'imprimante

1. **Accès aux propriétés de l'imprimante** :
   - On ouvre le menu `Démarrer`, puis on clique sur `Périphériques et imprimantes`.
   - On trouve l'imprimante &quot;HP LaserJet M9050 MFP&quot; et on fait un clic droit dessus, puis on choisit `Propriétés`.

2. **Modification des permissions** :
   - Dans la fenêtre des propriétés de l'imprimante, on se rend dans l'onglet `Sécurité`.

3. **Permissions pour tous les utilisateurs** :
   - On clique sur `Ajouter` et saisit &quot;Utilisateurs&quot; (ou le groupe qui représente tous les utilisateurs sur le système).
   - On coche la permission `Imprimer`.
   - On clique sur `Appliquer`.

4. **Permissions pour le service Comptabilité** :
   - On clique sur `Ajouter` et saisit le nom du groupe ou de l'utilisateur représentant le service Comptabilité.
   - On coche les permissions `Imprimer` et `Gérer les documents` (ce qui permettra de supprimer des impressions bloquées).
   - On clique sur `Appliquer`.

5. **Permissions pour le service Informatique** :
   - On clique sur `Ajouter` et saisit le nom du groupe ou de l'utilisateur représentant le service Informatique.
   - On coche `Contrôle total` (qui accorde toutes les permissions).
   - On clique sur `Appliquer`.

6. **Validation** :
   - Une fois que toutes les permissions sont correctement configurées, on clique sur `OK` pour fermer les propriétés de l'imprimante.

### Création d'un pool d'impression pour deux imprimantes Xerox Office Color

1. **Installation des imprimantes individuelles** :
   - **Accès au menu Ajouter une imprimante** :
     - On ouvre le menu `Démarrer`, puis on clique sur `Périphériques et imprimantes`.
     - On choisit `Ajouter une imprimante`.
   - **Ajout de la première imprimante (ip1)** :
     - On choisit `Ajouter une imprimante en utilisant une adresse IP ou un nom d'hôte`.
     - On saisit l'adresse IP &quot;ip1&quot; et on suit les étapes pour installer l'imprimante avec le pilote approprié.
   - **Répétition pour la deuxième imprimante (ip2)** :
     - On répète les mêmes étapes pour ajouter la deuxième imprimante en utilisant l'adresse IP &quot;ip2&quot;.

2. **Création du pool d'impression** :
   - On retourne à `Périphériques et imprimantes`.
   - On fait un clic droit sur l'une des deux imprimantes Xerox que nous venons d'ajouter, et on choisit `Propriétés de l'imprimante`.
   - Dans l'onglet `Ports`, on coche les ports correspondant aux adresses IP &quot;ip1&quot; et &quot;ip2&quot; pour les ajouter au pool.
   - On confirme en cliquant sur `Appliquer` ou `OK`.

3. **Configuration des paramètres de pool** :
   - Dans les `Propriétés de l'imprimante`, on se dirige vers l'onglet `Avancé`.
   - On coche l'option `Activer le pool d'impression`.
   - On s'assure que les ports correspondant aux deux imprimantes sont sélectionnés.

4. **Validation** :
   - Pour tester le pool d'impression, on envoie un document à imprimer sur l'imprimante poolée.
   - On vérifie que le document est imprimé par l'une des deux imprimantes Xerox.
   - Si tout fonctionne correctement, le pool d'impression est prêt à être utilisé.


### Configuration des permissions pour les imprimantes sur Windows 10

1. **Accéder aux propriétés de l'imprimante** :
    - On ouvre `Périphériques et imprimantes` depuis le Panneau de configuration.
    - On fait un clic droit sur l'imprimante concernée, puis on sélectionne `Propriétés de l'imprimante`.

2. **Ajustement des permissions** :
    - On va dans l'onglet `Sécurité`.
    - On supprime le groupe `Tout le monde` en le sélectionnant et en cliquant sur `Supprimer`.
    - On clique sur `Ajouter` pour ajouter le groupe ou les utilisateurs du service Comptabilité. Après avoir ajouté, on leur coche `Imprimer` dans la liste des permissions.
    - On répète l'ajout pour le service `Informatique` et on leur accorde le `Contrôle total`.

3. **Configurer les horaires d'utilisation** :
    - Sous l'onglet `Avancé`, on coche l'option `Disponible de`.
    - On définit la tranche horaire de `19:00` à `03:00`.

4. **Configuration des administrateurs** :
    - Retour dans l'onglet `Sécurité`.
    - On sélectionne le groupe ou les utilisateurs du service `Informatique`.
    - On coche `Contrôle total` dans la liste des permissions.

5. **Validation** :
    - On valide les modifications en cliquant sur `OK`.
    - Après avoir configuré les permissions et horaires, on teste pour s'assurer que tout fonctionne correctement.
    - On essaie d'imprimer depuis un compte du service `Comptabilité` hors des horaires définis pour confirmer que la restriction fonctionne.
    - On répète le test pendant les horaires définis pour s'assurer qu'ils peuvent imprimer.
    - Enfin, on se connecte avec un compte du service `Informatique` pour s'assurer qu'ils ont un contrôle total sur l'imprimante.

### Configuration de deux files d'attente pour la Xerox Office Color et deplacement du pool dans D:

1. **Création de la première file d'attente**:
    - On ouvre `Périphériques et imprimantes` depuis le Panneau de configuration.
    - On choisit `Ajouter une imprimante` puis on suit l'assistant pour ajouter la Xerox Office Color. Nommez cette file d'attente par exemple &quot;Xerox Office Color - Directeurs&quot;.

2. **Création de la deuxième file d'attente**:
    - On répète le processus d'ajout d'une nouvelle imprimante. Cette fois, on nomme la file d'attente, par exemple, &quot;Xerox Office Color - Général&quot;.

3. **Attribution de la priorité aux directeurs**:
    - Dans `Périphériques et imprimantes`, on fait un clic droit sur &quot;Xerox Office Color - Directeurs&quot;, puis on sélectionne `Propriétés de l'imprimante`.
    - Dans l'onglet `Avancé`, on modifie la `Priorité` en mettant une valeur élevée, par exemple 10.
    - Pour &quot;Xerox Office Color - Général&quot;, on répète le processus, mais on définit la priorité à une valeur plus basse, par exemple 5.

4. **Déplacer le spool d'impression**:
    - Toujours dans `Périphériques et imprimantes`, on clique sur `Serveur d'impression` en haut de la fenêtre, puis on ouvre les `Propriétés`.
    - Dans l'onglet `Avancé`, on repère l'option `Emplacement du spool`.
    - On change le chemin actuel de &quot;C:\Windows\System32\spool\PRINTERS&quot; à &quot;D:\spool\PRINTERS&quot; 
    - crée le dossier &quot;D:\spool\PRINTERS&quot;  avant d'effectuer le changement.

5. **Redémarrer le service d'impression**:
    - Pour que les modifications prennent effet, on doit redémarrer le service Spouleur d'impression. Pour ce faire, on peut ouvrir le `Gestionnaire de services` et redémarrer le service `Spouleur d'impression`, ou simplement redémarrer l'ordinateur.


 # 4 - Configuration avancée des systems
 ## Modification du chargeur d'amorçage du grub à 2 seconde:

- on modifie GRUB_TIMEOUT avec valeur : 2

``` vim  /etc/default/grub ```

- puis on met à jour le Grub:

```update-grub```



### Redimensionnement et configuration du swap sur Debian

**Remarque**: Faire Snapshot avant la procedure !!!

1. **Désactivation du swap**:
    - Avant d'apporter des modifications à l'espace de swap, on s'assure qu'il est désactivé.
    ```
    swapoff /dev/sda2
    ```

2. **Modification du partitionnement avec `fdisk`**:
    - On utilise l'outil `fdisk` pour ajuster le partitionnement de la partition `/dev/sda`.
    ```
    fdisk /dev/sda
    ```

    - Une fois dans `fdisk`:
        - On choisit `p` pour afficher la table des partitions.
        - On choisit `d` pour supprimer la partition de swap actuelle.
        - On choisit `n` pour créer une nouvelle partition.
        - On suit les invites pour spécifier la taille et le type (swap).

3. **Formatage de la partition en tant que swap**:
    - Une fois la partition correctement dimensionnée, on la formate pour le swap.
    ```
    mkswap /dev/sda2
    ```

4. **Mise à jour du fichier `/etc/fstab`**:
    - Ce fichier permet au système de savoir où trouver les systèmes de fichiers lors du démarrage.
    ```
    nano /etc/fstab
    ```

    - Dans l'éditeur:
        - On repère la ligne existante pour le swap et la commente en ajoutant un `#` au début de la ligne.
        - On ajoute ensuite la nouvelle configuration pour le swap:
        ```
        /dev/sda2 swap swap defaults 0 0
        ```

5. **Activation du swap**:
    - Avec la nouvelle configuration en place, on active le swap.
    ```
    swapon /dev/sda2
    ```

6. **Mise à jour de Debian**:
    - Maintenant que le swap est correctement configuré, on procède à la mise à jour du système Debian.
    ```
    apt update
    apt upgrade
    ```

&gt;

### Activation et configuration du bureau à distance sur Windows 10

1. **Accéder au panneau de configuration**:
    - On ouvre le menu &quot;Démarrer&quot;, on recherche &quot;Panneau de configuration&quot; et on le sélectionne.

2. **Naviguer vers les paramètres du Bureau à distance**:
    - Dans le panneau de configuration, on clique sur &quot;Système et sécurité&quot;, puis sur &quot;Autoriser l'accès à distance&quot; sous la section &quot;Système&quot;.

3. **Activer le Bureau à distance**:
    - On coche la case &quot;Autoriser les connexions à distance à cet ordinateur&quot;.
    - On s'assure que &quot;Autoriser uniquement les connexions à partir d'ordinateurs exécutant le Bureau à distance avec authentification au niveau du réseau (recommandé)&quot; est également coché.

4. **Ajouter le groupe des informaticiens aux utilisateurs du Bureau à distance**:
    - On ouvre l'invite de commandes PowerShell avec des droits administratifs. Pour ce faire, on clique droit sur le menu Démarrer et on choisit &quot;Windows PowerShell (admin)&quot;.
    - On saisit la commande suivante pour ajouter le groupe &quot;informatique&quot; aux utilisateurs autorisés du Bureau à distance :
      ```powershell
      net localgroup &quot;utilisateurs du bureau à distance&quot; informatique /add
      ```
    - On peut vérifier si l'opération a été réussie en entrant :
      ```powershell
      net localgroup &quot;utilisateurs du bureau à distance&quot;
      ```
      On s'attend à voir &quot;informatique&quot; dans la liste des membres.

5. **Vérification du numéro de port RDP**:
    - Pour connaître le numéro de port utilisé par le Bureau à distance, on utilise la commande :
      ```powershell
      netstat -an | find &quot;3389&quot;
      ```
      Si le port 3389 apparaît dans les résultats, cela signifie que le Bureau à distance est correctement configuré pour utiliser ce port par défaut.

6. **Finalisation**:
    - Une fois toutes ces étapes effectuées, on redémarre l'ordinateur pour que les modifications prennent effet. On teste ensuite la connexion à distance pour s'assurer que tout fonctionne correctement.

&gt;

# 5 – Installation d’applications
## sur windows 10
## Installation silencieuse de 7-Zip

1. **Téléchargement du logiciel**:
   - On se rend sur le site officiel de 7-Zip pour télécharger l'installateur du logiciel, soit en version 32 bits (x86) ou 64 bits (x64), en fonction de la version de Windows sur laquelle on souhaite installer.

2. **Préparation de l'installation silencieuse**:
   - On s'assure d'avoir les droits administratifs sur la machine. Si ce n'est pas le cas, on doit exécuter l'installateur avec des droits élevés.

3. **Lancement de l'installation silencieuse**:
   - On ouvre l'invite de commandes (CMD) en tant qu'administrateur.
   - On navigue vers l'emplacement où se trouve l'installateur téléchargé à l'étape 1. Par exemple, si l'installateur est sur le bureau, on utilise la commande : 
     ```
     cd %AV%\Desktop
     ```


   - Pour la version 64 bits (nom de fichier par défaut : `7zXXXX-x64.msi`):
     ```
     msiexec /i 7zXXXX-x64.msi /qn
     ```
     On remplace `XXXX` par le numéro de version approprié.

4. **Vérification**:
   - Après l'installation, on vérifie que 7-Zip est correctement installé. On peut le faire en ouvrant le menu Démarrer et en recherchant 7-Zip. Si l'application est présente, cela signifie que l'installation a été réussie.

&gt; **Note** : Le commutateur `/qn` signifie &quot;quiet no UI&quot;. Il permet une installation silencieuse sans interface utilisateur. L'alerte UAC (Contrôle de compte utilisateur) pourrait toujours s'afficher pour demander l'autorisation d'installer le logiciel. 


## Connexion RDP à un poste Windows depuis Debian/Linux

### 1. Recherche d'applications gérant le protocole RDP avec NLA:
- Avant d'installer tout logiciel, on vérifie les solutions disponibles dans les dépôts officiels pour gérer le protocole RDP :
</code></pre>
<p>apt search rdp
apt search bureau à distance</p>
<pre><code>ou
</code></pre>
<p>apt search remote desktop</p>
<pre><code>
### 2. Installation de Remmina:
- Suite à la recherche, on détermine que `Remmina` est l'outil adapté à nos besoins, en particulier pour gérer l'authentification NLA.

Pour installer Remmina :
</code></pre>
<p>apt install remmina</p>
<pre><code>
### 3. Configuration et utilisation de Remmina:
- On ouvre l'interface graphique et lance `Remmina`.
- Dans Remmina, on clique sur l'option pour créer une nouvelle connexion.
- On sélectionne `RDP` comme protocole.
- On renseigne les informations nécessaires pour la connexion :
  - Serveur: Adresse IP ou nom d'hôte du poste Windows.
  - Nom d'utilisateur: Nom d'utilisateur pour la connexion.
  - Mot de passe: Mot de passe associé.
  - Domaine: Si nécessaire, on spécifie le domaine de connexion.

Une fois les informations renseignées, on clique sur `Connexion` pour initier la session RDP.

## Installation de Webmin pour la gestion via une interface web

### 1. Installation en ligne :
On suit le guide disponible sur le site officiel de Webmin : [Guide d'installation de Webmin](https://www.webmin.com/deb.html)

### 2. Gestion des dépendances manquantes :
Si des dépendances sont manquantes, on les installe en utilisant les commandes appropriées, par exemple :
</code></pre>
<p>apt install [nom_de_la_dépendance]</p>
<pre><code>
### 3. Réparation de Webmin si nécessaire :
Dans le cas où Webmin serait endommagé après l'installation, on utilise la commande suivante pour le réparer :
</code></pre>
<p>apt install --fix-broken</p>
<pre><code>
### 4. Accès à l'interface de Webmin :
Après l'installation, on ouvre un navigateur et se rend à l'adresse suivante : `https://[adresse_ip_du_serveur]:10000`
Si une alerte de sécurité apparaît en raison du certificat SSL auto-signé, on choisit de &quot;continuer&quot; ou &quot;accepter le risque&quot; pour accéder à l'interface.

### 5. Authentification :
À la page de connexion, on s'authentifie en tant que `root` ou tout autre utilisateur disposant des droits d'administration.

### 6. Vérification :
Une fois connecté, on peut voir l'interface de Webmin. Tout est en ordre si l'on peut naviguer sans problème.

# 6 – Sauvegarde et restauration

## Planification d'une sauvegarde quotidienne et duplication des fichiers

### 1. Création du script de sauvegarde :

- On commence par créer un script pour réaliser la sauvegarde des données :
</code></pre>
<p>vim /root/script.sh</p>
<pre><code>- Dans ce script, on insère les commandes suivantes :
</code></pre>
<h1 id="binbash">!/bin/bash</h1>
<p>tar cf /root/HomeBack.tar /home
tar cf /root/ServicesBack.tar /services</p>
<pre><code>- Ensuite, on modifie les permissions pour permettre l'exécution du script :
</code></pre>
<p>chmod u+x /root/script.sh</p>
<pre><code>
### 2. Planification de la sauvegarde :

- On planifie ensuite la sauvegarde à l'aide de `crontab` :
</code></pre>
<p>crontab -e</p>
<pre><code>- Puis, on ajoute la ligne suivante pour exécuter le script tous les jours de la semaine à 12h30 :
</code></pre>
<p>30 12 * * 1-5 /root/script.sh</p>
<pre><code>
### 3. Duplication des fichiers avec `scp` :

- On vérifie si `scp` est installé sur le système :
</code></pre>
<p>apt-cache search scp</p>
<pre><code>- Si nécessaire, on installe le paquet correspondant.
- Dans `crontab`, on ajoute une ligne pour copier les sauvegardes vers une machine distante :
</code></pre>
<p>32 12 * * 1-5 scp /root/*.tar utilisateur@adresse_ip_du_binôme:/dossier_de_destination/</p>
<pre><code>&gt; **Note**: Pensez à utiliser une clé SSH pour une authentification sans mot de passe avec `scp`.



Avec cette configuration, les données seront sauvegardées quotidiennement à 12h30 et dupliquées sur une autre machine à 12h32.

## Sauvegarde sur les postes Windows 10

### 1. Ajout d'un nouveau disque dur :
- Si l'espace de stockage est insuffisant, on commence par ajouter un disque dur de 60 Go.
  - On suit la procédure déjà fournie d’ajout de disque sous Vmware workstation.

### 2. Création d'une image système :
- Aller dans **Démarrer** &gt; **Paramètres** &gt; **Système** &gt; **Stockage** &gt; **Gestion des disques**.
- Une fois dans le gestionnaire de disques :
  - On repère le nouveau disque de 60 Go qui devrait apparaître comme &quot;Non alloué&quot;.
  - Faire un clic-droit sur ce disque puis choisir &quot;Nouveau volume simple&quot;.
  - Suivre l'assistant : choisir la taille maximale pour le volume, attribuer une lettre au disque, puis formater le volume avec le format NTFS et attribuer un nom de votre choix.
- Pour créer une image :
  - Aller dans **Panneau de configuration** &gt; **Système et sécurité** &gt; **Sauvegarder et restaurer**.
  - Dans le volet de gauche, choisir **Créer une image système**.
  - Suivre l'assistant, choisir le disque nouvellement créé pour stocker l'image.

### 3. Planification d'une sauvegarde journalière :
- Retourner dans **Panneau de configuration** &gt; **Système et sécurité** &gt; **Sauvegarder et restaurer**.
  - Cliquer sur &quot;Configurer la sauvegarde&quot;.
  - Dans la nouvelle fenêtre, choisir &quot;Enregistrer sur un réseau...&quot;.
  - Une boîte de dialogue s'ouvre pour demander l'emplacement réseau. Entrer `\@ip_du_binôme\Support_Info` et fournir les informations d'identification nécessaires.
  - Une fois l'emplacement réseau choisi, sélectionner &quot;Me laisser choisir&quot; pour choisir les dossiers à sauvegarder.
  - Cocher uniquement le dossier &quot;Support_Info&quot; et décocher l'option &quot;Inclure une image système de lecteurs&quot;.
  - Passer à l'étape suivante et choisir &quot;Modifier la planification&quot;. Choisir une sauvegarde quotidienne et régler l'heure sur 13:00.

### 4. Ajustement de l'heure de sauvegarde :
- Pour une planification précise à 12h45, ouvrir le **Planificateur des tâches** à partir du menu Démarrer.
  - Dans la fenêtre du Planificateur des tâches, chercher dans le volet central la tâche nommée &quot;AutomaticBackup&quot;.
  - Faire un double-clic dessus pour l'ouvrir.
  - Aller dans l'onglet &quot;Déclencheurs&quot; et modifier le déclenchement existant.
  - Régler l'heure sur 12h45 et confirmer.

## Conclusion :
Avec ces étapes, on assure que le système Windows 10 est correctement sauvegardé et que les données importantes sont sécurisées régulièrement.

## Paramétrage des points de restauration sur le volume « C: » sous Windows 10

### 1. Accès à la gestion des points de restauration système:

- On commence par ouvrir le **Panneau de configuration**. 
  - Pour ce faire, on clique sur le bouton **Démarrer**, tape &quot;Panneau de configuration&quot; dans la barre de recherche et sélectionne l'application correspondante parmi les résultats.

- Une fois dans le **Panneau de configuration**, on clique sur **Système et sécurité**.

- Dans la fenêtre suivante, on clique sur **Système**.

- Sur le volet de gauche, on sélectionne **Protection du système**. Cela ouvre une fenêtre nommée &quot;Propriétés système&quot;, avec l'onglet &quot;Protection du système&quot; actif.

### 2. Configuration des points de restauration pour le lecteur C:

- Sous l'onglet **Protection du système**, dans la section &quot;Protection des paramètres&quot;, on repère le lecteur **C:**.

- Si la protection est désactivée pour le lecteur **C:**, on le sélectionne puis clique sur **Configurer...**.

- Dans la fenêtre qui s'affiche :
  - On coche **Activer la protection du système**.

  - Dans &quot;Utilisation maximale&quot;, on définit l'espace disque à utiliser pour la protection du système à **8%**.

  - On confirme les modifications en cliquant sur **Appliquer** puis **OK**.

### 3. Création d'un point de restauration système:

- Toujours dans l'onglet **Protection du système**, avec le lecteur **C:** sélectionné, on clique sur **Créer...**.

- On nomme le point de restauration (par exemple, &quot;Point initial&quot;) et clique sur **Créer**.

- Une fois le point de restauration créé, un message de confirmation apparaît.

- On ferme toutes les fenêtres ouvertes pour terminer la procédure.

## note:
On a désormais paramétré la protection du système pour le lecteur **C:** en réservant 8% de sa capacité pour les points de restauration et créé un point de restauration initial.


### 7 -  Partitionnement LVM

### !!! Faire snaphot avant de demarer la procedure !!!


## Montage permanent de la partition « LOGS » dans le dossier « /var/log » sur Debian

### 1. Redémarrage en mode maintenance:
Je commence par redémarrer en mode maintenance pour m'assurer qu'aucun processus n'utilise le dossier `/var/log` pendant le déplacement. 
```bash
init 1
</code></pre>
<h3 id="2-creation-dun-dossier-temporaire-et-copie-des-logs">2. Création d'un dossier temporaire et copie des logs:</h3>
<p>Une fois en mode maintenance, je crée un dossier temporaire pour stocker les logs existants et je copie le contenu de <code>/var/log</code> dans ce dossier tout en conservant les permissions.</p>
<pre><code class="language-bash">mkdir /tmp/logs
cp -rp /var/log/* /tmp/logs/
</code></pre>
<h3 id="3-modification-du-fichier-etcfstab">3. Modification du fichier <code>/etc/fstab</code>:</h3>
<p>Je modifie ensuite le fichier <code>/etc/fstab</code> pour y ajouter la partition « LOGS ». Cela permettra de monter cette partition automatiquement au démarrage.</p>
<pre><code class="language-bash">echo &quot;LABEL=LOGS /var/log xfs defaults 0 0&quot; &gt;&gt; /etc/fstab
</code></pre>
<p>Je vérifie ensuite que le montage se fait correctement avec la commande :</p>
<pre><code class="language-bash">mount -a
</code></pre>
<h3 id="4-recopie-des-logs-dans-la-nouvelle-partition">4. Recopie des logs dans la nouvelle partition:</h3>
<p>Je copie maintenant les logs du dossier temporaire vers la nouvelle partition.</p>
<pre><code class="language-bash">cp -rp /tmp/logs/* /var/log/
</code></pre>
<h3 id="5-verification-du-contenu">5. Vérification du contenu:</h3>
<p>Je vérifie que le contenu des deux dossiers est identique pour m'assurer que tout a été copié correctement.</p>
<pre><code class="language-bash">ls -al /var/log/
ls -al /tmp/logs/
</code></pre>
<h3 id="6-redemarrage-de-la-machine">6. Redémarrage de la machine:</h3>
<p>Je redémarre la machine pour que les changements prennent effet.</p>
<pre><code class="language-bash">reboot
</code></pre>
<h3 id="7-verification-des-nouvelles-inscriptions-dans-les-journaux">7. Vérification des nouvelles inscriptions dans les journaux:</h3>
<p>Après le redémarrage, je m'assure que de nouvelles données ont été inscrites dans les journaux pendant ou après le démarrage du système.</p>
<pre><code class="language-bash">tail /var/log/syslog
</code></pre>
<h2 id="monter-le-partage-support_info-depuis-debian">Monter le partage « Support_Info » depuis Debian</h2>
<h3 id="1-prerequis-sur-mon-poste-windows-10">1. Prérequis sur mon poste Windows 10</h3>
<ul>
<li><strong>Activer le support du protocole SMB/CIFS</strong> :</li>
<li>Je vais dans les "Fonctionnalités Windows" et je m'assure que la fonctionnalité "Support du partage de fichiers SMB 1.0/CIFS" est activée.</li>
<li>
<p>Note :  le protocole SMB1 est obsolète et peut présenter des risques de sécurité.</p>
</li>
<li>
<p><strong>Configurer le partage "Support_Info"</strong> :</p>
</li>
<li>Je m'assure que le partage "Support_Info" est accessible et n'est pas caché (le nom ne doit pas se terminer par un $).</li>
</ul>
<h3 id="2-configuration-sur-debian">2. Configuration sur Debian</h3>
<ul>
<li>
<p><strong>Installer les outils nécessaires</strong> :
  <code>bash
  apt install cifs-utils</code></p>
</li>
<li>
<p><strong>Créer le répertoire de montage</strong> :
  <code>bash
  mkdir /home/loxton/support_info</code></p>
</li>
<li>
<p><strong>Attribuer les droits nécessaires sur le répertoire</strong> :
  <code>bash
  chown loxton:informatique /home/loxton/support_info
  chmod 770 /home/loxton/support_info</code></p>
</li>
<li>
<p><strong>Configurer le montage automatique</strong> :</p>
</li>
<li>
<p>J'édite le fichier <code>/etc/fstab</code> pour ajouter la ligne suivante :
    <code>bash
    //172.16.63.253/support_info /home/loxton/support_info cifs username=loxton,password=TLP4$$VV0rI),file_mode=0777,dir_mode=0777 0 0</code></p>
</li>
<li>
<p><strong>Monter le partage</strong> :
  <code>bash
  mount -a</code></p>
</li>
</ul>
<blockquote>
<p><strong>Astuce</strong> : Pour des raisons de sécurité, il vaut mieux que je ne stocke pas de mots de passe en clair dans <code>/etc/fstab</code>. Je devrais envisager d'utiliser des options de montage sécurisées ou des fichiers de credentials séparés.</p>
</blockquote>
<h2 id="deplacement-du-fichier-de-pagination-swap-a-la-racine-du-lecteur-d-sur-windows">Déplacement du fichier de pagination (swap) à la racine du lecteur D: sur Windows</h2>
<ol>
<li><strong>Accéder au Panneau de Configuration</strong> :</li>
<li>Je clique sur le bouton <strong>Démarrer</strong> ou j'appuie sur la touche Windows de mon clavier.</li>
<li>
<p>Dans la barre de recherche, je tape "Panneau de configuration" et je le sélectionne dans les résultats.</p>
</li>
<li>
<p><strong>Entrer dans les Paramètres systèmes avancés</strong> :</p>
</li>
<li>Une fois dans le Panneau de Configuration, je clique sur "Système et Sécurité".</li>
<li>Ensuite, je clique sur "Système".</li>
<li>
<p>Dans le menu latéral gauche, je clique sur "Paramètres système avancés".</p>
</li>
<li>
<p><strong>Accéder aux Paramètres de performance</strong> :</p>
</li>
<li>
<p>Dans la fenêtre des Propriétés Système qui s'affiche, sous l'onglet "Avancé", je trouve la section "Performances" et je clique sur le bouton "Paramètres...".</p>
</li>
<li>
<p><strong>Modifier le fichier de pagination</strong> :</p>
</li>
<li>Sous l'onglet "Avancé" de la fenêtre qui s'affiche, je trouve la section "Mémoire virtuelle" et je clique sur le bouton "Modifier...".</li>
<li>
<p>Dans la fenêtre de la mémoire virtuelle, je décoche la case "Gestion automatique du fichier d'échange pour les lecteurs".</p>
</li>
<li>
<p><strong>Configurer le fichier de pagination pour le lecteur D:</strong> :</p>
</li>
<li>Dans la liste des lecteurs, je sélectionne le lecteur <strong>C:</strong> et je choisis "Aucun fichier d'échange", puis je clique sur "Définir".</li>
<li>Ensuite, je sélectionne le lecteur <strong>D:</strong>.</li>
<li>Je coche l'option "Taille gérée par le système".</li>
<li>
<p>Je clique sur "Définir".</p>
</li>
<li>
<p><strong>Valider les modifications</strong> :</p>
</li>
<li>Je clique sur "OK" pour fermer la fenêtre de la mémoire virtuelle.</li>
<li>Je clique de nouveau sur "OK" pour fermer la fenêtre des Paramètres de performance.</li>
<li>
<p>Je clique une dernière fois sur "OK" pour fermer la fenêtre des Propriétés Système.</p>
</li>
<li>
<p><strong>Redémarrer l'ordinateur</strong> :</p>
</li>
<li>Pour que les modifications soient prises en compte, je redémarre mon ordinateur.</li>
<li>Je m'assure de sauvegarder tous mes travaux en cours avant de redémarrer.</li>
</ol>
<p>Après le redémarrage, le fichier de pagination (swap) sera déplacé à la racine du lecteur D:, et le système gérera sa taille automatiquement.</p>
<h2 id="configuration-de-lvm-pour-le-dossier-opt-sur-debian">Configuration de LVM pour le dossier /opt sur Debian</h2>
<p>Je travaille sur un poste Debian et j'ai décidé d'utiliser LVM pour gérer l'espace de stockage du dossier <code>/opt</code>, car plusieurs applications installées depuis les sources seront placées à cet emplacement. Voici les étapes détaillées pour réaliser cette configuration :</p>
<ol>
<li><strong>Ajout de disques SCSI</strong> :</li>
<li>J'ajoute 2 nouveaux disques SCSI de 20Go à mon système.</li>
<li>
<p>Je redémarre la VM pour garantir la prise en compte des nouveaux disques.</p>
</li>
<li>
<p><strong>Vérification de la détection des disques</strong> :</p>
</li>
<li>
<p>Avant de configurer LVM, je m'assure que les disques sont correctement reconnus par le système.</p>
</li>
<li>
<p><strong>Installation du gestionnaire LVM</strong> :</p>
</li>
<li>Je recherche le paquet associé à LVM : <code># apt search lvm</code></li>
<li>
<p>Je l'installe : <code># apt install lvm2</code></p>
</li>
<li>
<p><strong>Préparation des disques pour LVM</strong> :</p>
</li>
<li>Je crée un volume physique sur chacun des deux disques : <code># pvcreate /dev/sdc /dev/sdd</code></li>
<li>
<p>Je vérifie le résultat avec : <code># pvdisplay</code></p>
</li>
<li>
<p><strong>Création d'un groupe de volumes</strong> :</p>
</li>
<li>
<p>Je groupe les deux disques en un seul groupe de volumes nommé "applications" : <code># vgcreate applications /dev/sdc /dev/sdd</code></p>
</li>
<li>
<p><strong>Création d'un volume logique</strong> :</p>
</li>
<li>Au sein du groupe "applications", je crée un volume logique nommé "opt" avec une taille de 32Go : <code># lvcreate -n opt -L 32G applications</code></li>
<li>
<p>Je vérifie avec : <code># lvdisplay</code></p>
</li>
<li>
<p><strong>Formatage du volume logique en ext4</strong> :</p>
</li>
<li>
<p>Je formate le volume logique en ext4 : <code># mkfs.ext4 /dev/applications/opt</code></p>
</li>
<li>
<p><strong>Montage permanent du volume logique dans /opt</strong> :</p>
</li>
<li>J'ajoute une entrée dans le fichier <code>/etc/fstab</code> pour monter automatiquement le volume au démarrage : <code># echo "/dev/mapper/applications-opt /opt ext4 defaults 0 0" &gt;&gt; /etc/fstab</code></li>
<li>Je monte tous les systèmes de fichiers décrits dans <code>/etc/fstab</code> : <code># mount -a</code></li>
</ol>
<p>Après ces étapes, le dossier <code>/opt</code> est correctement configuré pour utiliser l'espace de stockage fourni par LVM et s'étend sur les deux disques physiques.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": [], "search": "../../../../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>