{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Bienvenue sur le site de Documentation TSSR2023","text":"<p>N'hesitez pas \u00e0 envoyer vos cours sur teams ils seront publi\u00e9</p>"},{"location":"#methodes","title":"Methodes","text":"<ul> <li>Envoy\u00e9 vos cours en .md</li> <li>Ne partag\u00e9 pas de contenus sensible (nom,ip, info perso ect ...)</li> <li>l'union fait la force</li> </ul>"},{"location":"#merci","title":"Merci","text":""},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/","title":"Module 05 \u2013 Gestion du r\u00e9seau","text":""},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#objectifs","title":"Objectifs","text":"<ul> <li>Prendre des informations sur le r\u00e9seau</li> <li> <p>Configuration r\u00e9seau d\u2019un syst\u00e8me sans interface graphique</p> </li> <li> <p>Configuration r\u00e9seau d\u2019un syst\u00e8me avec interface graphique</p> </li> </ul> <p>Interroger et configurer le r\u00e9seau sous Linux.</p>"},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#prendre-des-informations","title":"Prendre des informations","text":""},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#les-prerequis","title":"Les pr\u00e9requis","text":"<ul> <li> <p>Pour une mise en r\u00e9seau des postes client et serveur, il faut que la couche IP soit correctement r\u00e9alis\u00e9e</p> </li> <li> <p>La configuration IP a g\u00e9n\u00e9ralement besoin :</p> <ul> <li>D\u2019une adresse IP</li> <li>D\u2019un masque r\u00e9seau</li> <li>Potentiellement d\u2019une passerelle par d\u00e9faut</li> </ul> </li> <li> <p>Afin de pouvoir r\u00e9soudre les noms d\u2019h\u00f4tes, il faudra aussi renseigner un ou des serveurs DNS</p> </li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#connaitre-ladresse-reseau","title":"Conna\u00eetre l\u2019adresse r\u00e9seau","text":"<ul> <li>Dans un shell, commande <code>ip</code> avec l\u2019option <code>address</code> ou son raccourci <code>a</code></li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#connaitre-passerelle-et-serveur-dns","title":"Conna\u00eetre passerelle et serveur DNS","text":"<ul> <li>Dans un shell, commande <code>ip</code> avec l\u2019option <code>route</code> ou son raccourci <code>r</code></li> </ul> <pre><code>root@deb:~# ipr\ndefault via 192.168.1.1 dev ens\n192.168.1.0/24 dev ens33 proto kernel scope link src\n192.168.1.\n</code></pre> <ul> <li>Les informations de DNS se trouvent dans le fichier <code>/etc/resolv.conf</code></li> </ul> <pre><code>root@deb:~# cat /etc/resolv.conf\nsearch mondomaine.fr\nnameserver 10.1.2.\nnameserver 10.1.2.\n</code></pre>"},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#systeme-sans-interface-graphique","title":"Syst\u00e8me sans interface graphique","text":""},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#configuration-ip-en-dhcp","title":"Configuration IP en DHCP","text":"<ul> <li> <p>La configuration IP et DNS sur un syst\u00e8me sans interface graphique se fait dans deux fichiers de configuration</p> </li> <li> <p>Le fichier <code>/etc/network/interfaces</code> permet de g\u00e9rer la partie IP</p> </li> <li>Il est possible d\u2019avoir une configuration simplifi\u00e9e via un serveur DHCP ou une configuration statique</li> </ul> <p></p>"},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#configuration-ip-statique","title":"Configuration IP statique","text":"<ul> <li>Mettre en place une configuration statiquedans le fichier <code>/etc/network/interfaces</code></li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#configuration-serveur-dns-statique","title":"Configuration serveur DNS statique","text":"<ul> <li>Mettre en place une configuration statique dans le fichier <code>/etc/resolv.conf</code> via la directive <code>nameserver</code></li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#prise-en-compte-des-modifications","title":"Prise en compte des modifications","text":"<p>On utilise la commande <code>systemctl</code> pour g\u00e9rer le service <code>networking</code></p> <p></p>"},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#configuration-reseau-dun-systeme-graphique","title":"Configuration r\u00e9seau d\u2019un syst\u00e8me graphique","text":""},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#gestion-du-reseau-avec-network-manager","title":"Gestion du r\u00e9seau avec Network Manager","text":"<p>Network Manager est utilis\u00e9 dans le cas d\u2019un syst\u00e8me Linux avec interface graphique (Desktop)</p> <p></p>"},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#prise-en-compte-des-modifications_1","title":"Prise en compte des modifications","text":"<p>On utilise la commande <code>systemctl</code> pour g\u00e9rer le service <code>NetworkManager</code></p> <p></p>"},{"location":"Cours%20partag%C3%A9/guigui/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/05%20-%20Gestion%20du%20r%C3%A9seau%20sous%20Debian/#conclusion","title":"Conclusion","text":"<ul> <li>Vous savez consulter les informations r\u00e9seau sur un syst\u00e8meLinux</li> <li>Vous pouvez configurer l\u2019adressage IP sur un serveur</li> <li>Vous pouvez configurer l\u2019adressage IP sur un poste avec interface graphique</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/","title":"Module 06 \u2013 Gestion des paquets logiciels","text":""},{"location":"Cours%20partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#objectifs","title":"Objectifs","text":"<ul> <li>Comprendre les Releases du projet Debian</li> <li>Savoir g\u00e9rer les fichiers des d\u00e9p\u00f4ts</li> <li>Mettre \u00e0 jour la distribution </li> <li>Installer des paquets logiciels</li> </ul> <p>Installer des nouveaux programmes sous Debian Linux</p>"},{"location":"Cours%20partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#les-branches-ou-releases-debian","title":"Les Branches, ou releases, Debian","text":"<ul> <li>3 principales Branches, \"release\" en anglais. Stable, Testing, Unstable.</li> <li><code>Stable</code> : C'est la version de production de Debian, celle qu'il est recommand\u00e9 d'utiliser. Seules les mises \u00e0 jour de s\u00e9curit\u00e9 sont accept\u00e9es. A privil\u00e9gier en contexte pro.</li> <li><code>Testing</code> : La branche Testing contient la future version stable de Debian. Pas de bugs graves.</li> <li><code>Unstable</code> : Version en constante \u00e9volution, (on parle de Rolling release). Utile pour les dev uniquement.</li> </ul> <p>La distribution <code>Unstable</code> est toujours appel\u00e9e Sid</p> <p>En production, nous utilisons principalement la branche Stable ou ant\u00e9rieure</p> <ul> <li>On peut \u00e9galement noter les branches suivantes :</li> <li>Old-Stable : C'est la version de production de Debian ant\u00e9rieure (R -1)</li> <li>Old-Old-Stable : C'est la version de production encore ant\u00e9rieure (R-2)</li> <li>Experimental : cas particulier, car elle ne contient pas tous les paquets constituant une distribution compl\u00e8te. Elle contient des paquets de logiciels en cours de d\u00e9veloppement. </li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#gestion-des-depots","title":"Gestion des d\u00e9p\u00f4ts","text":""},{"location":"Cours%20partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#les-depots","title":"Les d\u00e9p\u00f4ts","text":"<ul> <li>Les paquets logiciels, ainsi que leurs sources, sont disponibles sur Internet dans des d\u00e9p\u00f4ts (repository) (\u00e9quivalent Windows : Chocolatey).</li> <li>Lorsqu'une machine est install\u00e9e, les d\u00e9p\u00f4ts officiels Debian sont automatiquement configur\u00e9s, en fonction de la version install\u00e9e, facilitant :</li> <li>La mise \u00e0 jour de toute la distribution : la mise \u00e0 jour pourra \u00eatre une mise \u00e0 jour de s\u00e9curit\u00e9 ou une mise \u00e0 jour compl\u00e8te du syst\u00e8me et de la totalit\u00e9 des paquets la composant ;</li> <li>L'installation de nouveaux paquets : il n'est pas n\u00e9cessaire de chercher sur Internet un site de t\u00e9l\u00e9chargement pour l\u2019installation des paquets, le gestionnaire de paquet s'en charge tout seul.</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#le-fichier-sourceslist","title":"Le fichier <code>sources.list</code>","text":"<p>Le fichier <code>/etc/apt/sources.list</code> contient la configuration des d\u00e9p\u00f4ts.</p> <pre><code>root@deb:~# **vim /etc/apt/sources.list**\n</code></pre> <p></p> <p>https://wiki.debian.org/fr/SourcesList</p> <p>Le premier champ indique le type de paquet :</p> <p>deb http://ftp.fr.debian.org/debian/ buster main contrib</p> <ul> <li>deb : paquet binaire</li> <li>deb-src : paquet source</li> </ul> <p>Le deuxi\u00e8me champ indique le type et le chemin de la source. Il peut commencer par :</p> <p>deb http://ftp.fr.debian.org/debian/ buster main contrib</p> <ul> <li><code>http://</code> : site web de t\u00e9l\u00e9chargement ;</li> <li><code>ftp://</code> : site FTP de t\u00e9l\u00e9chargement ;</li> <li><code>file://</code> : r\u00e9pertoire local ;</li> <li><code>cdrom:[...]</code> : suivi entre crochet du label du CD, indique un CD-ROM ou DVD-ROM!</li> </ul> <p>Le troisi\u00e8me champ sp\u00e9cifie la branche disponible :</p> <p>deb http://ftp.fr.debian.org/debian/ buster main contrib</p> <ul> <li>oldstable : l'ancienne version stable</li> <li>stable : la version officielle actuelle</li> <li>buster : une version sp\u00e9cifique, cela peut \u00eatre la version officielle</li> <li>testing : la prochaine version stable</li> <li>unstable : c'est la version qui porte toujours le nom de Sid</li> <li>experimental : il est pr\u00e9f\u00e9rable de la laisser aux d\u00e9veloppeurs</li> </ul> <p>Le quatri\u00e8me champ et les suivants indiquent la section, dont l'objectif est de filtrer les paquets \u00e0 installer :</p> <p>deb http://ftp.fr.debian.org/debian/ buster main contrib</p> <ul> <li>main : les paquets Debian standards, ils sont tous libres ;</li> <li>contrib : ces paquets sont libres mais d\u00e9pendants de paquets qui ne le sont pas, ils pr\u00e9sentent donc une d\u00e9pendance vers non-free ;</li> <li>non-free : des paquets sous licence non libre</li> </ul> <p>Il est \u00e9galement possible d\u2019utiliser des fichiers sources ind\u00e9pendants d\u00e9pos\u00e9s dans le dossier /etc/apt/sources.list.d</p>"},{"location":"Cours%20partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#gestion-courante-des-paquets","title":"Gestion courante des paquets","text":"<ul> <li> <p>Les op\u00e9rations de gestion de base des paquets sur les syst\u00e8mes Debian sont r\u00e9alis\u00e9es en ligne de commande \u00e0 l'aide de deux outils diff\u00e9rents : </p> <p><code>apt-get / apt-cache et **apt**</code></p> </li> <li> <p>Les op\u00e9rations de recherche et de consultation pourront \u00eatre r\u00e9alis\u00e9es avec un compte d'utilisateur standard. Les op\u00e9rations alt\u00e9rant le syst\u00e8me seront r\u00e9alis\u00e9es avec les privil\u00e8ges du compte root.</p> </li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#les-commandes-courantes-de-gestion","title":"Les commandes courantes de gestion","text":"<ul> <li>Mettre \u00e0 jour la base de donn\u00e9es des paquets disponibles</li> </ul> <pre><code>root@deb:~# apt update \nroot@deb:~# apt-get update\n</code></pre> <ul> <li>Mettre \u00e0 jour la distribution sans supprimer de paquets</li> </ul> <pre><code>root@deb:~# apt upgrade \nroot@deb:~# apt-get upgrade\n</code></pre> <ul> <li>Mettre \u00e0 jour la distribution avec \u00e9ventuelle suppression de paquets obsol\u00e8tes</li> </ul> <pre><code>root@deb:~# apt full-upgrade \nroot@deb:~# apt-get dist-upgrade\n</code></pre> <ul> <li>Installer des paquets</li> </ul> <pre><code>root@deb:~# apt install paquet1 &lt;paquet2&gt;\nroot@deb:~# apt-get install paquet1 &lt;paquet2&gt;\n</code></pre> <ul> <li>D\u00e9sinstaller des paquets</li> </ul> <pre><code>root@deb:~# apt remove paquet1 &lt;paquet2&gt; \nroot@deb:~# apt-get remove paquet1 &lt;paquet2&gt;\n</code></pre> <ul> <li>D\u00e9sinstaller un paquet en supprimant les fichiers de configuration</li> </ul> <pre><code>root@deb:~# apt purge paquet1 \nroot@deb:~# apt-get purge paquet1 \n</code></pre>"},{"location":"Cours%20partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#les-commandes-courantes-de-gestion_1","title":"Les commandes courantes de gestion","text":"<ul> <li>Nettoyer le d\u00e9pot local des fichiers t\u00e9l\u00e9charg\u00e9s suite \u00e0 mise \u00e0 jour et autres</li> </ul> <p>root@deb:~# apt clean  root@deb:~# apt-get clean</p> <ul> <li>Chercher un paquet correspondant \u00e0 une expression rationnelle</li> </ul> <p>root@deb:~# apt search regex  root@deb:~# apt-get search regex</p> <ul> <li>Obtenir des informations d\u00e9taill\u00e9es sur un paquet</li> </ul> <p>root@deb:~# apt show paquet  root@deb:~# apt-cache show paquet</p>"},{"location":"Cours%20partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#la-commande-dpkg","title":"La commande dpkg","text":"<p>dpkg est la base du syst\u00e8me de gestion des paquets Debian. Il est l'\u00e9quivalent de la commande rpm pour les distributions de la branche RedHat. Il a \u00e9t\u00e9 con\u00e7u pour :</p> <ul> <li>Installer / mettre \u00e0 jour des paquets Debian</li> <li>Supprimer des paquets</li> <li>Fournir des informations</li> </ul> <p>En revanche, dpkg permet d'obtenir des informations pr\u00e9cieuses sur les paquets ou les fichiers install\u00e9s \u00e0 partir de paquets.</p> <p>Lister les paquets disponibles dans les d\u00e9p\u00f4ts et contenant la cha\u00eene \"ftp\" </p> <p></p> <p>Ici, un paquet est paquet install\u00e9 : openssh-sftp-server</p> <ul> <li>Lister les fichiers install\u00e9s pour un paquet pr\u00e9sent sur le syst\u00e8me</li> </ul> <p></p> <ul> <li>Chercher le paquet \u00e0 l\u2019origine d\u2019un fichier</li> </ul> <p></p> <ul> <li>Les fichiers journaux permettent de consulter l'historique des installations et mises \u00e0 jour. Chaque utilitaire dispose de son propre fichier de logs :</li> <li><code>apt-get</code> &amp; <code>apt</code> : fichier <code>/var/log/apt/history.log</code></li> <li><code>dpkg</code> : fichier <code>/var/log/dpkg.log</code></li> <li>Les commandes <code>apt-get</code> et <code>apt</code> s'appuient sur dpkg pour l'installation proprement dite. On doit donc retrouver dans les logs de dpkg toutes les interventions r\u00e9alis\u00e9es sur les paquets.</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#installation-a-partir-des-sources","title":"Installation \u00e0 partir des sources","text":""},{"location":"Cours%20partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#la-methode-dinstallation","title":"La m\u00e9thode d\u2019installation","text":"<ul> <li>L\u2019installation \u00e0 partir des sources est la m\u00e9thode native d\u2019installation sur des syst\u00e8mes Unix/Linux. </li> <li>Cette technique n\u2019est pas la plus simple, et varie \u00e9norm\u00e9ment suivant le type de source r\u00e9cup\u00e9r\u00e9. Il y a tout de m\u00eame un cheminement qui reste le plus r\u00e9pandu.</li> <li>L\u2019environnement de compilation</li> <li> <p>Il est important de faire un espace de compilation sp\u00e9cifique \u00e0 un utilisateur qui n\u2019est pas root afin d\u2019\u00e9viter des probl\u00e9matiques syst\u00e8mes et sa s\u00e9curisation.</p> </li> <li> <p>Lecture de la documentation</p> </li> <li>La documentation est g\u00e9n\u00e9ralement disponible sous un fichier README ou INSTALL. Celui-ci contient g\u00e9n\u00e9ralement les autres \u00e9tapes de la construction de l\u2019application, avec la liste des d\u00e9pendances de construction de fonctionnement.</li> <li>Pr\u00e9paration de la compilation</li> <li>Cette \u00e9tape va v\u00e9rifier s\u2019il y a toutes les d\u00e9pendances de compilation sur le syst\u00e8me puis g\u00e9n\u00e9rer un fichier Makefile contenant toutes les informations de compilation et d\u2019installation.</li> </ul> <pre><code>user@deb:/opt/sources/application$ ./configure\n</code></pre> <ul> <li>Compilation</li> <li>Cette \u00e9tape va permettre de cr\u00e9er l\u2019application compil\u00e9e \u00e0 partir de ses sources en se basant sur le fichier Makefile contenant toutes les informations de compilation.</li> </ul> <pre><code>user@deb:/opt/sources/application$ make\n</code></pre> <ul> <li> <p>\u00c0 l\u2019issue de cette \u00e9tape, l\u2019application n\u2019est toujours pas install\u00e9e dans le syst\u00e8me, mais elle est totalement fonctionnelle.</p> </li> <li> <p>Installation</p> </li> <li>C\u2019est la seule \u00e9tape \u00e0 r\u00e9aliser avec les privil\u00e8ges root car cette \u00e9tape est une simple copie de l\u2019application dans les r\u00e9pertoires syst\u00e8me comme /opt/bin par exemple.</li> </ul> <pre><code>root@deb:/opt/sources/application# make install\n</code></pre>"},{"location":"Cours%20partag%C3%A9/guigui/06%20-%20Gestion%20des%20paquets%20logiciels/06%20-%20Gestion%20des%20paquets%20logiciels/#conclusion","title":"Conclusion","text":"<ul> <li>Vous savez g\u00e9rer les d\u00e9p\u00f4ts d\u2019une distribution Debian.</li> <li>Vous savez effectuer la mise \u00e0 jour du syst\u00e8me.</li> <li>Vous savez installer et supprimer de nouveaux logiciels.</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/","title":"Module 07 \u2013 Gestion des espaces de stockage","text":"<p>## Objectifs</p> <ul> <li>Comprendre le fonctionnement du partitionnement sous Linux</li> <li>Utiliser la commande <code>fdisk</code></li> <li>Conna\u00eetre les syst\u00e8mes de fichiers sous Linux</li> </ul> <p>Cr\u00e9er des partitions en mode \u00ab legacy \u00bb</p>"},{"location":"Cours%20partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#partitionner-un-disque","title":"Partitionner un disque","text":""},{"location":"Cours%20partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#la-norme-intel-du-mbr","title":"La norme Intel du MBR","text":"<ul> <li>Le MBR (Master Boot Record) est constitu\u00e9 de 2 principaux \u00e9l\u00e9ments :</li> <li>Le boot loader : 446 premiers octets - Sous Linux il contient le stage 1 de GRUB</li> <li>La table de partition : 64 octets, contient la position des 4 partitions primaires</li> <li>La partition \u00e9tendue pourra quant \u00e0 elle stocker les informations de 56 partitions logiques</li> <li> <p>La plus grosse probl\u00e9matique du MBR est la taille limite des partitions fix\u00e9e au maximum \u00e0 2,2To</p> </li> <li> <p>Le GPT (GUID Partition Table) est cr\u00e9\u00e9 en 2013, il est le rempla\u00e7ant du MBR</p> </li> <li>Le nombre maximum de partitions est fix\u00e9 \u00e0 128 (voire 256)</li> <li>La limite th\u00e9orique des partitions et des disques est de 9,4 Zo (Zeta octet)</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#nommage-des-disques-sous-linux","title":"Nommage des disques sous Linux","text":"<ul> <li>Sous Linux, les disques de type SCSI/SATA sont mat\u00e9rialis\u00e9s dans le r\u00e9pertoire <code>/dev</code> suivi de sd puis la lettre correspondant au disque</li> <li>Par exemple, s\u2019il y a deux disques dans le syst\u00e8me :</li> <li><code>/dev/sda</code> correspond au premier disque d\u00e9tect\u00e9</li> <li><code>/dev/sdb</code> correspond au deuxi\u00e8me disque</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#nommage-des-partitions","title":"Nommage des partitions","text":"<ul> <li>Linux ne nomme pas les partitions \u00e0 la suite</li> <li>Linux va r\u00e9server les chiffres de 1 \u00e0 4 pour les partitions principales (principale et \u00e9tendue)</li> <li> <p>Quel que soit le nombre de partitions principales, s\u2019il y a une partition \u00e9tendue alors les partitions logiques commenceront quoiqu\u2019il arrive \u00e0 5</p> </li> <li> <p>Exemple : le deuxi\u00e8me disque du syst\u00e8me est partitionn\u00e9 avec 2 partitions principales et une partition \u00e9tendue contenant 3 partitions logiques. Linux pr\u00e9sentera tout cela de cette fa\u00e7on :</p> </li> </ul> <p></p>"},{"location":"Cours%20partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#outil-de-partitionnement","title":"Outil de partitionnement","text":""},{"location":"Cours%20partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#la-commande-fdisk","title":"La commande fdisk","text":"<pre><code>fdisk [option] &lt;peripherique de stockage&gt; \n</code></pre> <p>\u2022-l affiche la table de partition du p\u00e9riph\u00e9rique</p> <p></p> <p>Pour pouvoir r\u00e9ellement passer en <code>mode \u00e9dition</code> de la table de partitions :</p> <p></p> <p></p> <p>De mani\u00e8re g\u00e9n\u00e9rale, laisser faire le syst\u00e8me. Pour prendre le disque entier, laisser tout par d\u00e9faut. (ici est sp\u00e9cifi\u00e9 +20G soit cr\u00e9ation d'une partition de 20 gigas)</p> <p>Une nouvelle partition 1 de type Linux et de taille 20 GiB a \u00e9t\u00e9 cr\u00e9\u00e9e (option p = print)</p> <p></p> <p>Une fois les partitions cr\u00e9\u00e9es, il ne faut pas oublier de d\u00e9finir le type de partition via la commande <code>t</code> (type).</p> <p></p> <p>L\u2019enregistrement des modifications se fait via la commande <code>w</code> (q pour sortir sans enregistrer)</p> <p></p>"},{"location":"Cours%20partag%C3%A9/guigui/07%20-%20Gestion%20des%20espaces%20de%20stockage/07%20-%20Gestion%20des%20espaces%20de%20stockage/#conclusion","title":"Conclusion","text":"<ul> <li>Vous comprenez le fonctionnement du partitionnement sous Linux</li> <li>Vous savez utiliser la commande fdisk</li> <li>Vous connaissez les syst\u00e8mes de fichiers sous Linux</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/","title":"Gestion des espaces de stockage avanc\u00e9e - LVM","text":""},{"location":"Cours%20partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#objectifs","title":"Objectifs","text":"<ul> <li>Comprendre le fonctionnement de LVM</li> <li>Pr\u00e9parer le stockage pour LVM</li> <li>Cr\u00e9er et modifier des groupes de volumes et volumes logiques</li> </ul> <p>Cr\u00e9er des partitions en mode \u00ab moderne \u00bb</p>"},{"location":"Cours%20partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#presentation-de-lvm","title":"Pr\u00e9sentation de LVM","text":"<p>### LVM : Logical Volume Manager**</p> <ul> <li>Le LVM permet de s\u2019affranchir des limites physiques des p\u00e9riph\u00e9riques. LVM impl\u00e9mente une couche logique pour une gestion plus souple et plus \u00e9volutive des volumes de stockage</li> <li>On g\u00e8re plusieurs types d\u2019\u00e9l\u00e9ments :</li> <li>Les volumes physiques (PV) : d\u00e9signent les p\u00e9riph\u00e9riques int\u00e9gr\u00e9s dans LVM </li> <li>Les groupes de volumes (VG) : permettent de regrouper les volumes physiques </li> <li> <p>Les volumes logiques (LV) : d\u00e9signent les unit\u00e9s d\u00e9finies au sein des groupes de volumes</p> </li> <li> <p>La cr\u00e9ation d\u2019un ou plusieurs groupes de volumes sera faite \u00e0 partir des volumes physiques (partitions) disponibles. Les groupes de volumes seront ensuite d\u00e9coup\u00e9s en volumes logiques </p> </li> <li>Ces volumes logiques pourront alors \u00eatre utilis\u00e9s comme n'importe quel volume de stockage</li> </ul> <p> </p> <ul> <li>Les commandes de gestion s'organisent autour de ces d\u00e9nominations et respectent toujours la m\u00eame logique. Pour la cr\u00e9ation, on aura par exemple :</li> <li><code>pvcreate</code> : cr\u00e9ation des volumes physiques </li> <li><code>vgcreate</code> : cr\u00e9ation des groupes de volumes </li> <li><code>lvcreate</code> : cr\u00e9ation des volumes logiques</li> <li>Il en sera de m\u00eame pour toutes les autres directives : <code>display</code>, <code>extend</code>, <code>reduce</code>, <code>remove</code>...</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#creer-des-lvm","title":"Cr\u00e9er des LVM","text":""},{"location":"Cours%20partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#lvm-prerequis","title":"LVM : pr\u00e9requis","text":"<p>D\u00e9finir l'identifiant des partitions \u00e0 utiliser avec fdisk, utiliser l'ID 8e \u2013 Linux LVM :</p> <p></p>"},{"location":"Cours%20partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#creer-des-partitions-lvm","title":"Cr\u00e9er des partitions LVM","text":"<p>Cr\u00e9er des volumes physiques :pvcreate</p> <pre><code>root@deb:~# pvcreate /dev/sdb1 /dev/sdb2 /dev/sdc1 /dev/sdd\n</code></pre> <p></p> <p>Cr\u00e9er des volumes groups :vgcreate</p> <pre><code>root@deb:~# vgcreate vggroup1 /dev/sdb1 /dev/sdb2 /dev/sdc1\n</code></pre> <p> </p> <p>Cr\u00e9er des volumes logiques : lvcreate</p> <pre><code>root@deb:~# lvcreate -n lv1 -L 2G vggroup1 root@deb:~# lvcreate -n lv2 -L 512M vggroup1\n</code></pre> <p></p> <p>Il y aura deux chemins possibles pour manipuler le Volume Logique</p> <pre><code>/dev/vgsystem/lvhome\n</code></pre> <p>Ou</p> <pre><code>/dev/mapper/vgsystem-lvhome\n</code></pre>"},{"location":"Cours%20partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#modifier-des-lvm","title":"Modifier des LVM","text":""},{"location":"Cours%20partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#agrandir-un-volume-group","title":"Agrandir un Volume Group","text":"<p>Ajouter des volumes physiques au VG : vgextend</p> <pre><code>root@deb:~# vgextend vggroup1 /dev/sdd\n</code></pre> <p> </p>"},{"location":"Cours%20partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#creer-des-partitions-lvm_1","title":"Cr\u00e9er des partitions LVM","text":"<p>Agrandir des volumes logiques : lvextend</p> <p> </p> <ul> <li>De la m\u00eame fa\u00e7on, <code>lvreduce</code> permet de r\u00e9duire la taille d'un volume logique</li> <li>Attention, le syst\u00e8me de fichier ne prendra pas en compte automatiquement ces changements. Il faudra forcer un redimensionnement pour pouvoir utiliser tout l'espace. &gt; plus compliqu\u00e9 et dangereux &gt; risque de destruction des donn\u00e9es !</li> <li>La commande <code>resize2fs</code> qui permet de redimensionner un syst\u00e8me de fichier sera \u00e9tudi\u00e9e dans le module suivant</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#afficher-les-informations-lvm","title":"Afficher les informations LVM","text":"<ul> <li>Plusieurs commandes sont disponibles pour obtenir des informations sur les volumes LVM configur\u00e9s</li> <li>On peut les regrouper en deux \u00ab familles \u00bb</li> <li>Informations r\u00e9sum\u00e9es avec \u00ab s \u00bb : pvs, vgs, lvs (s = summarize)</li> <li>Informations d\u00e9taill\u00e9es avec \u00ab display \u00bb : pvdisplay, vgdisplay, lvdisplay</li> </ul> <p>Afficher les informations r\u00e9sum\u00e9es sur tous les groupes de volumes : </p> <p></p> <p>Afficher les informations d\u00e9taill\u00e9es sur tous les groupes de volumes :</p> <p></p> <p>Afficher les informations d\u00e9taill\u00e9es sur un groupe de volumes :</p> <p></p> <p>Afficher les informations r\u00e9sum\u00e9es sur tous les Volumes Logiques :</p> <p></p> <p>Afficher les informations d\u00e9taill\u00e9es sur tous les Volumes Logiques :</p> <p></p> <p>Afficher les informations d\u00e9taill\u00e9es sur un Volume Logique :</p> <p></p> <ul> <li>Toutes les commandes LVM sont \u00e9galement disponibles dans un shell d\u00e9di\u00e9, accessible avec la commande <code>lvm</code></li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/08%20-%20Gestion%20avanc%C3%A9e%20des%20espaces%20de%20stockage%20-%20LVM/Module%2008%20-%20Support%20de%20cours/#conclusion","title":"Conclusion","text":"<ul> <li>Vous savez pr\u00e9parer des disques et partitions pour LVM</li> <li>Vous savez cr\u00e9er et modifier des Volumes Groups</li> <li>Vous savez cr\u00e9er et modifier des Logical Volumes</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/","title":"Gestion des espaces de stockage \u2013 File System","text":""},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#objectifs","title":"Objectifs","text":"<ul> <li>D\u00e9couvrir des syst\u00e8mes de fichiers Linux</li> <li>Appliquer des FS sur l\u2019espace de stockage</li> <li>G\u00e9rer les syst\u00e8mes de fichiers</li> <li>Monter les syst\u00e8mes de fichiers</li> </ul> <p>Pr\u00e9parer le stockage \u00e0 recevoir des donn\u00e9es</p>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#considerations-generales-sur-les-systemes-de-fichiers","title":"Consid\u00e9rations g\u00e9n\u00e9rales sur les syst\u00e8mes de fichiers","text":"<ul> <li>Tous les syst\u00e8mes de fichiers de type Unix sont bas\u00e9s sur le m\u00eame principe et les m\u00eames \u00e9l\u00e9ments \u00e9l\u00e9mentaires. Les syst\u00e8mes de fichiers Unix sont segment\u00e9s en blocs de donn\u00e9es, actuellement \u00e0 4 Ko par d\u00e9faut</li> <li>Chaque bloc pourra avoir diff\u00e9rentes structures :</li> <li>Superbloc : bloc contenant les informations vitales du syst\u00e8me de fichiers</li> <li>Inode : bloc contenant les inodes contenant les informations d\u2019un fichier</li> <li>Bloc d\u2019indirection : bloc redirigeant vers d\u2019autres blocs (cf. plus loin dans ce chapitre)</li> <li>Bloc de donn\u00e9es : bloc contenant les donn\u00e9es r\u00e9elles du fichier</li> <li>Table des inodes : bloc contenant la liste des blocs d\u2019inodes</li> <li>Table des inodes libres : bloc contenant la liste des inodes libres</li> <li>Table des blocs libres : bloc contenant la liste des blocs de donn\u00e9es libres</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#le-superbloc","title":"Le Superbloc","text":"<ul> <li>Le superbloc contient les informations vitales du syst\u00e8me de fichiers. Donc par mesure de s\u00e9curit\u00e9, il est dupliqu\u00e9 \u00e0 diff\u00e9rents endroits du syst\u00e8me de fichiers. Il contient les informations suivantes :</li> <li>Taille des blocs</li> <li>Taille du syst\u00e8me de fichiers</li> <li>Nombre de montages effectu\u00e9s</li> <li>Nombre maximum de montages avant v\u00e9rification</li> <li>Date de dernier montage</li> <li>Intervalle maximum entre deux montages avant v\u00e9rification</li> <li>Un pointeur vers l\u2019inode racine du syst\u00e8me de fichier</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#inodes-et-bloc-dindirection","title":"Inodes et bloc d\u2019indirection","text":"<ul> <li>Les inodes sont regroup\u00e9s par bloc dans un syst\u00e8me de fichiers. La taille d\u2019un inode est de 128 octets. Avec des blocs de 4 Ko, il y aura 32 inodes par bloc d\u2019inodes. Un inode contient des informations propres au fichier qu\u2019il repr\u00e9sente :</li> <li>Type de fichier : -,d,b,c,l,p,s</li> <li>Mode ou droit d\u2019acc\u00e8s : en octal, ex : 0644 (rw-r--r--)</li> <li>Nombre de liens physiques : si la valeur tombe \u00e0 z\u00e9ro, le fichier est consid\u00e9r\u00e9 comme supprim\u00e9.</li> <li>UID : propri\u00e9taire</li> <li>GID : groupe propri\u00e9taire</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#inodes-et-bloc-dindirection_1","title":"Inodes et bloc d\u2019indirection","text":"<ul> <li>Taille du fichier : en octets</li> <li>Champs date : atime (dernier acc\u00e8s au fichier), ctime (dernier changement des informations de l\u2019inode), mtime (dernier changement de donn\u00e9es r\u00e9elles du fichier)</li> <li>15 adresses : pointant vers les blocs de donn\u00e9es r\u00e9elles du fichier</li> </ul> <p>L\u2019inode ne poss\u00e8de pas le nom du fichier, celui-ci est renseign\u00e9 dans le r\u00e9pertoire contenant ce fichier.</p>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#systemes-de-fichiers-linux","title":"Syst\u00e8mes de fichiers Linux","text":""},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#systemes-de-fichiers-ext","title":"Syst\u00e8mes de fichiers EXT","text":"<ul> <li>L\u2019<code>ext2</code>, l\u2019<code>ext3</code> et l\u2019<code>ext4</code> sont impl\u00e9ment\u00e9s sur un syst\u00e8me Debian</li> <li>La diff\u00e9rence entre <code>ext2</code> et <code>ext3</code> est la journalisation, am\u00e9liorant la r\u00e9cup\u00e9ration du syst\u00e8me de fichier en cas de crash (extinction brutale du PC par exemple)</li> <li>Le syst\u00e8me de fichier <code>ext4</code> est une am\u00e9lioration de l\u2019<code>ext3</code> mais r\u00e9\u00e9crit de z\u00e9ro</li> <li><code>ext4</code> est le syst\u00e8me de fichier par d\u00e9faut sur Debian 10.</li> <li>Son avantage est qu\u2019il est peu sujet \u00e0 la fragmentation gr\u00e2ce \u00e0 la pr\u00e9allocation des blocs de donn\u00e9es contigus</li> </ul> <p>Caract\u00e9ristiques :</p> <ul> <li>Taille maximale de fichier :  16 Tio (avec des blocs de 4 Ko)</li> <li>Nombre maximal de fichiers :  4 milliards</li> <li>Taille maximale du nom de fichier :  255 octets</li> <li> <p>Taille maximale de volume :  1 Eio (limit\u00e9 \u00e0 16 Tio par e2fsprogs avec des blocs de 4 Ko)</p> </li> <li> <p>D\u2019autres syst\u00e8mes de fichiers sont g\u00e9r\u00e9s sous Debian, entre autres : NTFS, FAT</p> </li> <li>Il est bien s\u00fbr possible d\u2019installer d\u2019autres outils de gestion de syst\u00e8mes de fichiers comme XFS, Btrfs, etc.</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#outils-de-gestion-des-systemes-de-fichiers","title":"Outils de gestion des syst\u00e8mes de fichiers","text":""},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#creation-de-systemes-de-fichiers","title":"Cr\u00e9ation de syst\u00e8mes de fichiers","text":"<ul> <li>Le formatage va installer sur un p\u00e9riph\u00e9rique de stockage un syst\u00e8me de fichier. Sans un syst\u00e8me de fichier, le p\u00e9riph\u00e9rique de stockage est inutilisable</li> <li>Un p\u00e9riph\u00e9rique de stockage peut \u00eatre une partition (ex: <code>/dev/sdc1</code>) ou un volume logique (ex : <code>/dev/vgsys/lvroot ou /dev/mapper/vgsys-lvhome</code>)</li> </ul> <p>Dans un volume classique</p> <p> </p> <p>Dans un groupe de volume</p> <p> </p> <pre><code>mkfs.[fstype] &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]\n</code></pre> <p><code>mkfs.[fstype]</code> est une commande simplifiant la m\u00e9morisation des commandes de cr\u00e9ation de syst\u00e8mes de fichiers. C\u2019est en fait une fausse commande qui fait appel \u00e0 la vraie commande de cr\u00e9ation</p> <ul> <li>Exemple : <code>mkfs.ext4</code> est la commande mke2fs avec des options pr\u00e9configur\u00e9es pour g\u00e9n\u00e9rer de l\u2019ext4</li> <li> <p>Pour savoir quelle est la commande utilis\u00e9e par un mkfs.<code>[fstype]</code>, il suffit de consulter la commande <code>man mkfs.[fstype]</code></p> </li> <li> <p>Cr\u00e9ation d\u2019un syst\u00e8me de fichiers <code>ext4</code> sur partition <code>/dev/sda2</code></p> </li> </ul> <pre><code>root@deb:~# mkfs.ext4 /dev/sda2\n</code></pre> <ul> <li>Cr\u00e9ation d\u2019un syst\u00e8me de fichiers <code>ext4</code> sur volume logique lv1</li> </ul> <pre><code>root@deb:~# mkfs.ext4 /dev/vggroup1/lv1\n</code></pre> <ul> <li>Cr\u00e9ation d\u2019un syst\u00e8me de fichiers <code>NTFS</code> (n\u00e9cessite le paquet <code>ntfs-3g</code>)</li> </ul> <pre><code>root@deb:~# mkfs.ntfs /dev/sde1\n</code></pre>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#modification-de-systemes-de-fichiers","title":"Modification de syst\u00e8mes de fichiers","text":"<pre><code>tune2fs &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]\n</code></pre> <ul> <li><code>tune2fs</code> permet de modifier des options d\u2019un syst\u00e8me de fichiers type ext</li> <li>Il permet aussi de r\u00e9cup\u00e9rer les informations du superbloc</li> <li>Options usuelles </li> <li>-L permet de modifier l\u2019\u00e9tiquette du syst\u00e8me de fichiers</li> <li>-l permet d\u2019afficher les informations du superbloc</li> <li>-i permet de modifier l\u2019intervalle entre deux v\u00e9rifications</li> <li>-c permet de modifier le nombre maximum de montages d\u00e9clenchant une v\u00e9rification</li> </ul> <pre><code>resize2fs &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]\n</code></pre> <ul> <li><code>resize2fs</code> permet de changer la taille d\u2019un syst\u00e8me de fichiers</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#verification-dun-systeme-de-fichiers","title":"V\u00e9rification d\u2019un syst\u00e8me de fichiers","text":"<pre><code>fsck.&lt;fstype&gt; &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]\n</code></pre> <ul> <li>La v\u00e9rification d\u2019un syst\u00e8me de fichiers permet de contr\u00f4ler l\u2019int\u00e9grit\u00e9 des donn\u00e9es pr\u00e9sentes sur celui-ci</li> <li>Il est possible de le faire manuellement tout comme il est possible de l\u2019automatiser au d\u00e9marrage</li> <li>Comme pour les commandes de formatage, la v\u00e9rification peut facilement se faire avec les commandes <code>fsck.&lt;fstype&gt;</code></li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#prise-dinformation","title":"Prise d\u2019information","text":"<pre><code>blkid &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]\n</code></pre> <ul> <li>La commande <code>blkid</code> permet d\u2019afficher les informations relatives \u00e0 un p\u00e9riph\u00e9rique particulier. Sans argument, elle affichera les informations relatives \u00e0 tous les p\u00e9riph\u00e9riques format\u00e9s</li> </ul> <pre><code>lsblk &lt;options&gt; [p\u00e9riph\u00e9rique de stockage]\n</code></pre> <ul> <li>La commande <code>lsblk</code> permet d\u2019afficher sous forme arborescente les informations relatives aux p\u00e9riph\u00e9riques et aux syst\u00e8mes de fichiers</li> </ul> <p>Pour afficher les UUID et LABELS, il faut ajouter l'option <code>-f</code></p> <p></p>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#monter-des-systemes-de-fichiers","title":"Monter des syst\u00e8mes de fichiers","text":""},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#montage-dun-systeme-de-fichiers","title":"Montage d\u2019un syst\u00e8me de fichiers","text":"<ul> <li>Sous un syst\u00e8me d\u2019exploitation Linux, comme tout est fichier, la mise \u00e0 disposition d\u2019un syst\u00e8me de fichier venant d\u2019un espace de stockage (partition, LVM, RAID, etc.) se fera en d\u00e9finissant un r\u00e9pertoire comme point de montage</li> <li>Ce point de montage sera le chemin par lequel acc\u00e9der aux donn\u00e9es du syst\u00e8me de fichier</li> <li>Pour un montage temporaire d\u2019un syst\u00e8me de fichiers, il est conseill\u00e9 d\u2019utiliser le r\u00e9pertoire <code>/mnt</code>. S\u2019il faut  monter plusieurs syst\u00e8mes de fichiers de fa\u00e7on temporaire, il est possible de cr\u00e9er des sous-r\u00e9pertoires dans <code>/mnt</code>, pour chacun des syst\u00e8mes de fichiers</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#montage-manuel-avec-mount","title":"Montage manuel avec mount","text":"<pre><code>mount &lt;options&gt; [p\u00e9riph\u00e9rique source] [/point/de/montage]\n</code></pre> <ul> <li>La commande mount permettra de mettre \u00e0 disposition un syst\u00e8me de fichiers dans un r\u00e9pertoire</li> <li>Options possibles :</li> <li><code>-t [fstype]</code>  D\u00e9termine le type de syst\u00e8me de fichiers \u00e0 monter</li> <li><code>-o [option]</code>  Permet de d\u00e9finir diff\u00e9rentes options s\u00e9par\u00e9es par une virgule</li> <li><code>sync/async</code> Active ou non l\u2019utilisation de la mise en tampon  en RAM des donn\u00e9es avant \u00e9criture dans le syst\u00e8me de fichiers. (Par d\u00e9faut : <code>async</code>)</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#montage-manuel-avec-mount_1","title":"Montage manuel avec mount","text":"<ul> <li>Quelques autres options possibles :</li> <li><code>exec/noexec</code> Active la possibilit\u00e9 d\u2019ex\u00e9cuter des fichiers ex\u00e9cutables pr\u00e9sents sur le syst\u00e8me de fichiers. (Par d\u00e9faut : <code>exec</code>)</li> <li><code>ro/rw</code> Monte le syst\u00e8me de fichiers en lecture seule ou en lecture/\u00e9criture. (Par d\u00e9faut : <code>rw</code>)</li> <li><code>suid/nosuid</code> Active la possibilit\u00e9 d\u2019ex\u00e9cuter les binaires avec l\u2019interpr\u00e9tation du SUID positionn\u00e9 dessus. (Par d\u00e9faut : <code>suid</code>)</li> <li><code>remount</code> Permet de changer une ou des options de montage sans d\u00e9monter le syst\u00e8me de fichiers.</li> </ul> <p>Cas pratique</p> <p> </p>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#mount","title":"mount","text":"<p>La sortie de <code>mount</code> est faiblement lisible mais permet de </p> <p>savoir facilement les options de montage appliqu\u00e9es</p> <p></p>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#informations-sur-les-montages","title":"Informations sur les montages","text":"<p>\u2022<code>findmnt</code> permet une meilleure lisibilit\u00e9 et surtout de prendre l\u2019information sur un seul point de montage</p> <p></p> <p>Pour voir l\u2019information sur un seul point de montage, il suffit de le cibler :</p> <p></p>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#demonter-un-volume","title":"D\u00e9monter un volume","text":"<pre><code>umount [p\u00e9riph\u00e9rique de stockage] \n</code></pre> <p>ou</p> <pre><code>umount [point de montage] \n</code></pre> <ul> <li>\u00c0 faire par exemple pour retirer une cl\u00e9 USB ou disque externe</li> <li>Attention, il ne faudra pas qu\u2019un utilisateur utilise le volume mont\u00e9 pour permettre sa d\u00e9connexion.</li> </ul> <pre><code>root@deb:~# umount /mnt\n</code></pre>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#montage-automatique-des-systemes-de-fichiers","title":"Montage automatique des syst\u00e8mes de fichiers","text":""},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#montage-automatique","title":"Montage automatique","text":"<p>Les montages automatiques sont effectu\u00e9s par systemd au tout d\u00e9but du d\u00e9marrage du syst\u00e8me d\u2019exploitation. La d\u00e9claration des montages automatiques est pr\u00e9sente dans le fichier <code>/etc/fstab</code></p> <p></p> <ul> <li>La section <code>&lt;file system&gt;</code> :</li> <li> <p>Cette colonne d\u00e9clare le syst\u00e8me \u00e0 monter. Cette source peut \u00eatre exprim\u00e9e de plusieurs fa\u00e7ons :</p> <ul> <li>Via un <code>UUID</code>, la fa\u00e7on la plus s\u00e9curis\u00e9e mais humainement plus difficile \u00e0 reconna\u00eetre</li> <li>Via le <code>LABEL</code>, humainement plus pratique que l\u2019UUID mais il pose un probl\u00e8me en cas de doublon</li> <li>Via le <code>chemin du p\u00e9riph\u00e9rique</code>, on l\u2019utilise principalement pour les LVM car il n\u2019est pas possible d\u2019avoir plusieurs volumes LVM avec le m\u00eame nom sur un syst\u00e8me</li> <li>Il est fortement d\u00e9conseill\u00e9 de l\u2019utiliser pour des partitions (ex : <code>/dev/sdb1</code>)</li> </ul> </li> <li> <p>La section <code>&lt;mount point&gt;</code> :</p> </li> <li> <p>Cette colonne d\u00e9clare le r\u00e9pertoire de montage du syst\u00e8me de fichiers</p> </li> <li> <p>La section <code>&lt;type&gt;</code> :</p> </li> <li>Cette colonne d\u00e9clare le type de syst\u00e8me de fichiers. Il est possible de mettre <code>auto</code> mais cela ralentit le montage des p\u00e9riph\u00e9riques</li> <li>La section <code>&lt;options&gt;</code> :</li> <li>Cette colonne d\u00e9clare les options de montage. Il est possible de mettre <code>defaults</code></li> <li>Les options dans defaults sont : <code>async,nouser,exec,rw,auto,suid,dev</code></li> <li>La section <code>&lt;dump&gt;</code> :</li> <li>Cette colonne est tr\u00e8s faiblement utilis\u00e9e. Elle correspond \u00e0 des param\u00e8tres de configuration de la commande <code>dump</code></li> <li>La section <code>&lt;pass&gt;</code> :</li> <li>Cette section permet de savoir si le syst\u00e8me doit analyser l\u2019int\u00e9grit\u00e9 du syst\u00e8me de fichiers afin de corriger les probl\u00e8mes avant de le monter. (commande <code>fsck</code>)</li> <li>Si la valeur est \u00e0 <code>0</code> : pas de v\u00e9rification, si elle est sup\u00e9rieure \u00e0 0 alors le syst\u00e8me analysera les syst\u00e8mes de fichiers (<code>1</code> pour la racine, <code>2</code> pour les autres)</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#-afin-de-garantir-la-bonne-integration-dune-nouvelle-ligne-dans-le-fichier-etcfstab-il-est-important-de-la-tester-avant-le-redemarrage-du-poste-le-moyen-le-plus-simple-est-dutiliser-la-commande-mount-en-ne-precisant-que-le-point-de-montage","title":"- Afin de garantir la bonne int\u00e9gration d\u2019une nouvelle ligne dans le fichier <code>/etc/fstab</code>, il est important de la tester avant le red\u00e9marrage du poste. Le moyen le plus simple est d\u2019utiliser la commande mount en ne pr\u00e9cisant que le point de montage","text":"<ul> <li>Dans cet exemple, la commande indique qu\u2019elle ne trouve pas d\u2019entr\u00e9e de <code>/srv/data</code> dans le <code>fstab</code></li> <li>Dans le cas o\u00f9 une ligne indique <code>/srv/data</code> dans le fichier <code>fstab</code> alors le montage se fera par rapport aux diff\u00e9rentes d\u00e9clarations</li> <li>Si la commande ne renvoie rien, c\u2019est que le montage s\u2019est correctement effectu\u00e9</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#informations-sur-les-systemes-de-fichiers","title":"Informations sur les syst\u00e8mes de fichiers","text":"<ul> <li>Nous avons d\u00e9j\u00e0 utilis\u00e9 les commandes informatives suivantes :  <code>\u2022 blkid</code> permet de r\u00e9cup\u00e9rer les informations sur les disques, partitions et volumes logiques LVM</li> </ul> <p><code>\u2022 lsblk</code> va donner un affichage plus hi\u00e9rarchis\u00e9 de ces m\u00eames informations </p> <p><code>\u2022 findmnt</code> offre un affichage hi\u00e9rarchis\u00e9 des syst\u00e8mes de </p> <pre><code>df &lt;options&gt; [/point/de/montage]\n</code></pre> <ul> <li>La commande <code>df</code> permet de prendre des informations utiles sur les syst\u00e8mes de fichiers mont\u00e9s</li> <li>Options usuelles :</li> <li><code>-h</code> : affiche la taille en puissance de 1024 (K,M,G\u2026)</li> <li><code>-i</code> : affiche les informations sur les inodes</li> </ul> <p></p> <ul> <li>La commande <code>ls -l</code> ne permet pas de conna\u00eetre la taille d\u2019un r\u00e9pertoire. En effet, elle remonte juste la taille utilis\u00e9e par l\u2019inode du r\u00e9pertoire et non son contenu. Pour conna\u00eetre la taille d\u2019un r\u00e9pertoire, il faut utiliser la commande <code>du</code> (disk usage)</li> </ul> <pre><code>du &lt;options&gt; [/point/de/montage]\n</code></pre> <ul> <li>Options usuelles :</li> <li><code>-h</code> : affiche la taille en puissance de 1024 (K,M,G\u2026)</li> <li><code>-s</code> : n\u2019affiche pas les sous-r\u00e9pertoires mais uniquement le r\u00e9pertoire en argument</li> </ul> <p></p>"},{"location":"Cours%20partag%C3%A9/guigui/09%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/Module%2009%20-%20Gestion%20des%20espaces%20de%20stockage%20%E2%80%93%20File%20System/#conclusion","title":"Conclusion","text":"<ul> <li>Vous savez cr\u00e9er et manipuler des syst\u00e8mes de fichiers Linux</li> <li>Vous savez monter ceux-ci en manuel</li> <li>Vous savez automatiser un montage au d\u00e9marrage du syst\u00e8me d\u2019exploitation</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/","title":"Module 10 \u2013 Gestion des utilisateurs et groupes**","text":""},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#objectifs","title":"Objectifs","text":"<ul> <li>Cr\u00e9er et g\u00e9rer des groupes et utilisateurs</li> <li>Consulter les fichiers de configuration</li> <li>Effectuer une \u00e9l\u00e9vation de privil\u00e8ges en environnement GNU/Linux</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#considerations-generales","title":"Consid\u00e9rations g\u00e9n\u00e9rales","text":""},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#les-identifiants","title":"Les identifiants","text":"<ul> <li>Sous Linux, les utilisateurs sont repr\u00e9sent\u00e9s par deux valeurs importantes : </li> <li>L\u2019<code>UID</code> : l\u2019identifiant <code>utilisateur</code></li> <li>Le <code>GID</code> : l\u2019identifiant du <code>groupe principal</code></li> <li>Il est possible qu\u2019un utilisateur appartienne \u00e0 plusieurs groupes. Il y aura donc les notions de groupe principal et de groupe secondaire.</li> <li> <p>Le groupe principal est le groupe attribu\u00e9 \u00e0 l\u2019utilisateur au moment de sa connexion.</p> </li> <li> <p>Il existe trois types d\u2019utilisateurs :</p> </li> <li><code>root</code> : UID=0, GID=0</li> </ul> <p>C\u2019est le super-administrateur du syst\u00e8me. Il a tout pouvoir. Il est donc conseill\u00e9 d\u2019\u00eatre le moins possible sous cette identit\u00e9, voire fortement conseill\u00e9 de ne pas se connecter avec mais de faire une \u00e9l\u00e9vation de privil\u00e8ges via la commande su -. </p> <p>Sur certains syst\u00e8mes, il sera impossible de se connecter en root dans l\u2019interface graphique.</p> <ul> <li><code>daemon</code> : UID 1-999, GID 1-999 Les utilisateurs compris entre 1 et 999 pour leur UID/GID repr\u00e9sentent les utilisateurs applicatifs (les services). En effet sous Linux 99% des services ne sont pas ex\u00e9cut\u00e9s sous l\u2019identit\u00e9 de root mais sous leur propre identit\u00e9 \u00e0 des fins de s\u00e9curit\u00e9.</li> <li><code>Utilisateur</code> : UID et GID &gt; 1000 Les utilisateurs \u00ab humains \u00bb sont repr\u00e9sent\u00e9s par des UID/GID sup\u00e9rieurs \u00e0 1000.</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#les-fichiers-lies-a-la-gestion-des-groupes","title":"Les fichiers li\u00e9s \u00e0 la gestion des groupes","text":""},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#generalites","title":"G\u00e9n\u00e9ralit\u00e9s","text":"<ul> <li>Les informations concernant les groupes d\u2019un syst\u00e8me Linux sont contenus dans les fichiers <code>/etc/group</code> et <code>/etc/gshadow</code></li> <li>Nous pourrons y prendre des informations, mais nous ne les modifierons jamais directement</li> <li>La manipulation des groupes devra se faire par les commandes d\u00e9di\u00e9es</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#le-fichier-etcgroup","title":"Le fichier <code>/etc/group</code>","text":"<ul> <li>Ce fichier est compos\u00e9 de plusieurs champs, s\u00e9par\u00e9s par le caract\u00e8re  <code>:</code></li> </ul> <ul> <li>Analyse de colonnes</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#le-fichier-etcgshadow","title":"Le fichier <code>/etc/gshadow</code>","text":"<ul> <li>Ce fichier contient les informations cach\u00e9es sur les groupes s\u00e9par\u00e9s par le caract\u00e8re  : . Il est rarement utilis\u00e9</li> </ul> <ul> <li>Analyse de colonnes</li> </ul> <ul> <li>Si le champ du mot de passe contient les caract\u00e8res \u00ab <code>!</code> \u00bb ou \u00ab <code>*</code> \u00bb, les utilisateurs ne pourront pas utiliser le mot de passe pour acc\u00e9der au groupe. </li> <li>Si le champ est vide, dans ce cas seul les membres du groupe pourront obtenir les permissions du groupe.</li> <li>Le champ administrateur contient la liste des administrateurs du groupe s\u00e9par\u00e9 par des virgules. Les administrateurs peuvent modifier le mot de passe et les membres du groupe.</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#commandes-de-gestion-des-groupes","title":"Commandes de gestion des groupes","text":""},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#groupadd","title":"groupadd","text":"<pre><code>groupadd &lt;options&gt; [nom du groupe]\n</code></pre> <ul> <li>Option usuelle :</li> </ul> <p><code>-g [GID]</code> : valeur num\u00e9rique de l\u2019identifiant du groupe.</p> <p>Cette valeur doit \u00eatre unique. </p> <p>Par d\u00e9faut, le plus petit identifiant sup\u00e9rieur au <code>GID_MIN</code> et aux identifiants des groupes existants est utilis\u00e9.</p>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#groupmod","title":"groupmod","text":"<pre><code>groupmod &lt;options&gt; [nom du groupe]\n</code></pre> <ul> <li>Options usuelles :</li> <li><code>-g [GID]</code> : change le GID d\u2019un groupe. Attention aux orphelins des fichiers cr\u00e9\u00e9s pr\u00e9alablement</li> <li><code>-n [nouveau nom]</code> : change le nom du groupe</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#groupdel","title":"groupdel","text":"<pre><code>groupdel &lt;options&gt; [nom du groupe]\n</code></pre> <ul> <li>Cette commande permet de supprimer un groupe s\u2019il est vid\u00e9 de tous ses membres avant</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#gpasswd","title":"gpasswd","text":"<pre><code>gpasswd &lt;options&gt; [nom du groupe]\n</code></pre> <ul> <li>Cette commande permet d\u2019administrer les groupes</li> <li>Options usuelles :</li> <li><code>-a [utilisateur]</code> : ajoute \u00ab utilisateur \u00bb au groupe.</li> <li><code>-d [utilisateur]</code> : supprime \u00ab utilisateur \u00bb au groupe.</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#les-fichiers-lies-a-la-gestion-des-utilisateurs","title":"Les fichiers li\u00e9s \u00e0 la gestion des utilisateurs","text":""},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#informations-concernant-les-utilisateurs","title":"Informations concernant les utilisateurs","text":"<ul> <li>Les informations concernant les utilisateurs d\u2019un syst\u00e8me Linux sont contenus dans les fichiers <code>/etc/passwd</code> et <code>/etc/shadow</code></li> <li>Nous pourrons y prendre des informations, mais nous ne les modifierons jamais directement</li> <li>La manipulation des utilisateurs devra se faire par les commandes d\u00e9di\u00e9es</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#le-fichier-etcpasswd","title":"Le fichier /etc/passwd","text":"<ul> <li>Ce fichier est compos\u00e9 de plusieurs champs, s\u00e9par\u00e9s par le caract\u00e8re  <code>:</code></li> </ul> <ul> <li>En g\u00e9n\u00e9ral, il y a un <code>x</code> dans la colonne du mot de passe, cela indique que le mot de passe est dans le fichier <code>/etc/shadow</code>. </li> <li>Le champ <code>UID</code> indique le num\u00e9ro qui est l\u2019identifiant unique de l\u2019utilisateur.</li> <li>Le champ <code>GID</code> d\u00e9termine quel est le groupe principal de l\u2019utilisateur.</li> <li>Le champ <code>nom,complet</code> comporte des informations compl\u00e9mentaires comme le nom complet, le t\u00e9l\u00e9phone, etc. Ces informations peuvent \u00eatre directement indiqu\u00e9es lors de la cr\u00e9ation de l\u2019utilisateur ou via la commande <code>chfn</code>.</li> <li>Le champ r\u00e9pertoire personnel contient le chemin du r\u00e9pertoire d\u2019accueil de l\u2019utilisateur, si celui-ci a \u00e9t\u00e9 cr\u00e9\u00e9.</li> <li>Le champ shell correspond au chemin du binaire correspondant au shell de l\u2019utilisateur. Il est possible de le modifier avec la commande <code>chsh</code>.</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#le-fichier-etcshadow","title":"Le fichier /etc/shadow","text":"<ul> <li>Ce fichier contient les informations cach\u00e9es des utilisateurs s\u00e9par\u00e9es par le caract\u00e8re  <code>:</code></li> </ul> <ul> <li><code>User</code> : champ contenant le nom de l\u2019utilisateur</li> <li><code>Mot de passe</code> : champ contenant le hash du mot de passe. Cette colonne est compos\u00e9e de 3 champs s\u00e9par\u00e9s par des \u00ab <code>$</code> \u00bb</li> <li><code>Premier champ</code> : algorithme de hashage</li> <li><code>$1$</code> signifie MD5</li> <li><code>$2a$</code> signifie Blowfish</li> <li><code>$2$</code> signifie Blowfish (manipulation correcte de caract\u00e8res 8 bits)</li> <li><code>$5$</code> signifie SHA-256</li> <li><code>$6$</code> signifie SHA-512</li> <li><code>Deuxi\u00e8me champ</code> : le sel (ou grain de sable). C\u2019est une cha\u00eene de caract\u00e8re al\u00e9atoire qui sera ajout\u00e9e au mot de passe avant de faire son hash</li> </ul> <ul> <li><code>Troisi\u00e8me champ</code> : le hash du mot de passe plus son sel. Le hash est une cha\u00eene de caract\u00e8re unique g\u00e9n\u00e9r\u00e9 par l\u2019algorithme de hash. Plus l\u2019algorithme est fort plus le hash est complexe \u00e0 d\u00e9crypter.</li> <li>Le fait d\u2019utiliser un sel dans le stockage des mots de passe permet d\u2019augmenter la s\u00e9curit\u00e9 des mots de passe. Le principe du hash est de g\u00e9n\u00e9rer une cha\u00eene de caract\u00e8re unique d\u2019une certaine taille par rapport \u00e0 une cha\u00eene de caract\u00e8re donn\u00e9e. Donc si deux utilisateurs ont le m\u00eame mot de passe, par exemple \u00ab <code>Pa$$w0rd</code> \u00bb, alors les hashs purs seront identiques. L\u2019ajout du sel fait en sorte que les hashs soient diff\u00e9rents, pourtant les utilisateurs ont le m\u00eame mot de passe.</li> </ul> <ul> <li><code>Date de dernier changement de mot de passe</code> : nombre de jours depuis le 1er janvier 1970 d\u00e9terminant le dernier changement du mot de passe. Une valeur \u00e0 0 force le changement du mot de passe pour l\u2019utilisateur \u00e0 la prochaine connexion. Si ce champ est vide, l\u2019utilisateur ne subit pas les options de vieillissement du mot de passe.</li> <li><code>\u00c2ge minimum</code> : l\u2019\u00e2ge minimum est la dur\u00e9e en jour que l\u2019utilisateur devra attendre avant de pouvoir changer son mot de passe de nouveau. Un champ vide ou \u00e0 0 signifie qu\u2019il n\u2019y a pas d\u2019\u00e2ge minimum.</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#commandes-de-gestion-des-utilisateurs","title":"Commandes de gestion des utilisateurs","text":""},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#useradd","title":"useradd","text":"<pre><code>useradd &lt;options&gt; [utilisateur]\n</code></pre> <ul> <li>Options usuelles :</li> <li><code>-m</code> : useradd cr\u00e9e le r\u00e9pertoire d\u2019accueil de l\u2019utilisateur.</li> <li><code>-d [/chemin/rep/accueil]</code> : r\u00e9pertoire d\u2019accueil de l\u2019utilisateur. Si non indiqu\u00e9, useradd utilisera le nom de l\u2019utilisateur et la valeur de la variable HOME du fichier /etc/default/useradd.</li> <li> <p><code>-u [UID]</code> : indique l\u2019UID de l\u2019utilisateur. Si non renseign\u00e9, useradd utilisera le plus petit UID disponible.</p> </li> <li> <p>-<code>g [GID]</code> : indique le GID du groupe principal de l\u2019utilisateur.</p> </li> <li><code>-G [groupe1,groupe2,groupe*n*]</code> : indique la liste des groupes secondaires de l\u2019utilisateur s\u00e9par\u00e9s par des \u00ab <code>,</code> \u00bb.</li> <li><code>-s</code> : indique le shell de l\u2019utilisateur sous la forme du chemin absolu du binaire.</li> <li><code>-r</code> : indique la cr\u00e9ation d\u2019un utilisateur syst\u00e8me.</li> </ul> <p>Lors de la cr\u00e9ation d\u2019un utilisateur, si l\u2019option <code>\u2013m</code> est pass\u00e9e \u00e0 <code>useradd</code>, alors useradd copiera le contenu du r\u00e9pertoire <code>/etc/skel</code> dans le r\u00e9pertoire d\u2019accueil de l\u2019utilisateur.</p>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#usermod","title":"usermod","text":"<pre><code>usermod &lt;options&gt; [utilisateur]\n</code></pre> <ul> <li>Options usuelles :</li> <li><code>-d [/home/DIR]</code> : indique le nouveau r\u00e9pertoire d\u2019accueil de l\u2019utilisateur. Si l\u2019option <code>\u2013m</code> est fournie, le contenu du r\u00e9pertoire actuel sera d\u00e9plac\u00e9 dans le nouveau r\u00e9pertoire d\u2019accueil</li> <li><code>-e [DATE FIN VALIDITE]</code> : date \u00e0 laquelle le compte utilisateur sera d\u00e9sactiv\u00e9. La date est indiqu\u00e9e dans le format <code>AAAA-MM- JJ</code> ou en nombre de jours depuis le 1er janvier 1970. </li> </ul> <p>Un param\u00e8tre <code>DATE\\_FIN\\_VALIDIT\u00c9</code> vide d\u00e9sactivera l'expiration du compte.</p> <ul> <li><code>-f [DUREE INACTIVITE]</code> : nombre de jours suivant la fin de validit\u00e9 d\u2019un mot de passe apr\u00e8s lequel le compte est d\u00e9finitivement d\u00e9sactiv\u00e9. Une valeur de <code>0</code> d\u00e9sactive le compte d\u00e8s que le mot de passe a d\u00e9pass\u00e9 sa fin de validit\u00e9, et une valeur de <code>-1</code> d\u00e9sactive cette fonctionnalit\u00e9.</li> <li><code>-g [GID]</code> : nom du nouveau groupe principal de l\u2019utilisateur. Tout fichier du r\u00e9pertoire personnel de l'utilisateur appartenant au groupe principal pr\u00e9c\u00e9dent de l'utilisateur appartiendra \u00e0 ce nouveau groupe.</li> </ul> <p>Le groupe propri\u00e9taire des fichiers en dehors du r\u00e9pertoire personnel de l'utilisateur doit \u00eatre modifi\u00e9 manuellement.</p> <pre><code>usermod &lt;options&gt; [utilisateur]\n</code></pre> <ul> <li>Options usuelles :</li> <li><code>-G [groupe1,groupe2,groupen]</code> : liste des groupes secondaires de l\u2019utilisateur. Si l\u2019utilisateur appartient d\u00e9j\u00e0 \u00e0 des groupes secondaires, il est peut-\u00eatre utile d\u2019ajouter l\u2019option -a afin de ne pas perdre ces appartenances. Le groupe propri\u00e9taire des fichiers en dehors du r\u00e9pertoire personnel de l'utilisateur doit \u00eatre modifi\u00e9 manuellement.</li> <li><code>-a</code> : ajouter les groupes suppl\u00e9mentaires \u00e0 l\u2019utilisateur. </li> </ul> <p>\u00c0 n\u2019utiliser qu\u2019avec l\u2019option <code>-G</code>.</p> <pre><code>usermod &lt;options&gt; [utilisateur**]\n</code></pre> <ul> <li>Options usuelles :</li> <li><code>-s [shell]</code> : chemin du nouveau shell de l\u2019utilisateur (peut \u00eatre configur\u00e9 \u00e0 l\u2019aide de la commande <code>chsh</code>).</li> <li>-<code>L</code> : verrouille le mot de passe de l\u2019utilisateur. </li> </ul> <p>Cette option ajoute un \u00ab <code>!</code> \u00bb devant le hash du mot de passe dans <code>/etc/shadow</code>.</p> <p>Remarque : pour verrouiller le compte (et pas seulement l'acc\u00e8s par un mot de passe), il est \u00e9galement n\u00e9cessaire de placer <code>DATE\\_FIN\\_VALIDIT\u00c9</code> \u00e0 <code>1</code>.</p> <ul> <li><code>-U</code> : d\u00e9verrouille le mot de passe de l\u2019utilisateur.</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#userdel","title":"userdel","text":"<pre><code>userdel &lt;options&gt; [nom du groupe]\n</code></pre> <ul> <li>Cette commande permet de supprimer un utilisateur.</li> <li>Option usuelle :</li> <li><code>-r</code> : les fichiers pr\u00e9sents dans le r\u00e9pertoire d\u2019accueil de l\u2019utilisateur seront \u00e9galement supprim\u00e9s. Les fichiers de l\u2019utilisateur pr\u00e9sents dans d\u2019autres r\u00e9pertoires ne seront pas supprim\u00e9s.</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#passwd","title":"passwd","text":"<pre><code>passwd &lt;options&gt; [utilisateur]\n</code></pre> <ul> <li>En plus de pouvoir changer le mot de passe, si root l\u2019ex\u00e9cute, <code>passwd</code> modifiera suivant les options pass\u00e9es les champs du fichier <code>/etc/shadow|</code>.</li> <li>Options usuelles :</li> <li><code>-e [utilisateur]</code> : annuler imm\u00e9diatement la validit\u00e9 du mot de passe d\u2019un utilisateur. Celui-ci sera oblig\u00e9 de changer son mot de passe \u00e0 sa prochaine connexion.</li> <li><code>-l [utilisateur]</code> : verrouille le mot de passe en ajoutant un \u00ab <code>!</code> \u00bb devant le hash du mot de passe dans <code>/etc/shadow</code>.</li> <li><code>-u [utilisateur]</code> : d\u00e9verrouille le mot de passe en supprimant le \u00ab <code>!</code> \u00bb devant le hash du mot de passe dans <code>/etc/shadow</code>.</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#changement-didentite-et-elevation-de-privileges","title":"Changement d\u2019identit\u00e9 et \u00e9l\u00e9vation de privil\u00e8ges","text":""},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#la-commande-su","title":"La commande su","text":"<pre><code>su &lt;options&gt; [utilisateur]\n</code></pre> <ul> <li><code>su</code> permet de changer d\u2019utilisateur ou d\u2019ex\u00e9cuter une commande sous l\u2019identit\u00e9 d\u2019un autre utilisateur. </li> <li>Si la commande est invoqu\u00e9e par un simple utilisateur, il faudra qu\u2019il connaisse le mot de passe de l\u2019autre utilisateur. </li> <li><code>su</code> peut aussi permettre de devenir root. </li> <li><code>-s [shell]</code> : pr\u00e9ciser le shell \u00e0 utiliser pour l\u2019ouverture de session.</li> <li>ou <code>-l [utilisateur]</code> : faire un changement complet d\u2019identit\u00e9 (charge les variables d\u2019environnement de l\u2019utilisateur cible).</li> <li><code>-c [cmd]</code> : ex\u00e9cuter la commande, il est conseill\u00e9 de mettre la commande entre simples quote.</li> </ul>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#la-commande-sudo","title":"La commande sudo","text":"<pre><code>sudo &lt;options&gt; [commande]\n</code></pre> <ul> <li>La commande <code>sudo</code> permet de d\u00e9l\u00e9guer des t\u00e2ches pr\u00e9cises d'administration \u00e0 certains utilisateurs. Par exemple, il sera possible d'accorder les privil\u00e8ges de gestion des utilisateurs \u00e0 un groupe d'utilisateurs.</li> <li>Nous ne rentrerons pas dans les d\u00e9tails dans ce cours.</li> <li>Afin qu\u2019un utilisateur puisse utiliser la commande <code>sudo</code>, il faut qu\u2019il soit renseign\u00e9 dans le fichier de configuration <code>/etc/sudoers</code> et renseigner les commandes qu\u2019il pourra utiliser.</li> </ul> <ul> <li>De fa\u00e7on simple, il est possible de donner tous les droits root \u00e0 un utilisateur en ajoutant le groupe <code>sudo</code> \u00e0 l\u2019utilisateur.</li> <li>L\u2019utilisation de la commande <code>sudo</code> demande le mot de passe de l\u2019utilisateur et non celui de root. L\u2019\u00e9l\u00e9vation de privil\u00e8ge sera gard\u00e9e en m\u00e9moire pour cinq minutes par d\u00e9faut.</li> </ul> <p>Lorsque vous utilisez l'option \"<code>-i</code>\", la session interactive en tant que superutilisateur est ouverte avec un nouvel environnement et un nouveau r\u00e9pertoire de travail. Cela signifie que vous obtenez un shell (interpr\u00e9teur de commandes) avec les variables d'environnement et les param\u00e8tres du superutilisateur.</p>"},{"location":"Cours%20partag%C3%A9/guigui/10%20-%20Gestion%20des%20utilisateurs%20et%20des%20groupes/Module%2010%20-%20Support%20de%20cours/#conclusion","title":"Conclusion","text":"<ul> <li>Vous savez cr\u00e9er et g\u00e9rer des groupes et utilisateurs</li> <li>Vous savez consulter les fichiers de configuration</li> <li>Vous savez effectuer une \u00e9l\u00e9vation de privil\u00e8ges en environnement GNU/Linux</li> </ul>"},{"location":"demo/demo-vim/","title":"R\u00e9sum\u00e9 VIM","text":""},{"location":"demo/demo-vim/#les-modes","title":"Les modes","text":""},{"location":"demo/demo-vim/#mode-commande","title":"Mode commande","text":"<ul> <li>Effectuer des actions (copier, supprimer, enregistrer, ...)</li> <li>On peut pas \u00e9crire dans ce mode</li> <li>On revient en mode commande via ma touche <code>Esc</code></li> </ul>"},{"location":"demo/demo-vim/#mode-insertion","title":"Mode insertion","text":"<ul> <li>Utilis\u00e9 pour \u00e9crire du contenu</li> </ul> <p>Plusieurs touches pour passer dans ce mode:</p> <ul> <li><code>i</code> : on ins\u00e8re avant le curseur</li> <li><code>a</code> : on ajoute apr\u00e8s le curseur</li> <li><code>I</code> : on ins\u00e8re en d\u00e9but de ligne</li> <li><code>A</code> : on ajoute en fin de ligne</li> <li><code>o</code> : on cr\u00e9e une nouvelle ligne en dessous</li> <li><code>O</code> : on cr\u00e9e une nouvelle ligne au dessus</li> </ul>"},{"location":"demo/demo-vim/#mode-visuel","title":"Mode visuel","text":"<ul> <li>Permet de s\u00e9lectionner du contenu, pour y apporter des modification ou effectuer certaines actions</li> </ul> <p>Plusieurs touches :</p> <ul> <li><code>v</code> : permet de s\u00e9lectionner des lignes enti\u00e8res</li> <li><code>Ctrl+v</code> : permet de s\u00e9lectionner du contenu en mode bloc</li> </ul>"},{"location":"demo/demo-vim/#les-commandes","title":"Les commandes","text":""},{"location":"demo/demo-vim/#de-base","title":"De base","text":"<ul> <li><code>:e nom_du_fichier</code> : ouvrir un fichier existant, ou pr\u00e9parer un nouveau fichier</li> <li><code>:q</code> : ferme le fichier, si pas de modifications. En cas de modifications non sauvegard\u00e9es, utiliser <code>:q!</code> pour forcer la fermeture</li> <li><code>:w</code> : sauvegarder les modifications. <code>:w nom_du_fichier</code> pour sauvegarder sous un nouveau nom</li> <li><code>:wq</code> : sauvegarder et quitter, change forc\u00e9ment la date de derni\u00e8re modif</li> <li><code>:x</code> : sauvegarder si n\u00e9cessaire et quitter, ne change la date de derni\u00e8re modif qu'en cas de modification de contenu</li> <li><code>:shell</code> : on ouvre un shell, sans fermer Vim, puis on retourne dans l'\u00e9dition du fichier une fois tap\u00e9 <code>Ctrl+d</code> ou <code>exit</code></li> <li> <p><code>:terminal</code> : on ouvre un shell sous le contenu ouvert</p> <ul> <li>on peut basculer du shell au contenu avec <code>Ctrl+ww</code></li> <li>on ferme le terminal avec <code>Ctrl+d</code> ou <code>exit</code> (en ayant le focus dedans)</li> </ul> </li> <li> <p><code>:vs nom_du_fichier</code> : split verticalement et ouvre le fichier \u00e0 droite</p> </li> <li> <p><code>:sp</code> : split horizontalement et ouvre le fichier</p> <ul> <li>on peut basculer du shell au contenu avec <code>Ctrl+ww</code></li> </ul> </li> <li> <p><code>set nu</code>: affiche les num\u00e9ros de lignes</p> </li> </ul>"},{"location":"demo/demo-vim/#de-navigation","title":"De navigation","text":"<ul> <li><code>:numero_de_ligne</code> : se positionne sur la ligne souhait\u00e9e</li> <li> <p><code>/terme</code> : se positionne sur la prochaine occurence de terme</p> <ul> <li><code>n</code> : se positionner \u00e0 la prochaine occurence</li> <li><code>N</code> : se positionner \u00e0 l'occurence pr\u00e9c\u00e9dente</li> </ul> </li> <li> <p><code>G</code> : se positionne sur la derni\u00e8re ligne</p> </li> <li><code>gg</code> ou <code>:1</code> : se positionne sur la premi\u00e8re ligne</li> <li><code>$</code> : se positionne en fin de ligne</li> <li><code>^^</code> : se positionne en d\u00e9but de ligne</li> <li><code>w</code>: se positionne sur le mot suivant</li> <li><code>10w</code>: se positionne sur au 10\u00e8me mot apr\u00e8s le curseur</li> <li><code>b</code>: se positionne sur le mot pr\u00e9c\u00e9dent</li> <li><code>10b</code>: se positionne sur au 10\u00e8me mot pr\u00e9c\u00e9dent le curseur</li> </ul>"},{"location":"demo/demo-vim/#de-manipulation-de-texte","title":"De manipulation de texte","text":"<ul> <li><code>dd</code> : supprime la ligne sous le curseur (<code>d</code> en mode visuel) et place le contenu en m\u00e9moire</li> <li><code>10dd</code> : supprime les 10 lignes \u00e0 partir de la ligne courrante et place le contenu en m\u00e9moire</li> <li><code>yy</code> : copie la ligne sous le curseur (<code>d</code> en mode visuel) et place le contenu en m\u00e9moire</li> <li><code>10yy</code> : copie les 10 lignes \u00e0 partir de la ligne courrante et place le contenu en m\u00e9moire</li> <li><code>p</code> : colle le contenu en m\u00e9moire (sous le curseur)</li> <li><code>P</code> : colle le contenu en m\u00e9moire (au dessus du curseur)</li> <li><code>cw</code> : supprimer le mot, place le contenu en m\u00e9moire et passe en mode insertion</li> <li><code>20cw</code> : supprimer les 20 prochains mots, place le contenu en m\u00e9moire et passe en mode insertion</li> <li><code>x</code> supprime le caract\u00e8re sous le curseur</li> <li><code>3x</code> supprime les 3 prochains caract\u00e8res sous le curseur</li> <li><code>d$</code> supprime tout ce qui suit le curseur, jusqu'\u00e0 la fin de ligne</li> <li><code>d^^</code> supprime tout ce qui pr\u00e9c\u00e8de le curseur, jusqu'\u00e0 la fin de ligne</li> <li><code>:s/foo/bar/</code> : substitution de la prochaine occurence de foo par bar sur la ligne courrante</li> <li><code>:s/foo/bar/g</code> : substitution de toutes les occurences de foo par bar sur la ligne courrante</li> <li><code>:.,.+10s/foo/bar/g</code> : substitution de toutes les occurences de foo par bar sur les 10 prochaines lignes, dont la ligne courrante</li> <li><code>:10,20s/foo/bar/g</code> : substitution de toutes les occurences de foo par bar pr\u00e9sentes entre les lignes 10 et 20</li> <li><code>:%s/foo/bar/g</code> : substitution de toutes les occurences de foo par bar pr\u00e9sentes dans le fichier entier (%)</li> </ul>"},{"location":"demo/githubnoteav/","title":"mini site avec github et mkdocs","text":""},{"location":"demo/githubnoteav/#initialisation-de-git","title":"Initialisation de Git","text":"<ol> <li> <p>Initialiser le r\u00e9pertoire actuel avec Git:</p> <p>git init</p> </li> <li> <p>Configurer votre nom d'utilisateur et votre adresse e-mail pour Git :</p> <p>git config user.name \"mon prenom\" git config user.email \"monemail@mail.com\"</p> </li> <li> <p>V\u00e9rifier le statut du r\u00e9pertoire :</p> <p>git status</p> </li> <li> <p>Ajouter un dossier pour le commit :</p> <p>git add mondossier/</p> </li> <li> <p>Cr\u00e9er un commit :</p> <p>git commit -m 'nomducommit'</p> </li> <li> <p>Consulter l'historique des commits :</p> <p>git log</p> </li> </ol>"},{"location":"demo/githubnoteav/#publier-sur-github","title":"Publier sur GitHub","text":"<ol> <li> <p>Cr\u00e9er un nouveau d\u00e9p\u00f4t sur GitHub. Donner un nom + options appropri\u00e9es.</p> </li> <li> <p>Une fois le d\u00e9p\u00f4t cr\u00e9\u00e9, liez-le \u00e0 votre projet local :</p> <p>git remote add origin \"adresse du d\u00e9p\u00f4t\" git push -u origin main</p> </li> </ol>"},{"location":"demo/githubnoteav/#creation-du-site-avec-mkdocs","title":"Cr\u00e9ation du site avec MkDocs","text":"<p>Configuration de l'environnement</p> <ol> <li> <p>Installez python3-pip et python3-venv.</p> </li> <li> <p>Cr\u00e9ez un environnement virtuel :</p> <p>python3 -m venv .venv</p> </li> <li> <p>Pour \u00e9viter que Git suive le dossier .venv, cr\u00e9ez un fichier .gitignore dans le dossier racine du projet avec le contenu suivant : </p> </li> <li> <p>.venv/</p> </li> </ol> <p>Ensuite, ajoutez et validez ce fichier :</p> <p>git add .gitignore git commit -m 'build: add .gitignore'</p> <ol> <li>Activez l'environnement virtuel : <p>source .venv/bin/activate</p> </li> </ol>"},{"location":"demo/githubnoteav/#installation-et-utilisation-de-mkdocs","title":"Installation et utilisation de MkDocs","text":"<ol> <li> <p>Installez MkDocs :</p> <p>pip install mkdocs</p> </li> <li> <p>Cr\u00e9ez un nouveau projet MkDocs dans le r\u00e9pertoire courant :</p> <p>mkdocs new .</p> </li> <li> <p>Lancer la documentation en local :</p> <p>mkdocs serve</p> </li> <li> <p>Modifier le fichier de configuration mkdocs.yml pour y indiquer le nom de votre site :</p> <p>sitename: monsite</p> </li> <li> <p>Ajouter modifications locales au d\u00e9p\u00f4t :</p> <p>git add . git commit -m \"Description du commit\" git push origin main</p> </li> <li> <p>D\u00e9ployer documentation sur GitHub Pages :</p> <p>mkdocs gh-deploy</p> </li> </ol> <p>Pour trouver le site aller dans \"Settings\" -&gt; \"General\" -&gt; \"Pages\" pour consulter le lien vers votre documentation h\u00e9berg\u00e9e.</p>"},{"location":"script/githubdeploy/deploy/","title":"Deploy","text":"<pre><code>#!/bin/bash\n\n# Construire le site MkDocs\nmkdocs build\n\n# Ajouter toutes les modifications \u00e0 git\ngit add .\n\n# Commiter les modifications\nread -p \"Entrez le message de commit : \" commitMessage\ngit commit -m \"$commitMessage\"\n\n# Pousser vers la branche principale (ou master) !!! ATENTION modifier instruction si deployement sur MAIN\ngit push origin master\n\n# D\u00e9ployer sur GitHub Pages\nmkdocs gh-deploy\n</code></pre>"},{"location":"script/pdf_to_md_windows/Read-me/","title":"Read me","text":"<p>Installation :</p> <p>Installer Python via le microsoft store (important)</p> <p>Installer la biblioth\u00e8que PyMuPDF : Ouvrez une invite de commande (CMD) en recherchant \"cmd\" dans la barre de recherche de Windows, puis ex\u00e9cutez la commande suivante pour installer la biblioth\u00e8que PyMuPDF :</p> <p>Dans un terminal, entrez ce code :</p> <p>pip install PyMuPDF</p> <p>Pr\u00e9alablement, cr\u00e9ez deux dossiers :</p> <p>un dossier pour les pdf \u00e0 transformer un dossier pour les .md de sortie</p> <p>Pr\u00e9parer les chemins des fichiers :</p> <p>Ouvrez le fichier pdf_to_md_converter.py que vous venez d'enregistrer dans un \u00e9diteur de texte, et modifiez les variables pdf_input_path et md_output_path en rempla\u00e7ant les chemins par les chemins r\u00e9els de vos dossiers PDF d'entr\u00e9e et du dossier Markdown de sortie.</p> <p>Enregistrez les modifications. </p> <p>Ex\u00e9cuter le script : Ouvrez une invite de commande (CMD) et naviguez jusqu'au r\u00e9pertoire o\u00f9 vous avez enregistr\u00e9 le fichier .py. Utilisez la commande cd pour vous d\u00e9placer dans le bon r\u00e9pertoire. Ensuite, ex\u00e9cutez le script en tapant :</p> <p>python pdf_to_md_converter.py</p> <p>Assurez-vous que vous \u00eates dans le m\u00eame r\u00e9pertoire que le fichier .py lors de l'ex\u00e9cution de cette commande.</p> <p>(ou clic droit &gt; executer avec Python  ;) )</p> <p>V\u00e9rifier le r\u00e9sultat : Apr\u00e8s avoir ex\u00e9cut\u00e9 le script, vous devriez voir des messages dans la console indiquant que la conversion est termin\u00e9e et que le(s) fichier(s) Markdown a/ont \u00e9t\u00e9 cr\u00e9\u00e9(s). Vous trouverez le(s) fichier(s) Markdown converti(s) au chemin que vous avez sp\u00e9cifi\u00e9 dans la variable md_output_path.</p> <p>C'est tout ! Vous avez maintenant install\u00e9 et ex\u00e9cut\u00e9 le script de conversion de PDF en Markdown.</p>"},{"location":"script/pdf_to_md_windows/pdf_to_md_converter/","title":"Pdf to md converter","text":"<pre><code>import os\nimport fitz\n\n# Chemin du r\u00e9pertoire contenant les fichiers PDF\npdf_directory = \"C:\\\\Users\\\\Guillaume\\\\OneDrive\\\\Documents\\\\ENI TSSR\\\\Notes\\\\PDF_TO_MD\\\\PDF_INPUT\"\n\n# Chemin du r\u00e9pertoire de sortie pour les fichiers Markdown\nmd_output_directory = \"C:\\\\Users\\\\Guillaume\\\\OneDrive\\\\Documents\\\\ENI TSSR\\\\Notes\\\\PDF_TO_MD\\\\PDF_OUTPUT\"\n\n# Parcourir les fichiers PDF dans le r\u00e9pertoire\nfor pdf_file in os.listdir(pdf_directory):\n    if pdf_file.lower().endswith(\".pdf\"):\n        pdf_input_path = os.path.join(pdf_directory, pdf_file)\n        md_output_path = os.path.join(md_output_directory, os.path.splitext(pdf_file)[0] + \".md\")\n\n        doc = fitz.open(pdf_input_path)\n        md_content = \"\"\n        is_list = False\n\n        for page_num in range(doc.page_count):\n            page = doc[page_num]\n            blocks = page.get_text(\"blocks\")\n\n            for b in blocks:\n                text = b[4]\n                font_size = b[1]\n                font_flags = b[5]\n\n                # Ignorer les blocs qui semblent \u00eatre des images\n                if \"image:\" in text.lower():\n                    continue\n\n                # D\u00e9tecter les niveaux de titres en fonction de la taille de la police et du style\n                if font_size &gt;= 12 and font_flags == 1:  # V\u00e9rifier si le texte est en gras\n                    md_content += \"# \" + text.strip() + \"\\n\\n\"\n                elif font_size &gt;= 10 and font_flags == 1:\n                    md_content += \"## \" + text.strip() + \"\\n\\n\"\n                elif font_size &gt;= 8 and font_flags == 1:\n                    md_content += \"### \" + text.strip() + \"\\n\\n\"\n                else:\n                    if is_list and text.strip().startswith(\"-\"):\n                        md_content += \"- \" + text.strip()[1:].strip() + \"\\n\"\n                    elif is_list:\n                        md_content += \"  \" + text.strip() + \"\\n\"\n                    else:\n                        md_content += text.strip() + \"\\n\\n\"\n\n                # D\u00e9tecter si la ligne est une liste\n                if text.strip().startswith(\"-\"):\n                    is_list = True\n                else:\n                    is_list = False\n\n        doc.close()\n\n        with open(md_output_path, \"w\", encoding=\"utf-8\") as md_file:\n            md_file.write(md_content)\n\n        print(\"Conversion termin\u00e9e :\", pdf_input_path, \"-&gt;\", md_output_path)\n\n</code></pre>"},{"location":"script/pdftomarkdown/Readme/","title":"Readme","text":"<p>readme de scriptpdftomarkdown.py Version 5 A vincent 03/08/2023  </p>"},{"location":"script/pdftomarkdown/Readme/#description","title":"Description","text":"<p>Conversion de PDF en Markdown Ce script permet de convertir des fichiers PDF en fichiers Markdown, y compris les images incluses dans les PDF.  Il fonctionne sous Debian et d'autres syst\u00e8mes Linux.</p>"},{"location":"script/pdftomarkdown/Readme/#etapes-dinstallation","title":"\u00c9tapes d'installation","text":"<p>(en root ou ajouter sudo)</p>"},{"location":"script/pdftomarkdown/Readme/#installer-python","title":"Installer Python","text":"<p>Assurez-vous que Python 3 est install\u00e9 sur votre syst\u00e8me. Vous pouvez l'installer en ex\u00e9cutant:</p> <p>apt update apt install python3</p>"},{"location":"script/pdftomarkdown/Readme/#installer-pip-gestionnaire-de-paquets-python","title":"Installer PIP (Gestionnaire de paquets Python)","text":"<p>Installez PIP pour faciliter l'installation des d\u00e9pendances:</p> <p>apt install python3-pip</p>"},{"location":"script/pdftomarkdown/Readme/#installer-les-dependances","title":"Installer les D\u00e9pendances","text":"<p>Ex\u00e9cutez la commande suivante pour installer les d\u00e9pendances requises:</p> <p>pip3 install PyPDF2 pdf2image tabulate mistune</p>"},{"location":"script/pdftomarkdown/Readme/#installer-poppler-pour-pdf2image","title":"Installer Poppler (pour pdf2image)","text":"<p>La biblioth\u00e8que pdf2image n\u00e9cessite Poppler pour fonctionner. Installez-le avec:</p> <p>apt install poppler-utils</p>"},{"location":"script/pdftomarkdown/Readme/#utilisation-du-script","title":"Utilisation du Script","text":"<p>Sauvegard\u00e9 le script dans un emplacement accessible sur votre syst\u00e8me.</p> <p>Ouvrez un terminal et naviguez vers le r\u00e9pertoire o\u00f9 se trouve le script. </p> <p>Lancez-le avec:</p> <p>python3 scriptpdftomarkdown5.py</p> <p>Sp\u00e9cifiez le chemin du dossier contenant les PDF:  Le script vous demandera de sp\u00e9cifier le chemin du dossier o\u00f9 se trouvent les fichiers PDF \u00e0 convertir.  Vous pouvez sp\u00e9cifier un chemin absolu ou relatif.</p> <p>Le script cr\u00e9era un dossier pour chaque fichier PDF et sauvegardera le fichier Markdown ainsi que les images associ\u00e9es dans ce dossier.</p>"},{"location":"script/pdftomarkdown/Readme/#licence-libre","title":"Licence libre","text":"<p>Ce script est sans garantie. si votre ordinateur explose et que vous vous blessiez gravement, si votre femme vous quitte, ou que le ciel vous tombe sur la t\u00eate: Dans tout les cas: je ne suis pas responsable.</p>"},{"location":"script/pdftomarkdown/scriptpdftomarkdown5/","title":"Scriptpdftomarkdown5","text":"<pre><code>import PyPDF2\nfrom pdf2image import convert_from_path\nimport glob\nimport os\nimport shutil\n\n#Lire Readme !!!!!!!!!!!!!\n#Avincent 05082023\n\ndef extract_pdfs(source_folder, target_folder):\n    # Trouver tous les fichiers PDF dans le dossier source et les sous-dossiers\n    pdf_files = []\n    for root, dirs, files in os.walk(source_folder):\n        for file in files:\n            if file.endswith(\".pdf\"):\n                pdf_files.append(os.path.join(root, file))\n\n    # Copier les fichiers PDF trouv\u00e9s dans le dossier cible\n    for pdf_file in pdf_files:\n        shutil.copy(pdf_file, target_folder)\n        print(f\"Copi\u00e9: {pdf_file} -&gt; {target_folder}\")\n\ndef extract_text_and_images(pdf_path, output_folder):\n    images = []\n    pdf_reader = PyPDF2.PdfReader(pdf_path)\n    text = \"\"\n    for page_num in range(len(pdf_reader.pages)):\n        page = pdf_reader.pages[page_num]\n        # Extraire le texte de la page\n        page_text = page.extract_text()\n        text += page_text + \"\\n\"\n        # Convertir la page PDF en image\n        image = convert_from_path(pdf_path, first_page=page_num, last_page=page_num + 1)[0]\n        # Sauvegarder l'image dans le dossier de sortie\n        image_path = os.path.join(output_folder, f\"image{page_num}.png\")\n        image.save(image_path)\n        images.append(image_path)\n    return text, images\n\ndef main():\n    source_folder = input(\"Veuillez entrer le chemin du dossier contenant les PDF: \")\n    target_folder = \"target_pdfs\"\n    os.makedirs(target_folder, exist_ok=True)\n    # Extraire les PDF du dossier source vers le dossier cible\n    extract_pdfs(source_folder, target_folder)\n\n    pdf_paths = glob.glob(os.path.join(target_folder, '*.pdf'))\n    for pdf_path in pdf_paths:\n        # Cr\u00e9er un dossier avec le nom du PDF\n        output_folder = os.path.basename(pdf_path).replace('.pdf', '')\n        os.makedirs(output_folder, exist_ok=True)\n\n        # Extraire le texte et les images du PDF\n        text, images = extract_text_and_images(pdf_path, output_folder)\n        markdown_content = text\n\n        # Ajouter les images au contenu Markdown en utilisant un chemin relatif\n        for page_num, image in enumerate(images):\n            relative_image_path = f\"image{page_num}.png\" # Chemin relatif \u00e0 l'emplacement du fichier Markdown\n            markdown_content += f\"![Image]({relative_image_path})\\n\"\n\n        # Sauvegarder le contenu Markdown dans un fichier\n        output_file_name = os.path.join(output_folder, os.path.basename(pdf_path).replace('.pdf', '.md'))\n        with open(output_file_name, 'w', encoding='utf-8') as file:\n            file.write(markdown_content)\n\n        print(f\"Fichier Markdown {output_file_name} g\u00e9n\u00e9r\u00e9 avec succ\u00e8s.\")\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"script/powershell/MVpdf/","title":"MVpdf","text":"<pre><code># D\u00e9finir le chemin du dossier source et du dossier de destination\n$sourceDir = \"C:\\chemin\\vers\\le\\dossier\\source\"\n$destDir = \"C:\\chemin\\vers\\le\\dossier\\destination\"\n\n# Rechercher tous les fichiers .pdf, \u00e0 l'exclusion des .zip, et les copier vers le dossier de destination\nGet-ChildItem -Path $sourceDir -Recurse -File -Filter \"*.pdf\" | Where-Object { $_.Extension -ne \".zip\" } | ForEach-Object {\n    $dest = $destDir + $_.FullName.Substring($sourceDir.Length)\n    $destFolder = Split-Path -Path $dest -Parent\n    if (-not (Test-Path $destFolder)) {\n        New-Item -Path $destFolder -ItemType Directory\n    }\n    Copy-Item -Path $_.FullName -Destination $dest\n}\n\nWrite-Output \"Copie termin\u00e9e.\"\n</code></pre>"},{"location":"script/powershell/mvpdf/","title":"Mvpdf","text":"<pre><code>#ce script extrait les fichier qui contiennent \"Support de cours\" dans leur nom et les renomes avec le noms du dossier qui les contiennent\n\n# D\u00e9finir le chemin du dossier source et du dossier de destination\n$sourceDir = \"C:\\chemin\\vers\\le\\dossier\\source\"\n$destDir = \"C:\\chemin\\vers\\le\\dossier\\destination\"\n\n# Rechercher tous les fichiers .pdf, \u00e0 l'exclusion des .zip, qui contiennent \"Support de cours\" dans leur nom\nGet-ChildItem -Path $sourceDir -Recurse -File -Filter \"*.pdf\" | Where-Object { $_.Extension -ne \".zip\" -and $_.Name -like \"*Support de cours*\" } | ForEach-Object {\n    $dest = $destDir + $_.FullName.Substring($sourceDir.Length)\n    $destFolder = Split-Path -Path $dest -Parent\n    $folderName = Split-Path $_.Directory -Leaf\n    $newFileName = \"${folderName}_$($_.Name)\"\n\n    if (-not (Test-Path $destFolder)) {\n        New-Item -Path $destFolder -ItemType Directory\n    }\n\n    $destFullPath = Join-Path -Path $destFolder -ChildPath $newFileName\n    Copy-Item -Path $_.FullName -Destination $destFullPath\n}\n\nWrite-Output \"Copie et renommage termin\u00e9s.\"\n</code></pre>"},{"location":"script/traitement%20fichier%20cours/","title":"Traitement de Texte avec OpenAI","text":"<p>Ce script Python permet de traiter du contenu texte \u00e0 partir de fichiers Markdown (.md) en utilisant l'API OpenAI. Il d\u00e9coupe les textes en morceaux, formule la demande \u00e0 OpenAI pour chaque morceau, puis assemble le r\u00e9sultat final.</p>"},{"location":"script/traitement%20fichier%20cours/#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>Python 3.x</li> <li>Biblioth\u00e8que openai (\u00e0 installer via pip install openai)</li> </ul>"},{"location":"script/traitement%20fichier%20cours/#configuration","title":"Configuration","text":"<p>Avant d'ex\u00e9cuter le script, remplacez 'VOTRE_CL\u00c9_API' par votre cl\u00e9 API OpenAI.</p>"},{"location":"script/traitement%20fichier%20cours/#utilisation","title":"Utilisation","text":"<ol> <li>Ex\u00e9cutez le script.</li> <li>Lorsque vous y \u00eates invit\u00e9, entrez le chemin du dossier source contenant les fichiers .md que vous souhaitez traiter.</li> <li>Ensuite, entrez le chemin du dossier de destination o\u00f9 vous souhaitez que les fichiers trait\u00e9s soient enregistr\u00e9s.</li> </ol> <p>Les fichiers trait\u00e9s seront enregistr\u00e9s dans le dossier de destination avec le pr\u00e9fixe trait\u00e9_ ajout\u00e9 \u00e0 leur nom.</p>"},{"location":"script/traitement%20fichier%20cours/#note","title":"Note","text":"<p>Ce script conserve la structure des sous-dossiers du dossier source lors de l'enregistrement des fichiers dans le dossier de destination.</p> <p>Akvar42 2023 version 2 libre</p>"},{"location":"script/traitement%20fichier%20cours/IAmark2/","title":"IAmark2","text":"<pre><code>import openai\nimport os\n\n# Configuration de l'API OpenAI\nopenai.api_key = 'VOTRE_CL\u00c9_API'\n\ndef traiter_texte(texte):\n    taille_max = 2000\n    morceaux = [texte[i:i+taille_max] for i in range(0, len(texte), taille_max)]\n    texte_trait\u00e9 = \"\"\n\n    for morceau in morceaux:\n        # Utiliser l'API OpenAI pour traiter le morceau de texte\n        reponse = openai.Completion.create(\n            engine=\"davinci\", \n            prompt=f\"Extrait les donn\u00e9es pertinentes de ce texte :\\n\\n{morceau}\\n\\net mets-les en page en Markdown.\",\n            max_tokens=1000,  # Ajustez cette valeur en fonction de vos besoins\n            temperature=0.5,\n            top_p=1.0,\n            frequency_penalty=0,\n            presence_penalty=0,\n            stop=None,\n            language=\"fr\"\n        )\n        texte_trait\u00e9 += reponse.choices[0].text.strip()\n\n    return texte_trait\u00e9\n\ndef traiter_fichiers(dossier_source, dossier_destination):\n    for root, dirs, files in os.walk(dossier_source):\n        for fichier in files:\n            if fichier.endswith('.md'):\n                chemin_fichier = os.path.join(root, fichier)\n                with open(chemin_fichier, 'r', encoding='utf-8') as f:\n                    contenu = f.read()\n\n                    # Traiter le contenu\n                    contenu_trait\u00e9 = traiter_texte(contenu)\n\n                    # Chemin relatif pour conserver la structure du sous-dossier\n                    chemin_relatif = os.path.relpath(root, dossier_source)\n                    dossier_destination_final = os.path.join(dossier_destination, chemin_relatif)\n\n                    # Cr\u00e9er le sous-dossier dans le dossier de destination si n\u00e9cessaire\n                    if not os.path.exists(dossier_destination_final):\n                        os.makedirs(dossier_destination_final)\n\n                    # \u00c9crire le contenu trait\u00e9 dans le dossier de destination\n                    chemin_fichier_trait\u00e9 = os.path.join(dossier_destination_final, 'trait\u00e9_' + fichier)\n                    with open(chemin_fichier_trait\u00e9, 'w', encoding='utf-8') as f_out:\n                        f_out.write(contenu_trait\u00e9)\n\nif __name__ == \"__main__\":\n    dossier_source = input(\"Entrez le chemin du dossier source contenant les fichiers .md : \")\n    dossier_destination = input(\"Entrez le chemin du dossier de destination pour les fichiers trait\u00e9s : \")\n    traiter_fichiers(dossier_source, dossier_destination)\n\n</code></pre>"}]}